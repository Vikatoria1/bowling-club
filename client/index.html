<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Боулинг-клуб "Ключ" | Вологда</title>
    <style>
        /* ОБЩИЕ СТИЛИ */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        :root {
            --primary-blue: #1e3a8a;
            --secondary-blue: #3b82f6;
            --accent-orange: #f97316;
            --light-orange: #fb923c;
            --white: #ffffff;
            --light-gray: #f8fafc;
            --medium-gray: #e2e8f0;
            --dark-gray: #64748b;
            --text-dark: #1e293b;
            --success: #10b981;
            --warning: #f59e0b;
            --error: #ef4444;
        }
        
        body {
            background-color: var(--light-gray);
            color: var(--text-dark);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }
        
        /* ШАПКА САЙТА */
        header {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--secondary-blue) 100%);
            color: var(--white);
            padding: 15px 0;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            position: sticky;
            top: 0;
            z-index: 100;
        }
        
        .header-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            display: flex;
            align-items: center;
            gap: 12px;
        }
        
        .logo-icon {
            font-size: 32px;
            color: var(--accent-orange);
        }
        
        .logo h1 {
            font-size: 24px;
            font-weight: 700;
        }
        
        nav ul {
            display: flex;
            list-style: none;
            gap: 25px;
        }
        
        nav ul li a {
            color: var(--white);
            text-decoration: none;
            font-weight: 500;
            transition: all 0.3s;
            padding: 8px 12px;
            border-radius: 6px;
        }
        
        nav ul li a:hover, nav ul li a.active {
            background-color: rgba(255, 255, 255, 0.15);
        }
        
        .user-section {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .user-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .user-avatar {
            width: 36px;
            height: 36px;
            border-radius: 50%;
            background-color: var(--accent-orange);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            background-color: var(--accent-orange);
            color: var(--white);
            padding: 10px 20px;
            border-radius: 8px;
            text-decoration: none;
            font-weight: 600;
            transition: all 0.3s;
            border: none;
            cursor: pointer;
            gap: 8px;
        }
        
        .btn:hover {
            background-color: var(--light-orange);
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
        }
        
        .btn-secondary {
            background-color: transparent;
            border: 2px solid var(--accent-orange);
            color: var(--accent-orange);
        }
        
        .btn-secondary:hover {
            background-color: rgba(249, 115, 22, 0.1);
        }
        
        .btn-outline {
            background-color: transparent;
            border: 1px solid var(--medium-gray);
            color: var(--dark-gray);
        }
        
        .btn-outline:hover {
            background-color: var(--medium-gray);
        }
        
        /* ГЕРОЙ-СЕКЦИЯ */
        .hero {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--secondary-blue) 100%);
            color: var(--white);
            padding: 100px 0;
            text-align: center;
            position: relative;
            overflow: hidden;
        }
        
        .hero::before {
            content: "";
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1000 100" fill="%23ffffff" opacity="0.05"><polygon points="0,0 1000,50 1000,100 0,100"/></svg>');
            background-size: cover;
        }
        
        .hero-content {
            position: relative;
            z-index: 1;
            max-width: 800px;
            margin: 0 auto;
        }
        
        .hero h2 {
            font-size: 48px;
            margin-bottom: 20px;
            font-weight: 700;
        }
        
        .hero p {
            font-size: 20px;
            margin-bottom: 40px;
            opacity: 0.9;
        }
        
        .hero-buttons {
            display: flex;
            gap: 15px;
            justify-content: center;
            flex-wrap: wrap;
        }
        
        /* СЕКЦИИ */
        section {
            padding: 80px 0;
        }
        
        .section-title {
            text-align: center;
            margin-bottom: 50px;
            color: var(--primary-blue);
            font-size: 36px;
            font-weight: 700;
            position: relative;
        }
        
        .section-title::after {
            content: "";
            display: block;
            width: 80px;
            height: 4px;
            background: var(--accent-orange);
            margin: 15px auto 0;
            border-radius: 2px;
        }
        
        /* КАРТОЧКИ */
        .card {
            background-color: var(--white);
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            overflow: hidden;
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .card-header {
            padding: 20px;
            background-color: var(--primary-blue);
            color: var(--white);
        }
        
        .card-body {
            padding: 20px;
        }
        
        /* БРОНИРОВАНИЕ */
        .booking-section {
            background-color: var(--white);
        }
        
        .booking-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
        }
        
        @media (max-width: 968px) {
            .booking-container {
                grid-template-columns: 1fr;
            }
        }
        
        .booking-form {
            background-color: var(--light-gray);
            padding: 30px;
            border-radius: 12px;
        }
        
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
            color: var(--text-dark);
        }
        
        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid var(--medium-gray);
            border-radius: 8px;
            font-size: 16px;
            transition: border-color 0.3s, box-shadow 0.3s;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--secondary-blue);
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .schedule-container {
            background-color: var(--light-gray);
            padding: 30px;
            border-radius: 12px;
        }
        
        .schedule-controls {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 15px;
        }
        
        .date-selector {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .schedule-grid {
            display: grid;
            grid-template-columns: 80px repeat(6, 1fr);
            gap: 4px;
            margin-bottom: 20px;
        }
        
        .schedule-header {
            background-color: var(--primary-blue);
            color: var(--white);
            padding: 12px 8px;
            text-align: center;
            font-weight: 600;
            font-size: 14px;
            border-radius: 6px;
        }
        
        .schedule-cell {
            background-color: var(--white);
            padding: 12px 8px;
            text-align: center;
            border-radius: 6px;
            font-size: 14px;
            transition: all 0.2s;
            cursor: pointer;
            border: 1px solid transparent;
        }
        
        .schedule-cell:hover {
            border-color: var(--secondary-blue);
        }
        
        .schedule-cell.free {
            background-color: var(--success);
            color: white;
        }
        
        .schedule-cell.booked {
            background-color: var(--error);
            color: white;
            cursor: not-allowed;
        }
        
        .schedule-cell.selected {
            background-color: var(--accent-orange);
            color: white;
        }
        
        .schedule-cell.soon {
            background-color: var(--warning);
            color: white;
        }
        
        .schedule-legend {
            display: flex;
            gap: 15px;
            flex-wrap: wrap;
            margin-top: 20px;
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: 8px;
            font-size: 14px;
        }
        
        .legend-color {
            width: 16px;
            height: 16px;
            border-radius: 4px;
        }
        
        /* НОВЫЕ СТИЛИ ДЛЯ УЛУЧШЕННОЙ СИСТЕМЫ БРОНИРОВАНИЯ */
        .lane-selector {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .lane-option {
            padding: 15px;
            border: 2px solid var(--medium-gray);
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .lane-option.selected {
            border-color: var(--accent-orange);
            background-color: rgba(249, 115, 22, 0.1);
        }
        
        .lane-option.unavailable {
            background-color: var(--light-gray);
            color: var(--dark-gray);
            cursor: not-allowed;
        }
        
        .booking-summary {
            background-color: var(--light-gray);
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }
        
        .booking-details {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-bottom: 15px;
        }
        
        .booking-detail {
            display: flex;
            flex-direction: column;
        }
        
        .booking-label {
            font-weight: 600;
            color: var(--dark-gray);
            font-size: 14px;
        }
        
        .booking-value {
            font-weight: 700;
            color: var(--primary-blue);
        }
        
        .booking-total {
            display: flex;
            justify-content: space-between;
            font-weight: 700;
            font-size: 18px;
            padding-top: 15px;
            border-top: 1px solid var(--medium-gray);
        }
        
        .time-slots {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(100px, 1fr));
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .time-slot {
            padding: 10px;
            border: 1px solid var(--medium-gray);
            border-radius: 6px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .time-slot.selected {
            background-color: var(--accent-orange);
            color: white;
            border-color: var(--accent-orange);
        }
        
        .time-slot.unavailable {
            background-color: var(--error);
            color: white;
            cursor: not-allowed;
        }
        
        .time-slot.soon {
            background-color: var(--warning);
            color: white;
        }
        
        .duration-selector {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
        }
        
        .duration-option {
            flex: 1;
            padding: 12px;
            border: 2px solid var(--medium-gray);
            border-radius: 8px;
            text-align: center;
            cursor: pointer;
            transition: all 0.3s;
        }
        
        .duration-option.selected {
            border-color: var(--accent-orange);
            background-color: rgba(249, 115, 22, 0.1);
        }
        
        .step-indicator {
            display: flex;
            justify-content: space-between;
            margin-bottom: 30px;
            position: relative;
        }
        
        .step-indicator::before {
            content: '';
            position: absolute;
            top: 15px;
            left: 0;
            right: 0;
            height: 2px;
            background-color: var(--medium-gray);
            z-index: 1;
        }
        
        .step {
            display: flex;
            flex-direction: column;
            align-items: center;
            position: relative;
            z-index: 2;
        }
        
        .step-number {
            width: 30px;
            height: 30px;
            border-radius: 50%;
            background-color: var(--medium-gray);
            color: white;
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: 700;
            margin-bottom: 8px;
        }
        
        .step.active .step-number {
            background-color: var(--accent-orange);
        }
        
        .step.completed .step-number {
            background-color: var(--success);
        }
        
        .step-label {
            font-size: 14px;
            font-weight: 600;
            color: var(--dark-gray);
        }
        
        .step.active .step-label {
            color: var(--accent-orange);
        }
        
        .booking-steps {
            display: none;
        }
        
        .booking-steps.active {
            display: block;
        }
        
        .step-actions {
            display: flex;
            justify-content: space-between;
            margin-top: 30px;
        }
        
        .confirmation-screen {
            text-align: center;
            padding: 30px;
        }
        
        .confirmation-icon {
            font-size: 64px;
            color: var(--success);
            margin-bottom: 20px;
        }
        
        .confirmation-details {
            background-color: var(--light-gray);
            padding: 20px;
            border-radius: 8px;
            margin: 20px 0;
            text-align: left;
        }
        
        /* МЕНЮ */
        .menu-section {
            background-color: var(--light-gray);
        }
        
        .menu-categories {
            display: flex;
            justify-content: center;
            margin-bottom: 40px;
            flex-wrap: wrap;
            gap: 10px;
        }
        
        .menu-category {
            padding: 12px 24px;
            background-color: var(--white);
            border-radius: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
        }
        
        .menu-category.active {
            background-color: var(--primary-blue);
            color: var(--white);
        }
        
        .menu-items {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));
            gap: 25px;
        }
        
        .menu-item {
            background-color: var(--white);
            border-radius: 12px;
            padding: 25px;
            display: flex;
            flex-direction: column;
            gap: 15px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            transition: transform 0.3s, box-shadow 0.3s;
        }
        
        .menu-item:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.1);
        }
        
        .item-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
        }
        
        .item-info h4 {
            color: var(--primary-blue);
            margin-bottom: 8px;
            font-size: 18px;
        }
        
        .item-description {
            color: var(--dark-gray);
            font-size: 14px;
            line-height: 1.5;
        }
        
        .item-weight {
            color: var(--dark-gray);
            font-size: 14px;
            font-weight: 500;
        }
        
        .item-price {
            color: var(--accent-orange);
            font-weight: 700;
            font-size: 20px;
            white-space: nowrap;
        }
        
        .item-actions {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .quantity-selector {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .quantity-btn {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: var(--medium-gray);
            border: none;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-weight: bold;
            transition: background-color 0.2s;
        }
        
        .quantity-btn:hover {
            background-color: var(--dark-gray);
            color: white;
        }
        
        .quantity-value {
            min-width: 30px;
            text-align: center;
            font-weight: 600;
        }
        
        .add-to-cart {
            background-color: var(--accent-orange);
            color: var(--white);
            border: none;
            border-radius: 8px;
            padding: 10px 20px;
            cursor: pointer;
            transition: background-color 0.3s;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .add-to-cart:hover {
            background-color: var(--light-orange);
        }
        
        /* ЦЕНЫ */
        .pricing-cards {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 30px;
            margin-top: 40px;
        }
        
        .pricing-card {
            background-color: var(--white);
            border-radius: 12px;
            padding: 30px;
            text-align: center;
            display: flex;
            flex-direction: column;
            height: 100%;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s, box-shadow 0.3s;
            border: 2px solid transparent;
        }
        
        .pricing-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 20px rgba(0, 0, 0, 0.15);
            border-color: var(--accent-orange);
        }
        
        .pricing-card.popular {
            border-color: var(--accent-orange);
            position: relative;
            transform: scale(1.05);
        }
        
        .popular-badge {
            position: absolute;
            top: -12px;
            left: 50%;
            transform: translateX(-50%);
            background-color: var(--accent-orange);
            color: var(--white);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 14px;
            font-weight: 600;
        }
        
        .pricing-card h3 {
            color: var(--primary-blue);
            margin-bottom: 15px;
            font-size: 22px;
        }
        
        .price {
            font-size: 42px;
            color: var(--accent-orange);
            margin: 20px 0;
            font-weight: 700;
        }
        
        .price-period {
            font-size: 16px;
            color: var(--dark-gray);
        }
        
        .time-range {
            color: var(--dark-gray);
            font-size: 14px;
            margin-bottom: 15px;
            font-style: italic;
        }
        
        .pricing-features {
            list-style: none;
            text-align: left;
            margin-bottom: 30px;
            flex-grow: 1;
        }
        
        .pricing-features li {
            margin-bottom: 12px;
            padding-left: 24px;
            position: relative;
        }
        
        .pricing-features li:before {
            content: "✓";
            color: var(--accent-orange);
            position: absolute;
            left: 0;
            font-weight: bold;
        }
        
        .price-note {
            text-align: center;
            margin-top: 30px;
            color: var(--dark-gray);
            font-size: 14px;
            font-style: italic;
        }
        
        @media (max-width: 768px) {
            .pricing-card.popular {
                transform: none;
            }
            
            .pricing-cards {
                grid-template-columns: 1fr;
            }
        }
        
        /* КОНТАКТЫ */
        .contacts-section {
            background-color: var(--light-gray);
        }
        
        .contacts-container {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 40px;
        }
        
        @media (max-width: 768px) {
            .contacts-container {
                grid-template-columns: 1fr;
            }
        }
        
        .contact-info {
            display: flex;
            flex-direction: column;
            gap: 25px;
        }
        
        .contact-item {
            display: flex;
            align-items: flex-start;
            gap: 15px;
        }
        
        .contact-icon {
            background-color: var(--primary-blue);
            color: var(--white);
            width: 44px;
            height: 44px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-shrink: 0;
        }
        
        .contact-details h3 {
            margin-bottom: 5px;
            color: var(--primary-blue);
        }
        
        .map-container {
            height: 400px;
            background-color: var(--medium-gray);
            border-radius: 12px;
            overflow: hidden;
            display: flex;
            align-items: center;
            justify-content: center;
            color: var(--dark-gray);
        }
        
        /* ПОДВАЛ */
        footer {
            background-color: var(--primary-blue);
            color: var(--white);
            padding: 60px 0 30px;
        }
        
        .footer-content {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 40px;
            margin-bottom: 40px;
        }
        
        .footer-section h3 {
            margin-bottom: 20px;
            color: var(--accent-orange);
            font-size: 20px;
        }
        
        .footer-section ul {
            list-style: none;
        }
        
        .footer-section ul li {
            margin-bottom: 10px;
        }
        
        .footer-section a {
            color: var(--white);
            text-decoration: none;
            transition: color 0.3s;
        }
        
        .footer-section a:hover {
            color: var(--accent-orange);
        }
        
        .footer-bottom {
            text-align: center;
            padding-top: 30px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: rgba(255, 255, 255, 0.7);
        }
        
        /* МОДАЛЬНЫЕ ОКНА */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            z-index: 1000;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .modal.active {
            display: flex;
        }
        
        .modal-content {
            background-color: var(--white);
            padding: 30px;
            border-radius: 12px;
            max-width: 500px;
            width: 100%;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            position: relative;
        }
        
        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            font-size: 24px;
            cursor: pointer;
            color: var(--dark-gray);
        }
        
        .modal-header {
            margin-bottom: 20px;
            padding-right: 30px;
        }
        
        .modal-title {
            color: var(--primary-blue);
            font-size: 24px;
            margin-bottom: 10px;
        }
        
        .modal-body {
            margin-bottom: 25px;
        }
        
        .modal-footer {
            display: flex;
            justify-content: flex-end;
            gap: 15px;
        }
        
        /* КОРЗИНА */
        .cart-toggle {
            position: fixed;
            bottom: 30px;
            right: 30px;
            background-color: var(--accent-orange);
            color: var(--white);
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            z-index: 99;
            font-size: 24px;
            transition: all 0.3s;
        }
        
        .cart-toggle:hover {
            transform: scale(1.1);
        }
        
        .cart-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--error);
            color: white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }
        
        .cart-sidebar {
            position: fixed;
            top: 0;
            right: -400px;
            width: 400px;
            height: 100vh;
            background-color: var(--white);
            box-shadow: -5px 0 15px rgba(0, 0, 0, 0.1);
            z-index: 100;
            transition: right 0.3s;
            display: flex;
            flex-direction: column;
        }
        
        @media (max-width: 480px) {
            .cart-sidebar {
                width: 100%;
            }
        }
        
        .cart-sidebar.active {
            right: 0;
        }
        
        .cart-header {
            padding: 20px;
            background-color: var(--primary-blue);
            color: var(--white);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .cart-title {
            font-size: 20px;
            font-weight: 600;
        }
        
        .cart-close {
            background: none;
            border: none;
            color: var(--white);
            font-size: 20px;
            cursor: pointer;
        }
        
        .cart-items {
            flex-grow: 1;
            overflow-y: auto;
            padding: 20px;
        }
        
        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px 0;
            border-bottom: 1px solid var(--medium-gray);
        }
        
        .cart-item-info {
            flex-grow: 1;
        }
        
        .cart-item-name {
            font-weight: 600;
            margin-bottom: 5px;
        }
        
        .cart-item-price {
            color: var(--accent-orange);
            font-weight: 600;
        }
        
        .cart-item-actions {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        .cart-item-quantity {
            min-width: 30px;
            text-align: center;
        }
        
        .remove-item {
            background: none;
            border: none;
            color: var(--error);
            cursor: pointer;
            font-size: 18px;
        }
        
        .cart-footer {
            padding: 20px;
            border-top: 1px solid var(--medium-gray);
        }
        
        .cart-total {
            display: flex;
            justify-content: space-between;
            margin-bottom: 20px;
            font-size: 18px;
            font-weight: 600;
        }
        
        .cart-empty {
            text-align: center;
            padding: 40px 20px;
            color: var(--dark-gray);
        }
        
        /* АНИМАЦИИ */
        @keyframes fadeIn {
            from { opacity: 0; }
            to { opacity: 1; }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease-in-out;
        }
        
        /* УТИЛИТЫ */
        .text-center {
            text-align: center;
        }
        
        .mt-20 {
            margin-top: 20px;
        }
        
        .mb-20 {
            margin-bottom: 20px;
        }
        
        .hidden {
            display: none;
        }
        
        /* АДАПТИВНОСТЬ */
        @media (max-width: 968px) {
            .header-content {
                flex-direction: column;
                gap: 15px;
            }
            
            nav ul {
                flex-wrap: wrap;
                justify-content: center;
            }
            
            .hero h2 {
                font-size: 36px;
            }
            
            .hero p {
                font-size: 18px;
            }
            
            .section-title {
                font-size: 30px;
            }
            
            .menu-items {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .schedule-grid {
                grid-template-columns: 60px repeat(4, 1fr);
                font-size: 12px;
            }
            
            .schedule-header, .schedule-cell {
                padding: 8px 4px;
            }
            
            .hero-buttons {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 300px;
            }
        }
        
        /* ТАБЫ */
        .tabs {
            margin-bottom: 30px;
        }
        
        .tab-headers {
            display: flex;
            border-bottom: 1px solid var(--medium-gray);
            margin-bottom: 20px;
            flex-wrap: wrap;
        }
        
        .tab-header {
            padding: 12px 24px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
            font-weight: 500;
        }
        
        .tab-header.active {
            border-bottom-color: var(--accent-orange);
            color: var(--accent-orange);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* УВЕДОМЛЕНИЯ */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 8px;
            color: white;
            z-index: 1000;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            transform: translateX(400px);
            transition: transform 0.3s;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification.success {
            background-color: var(--success);
        }
        
        .notification.error {
            background-color: var(--error);
        }
        
        .notification.warning {
            background-color: var(--warning);
        }
        
        /* СТРАНИЦЫ */
        .page {
            display: none;
        }
        
        .page.active {
            display: block;
        }
        
        /* ЗАГРУЗЧИК */
        .loader {
            display: inline-block;
            width: 20px;
            height: 20px;
            border: 3px solid rgba(255,255,255,.3);
            border-radius: 50%;
            border-top-color: #fff;
            animation: spin 1s ease-in-out infinite;
        }
        
        @keyframes spin {
            to { transform: rotate(360deg); }
        }
        
        /* СТРАНИЦА ПРОФИЛЯ */
        .profile-section {
            padding: 80px 0;
            background-color: var(--light-gray);
        }

        .profile-container {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 40px;
        }

        @media (max-width: 968px) {
            .profile-container {
                grid-template-columns: 1fr;
            }
        }

        .profile-sidebar {
            background-color: var(--white);
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
            height: fit-content;
        }

        .profile-avatar {
            width: 120px;
            height: 120px;
            border-radius: 50%;
            background-color: var(--accent-orange);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 48px;
            font-weight: bold;
            margin: 0 auto 20px;
        }

        .profile-name {
            text-align: center;
            font-size: 24px;
            font-weight: 600;
            margin-bottom: 10px;
            color: var(--primary-blue);
        }

        .profile-phone {
            text-align: center;
            color: var(--dark-gray);
            margin-bottom: 30px;
        }

        .profile-menu {
            list-style: none;
        }

        .profile-menu-item {
            padding: 12px 15px;
            border-radius: 8px;
            margin-bottom: 8px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 500;
        }

        .profile-menu-item.active {
            background-color: var(--primary-blue);
            color: var(--white);
        }

        .profile-menu-item:hover:not(.active) {
            background-color: var(--medium-gray);
        }

        .profile-content {
            background-color: var(--white);
            border-radius: 12px;
            padding: 30px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
        }

        .profile-tab {
            display: none;
        }

        .profile-tab.active {
            display: block;
        }

        .booking-card {
            background-color: var(--light-gray);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .booking-info h4 {
            color: var(--primary-blue);
            margin-bottom: 5px;
        }

        .booking-status {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .status-active {
            background-color: var(--success);
            color: white;
        }

        .status-completed {
            background-color: var(--dark-gray);
            color: white;
        }

        .status-cancelled {
            background-color: var(--error);
            color: white;
        }

        .order-card {
            background-color: var(--light-gray);
            border-radius: 8px;
            padding: 20px;
            margin-bottom: 15px;
        }

        .order-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--medium-gray);
        }

        .order-items {
            margin-bottom: 15px;
        }

        .order-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 8px;
        }

        .order-total {
            display: flex;
            justify-content: space-between;
            font-weight: 600;
            font-size: 18px;
            padding-top: 15px;
            border-top: 1px solid var(--medium-gray);
        }

        .profile-form {
            max-width: 500px;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background-color: var(--light-gray);
            border-radius: 8px;
            padding: 20px;
            text-align: center;
        }

        .stat-value {
            font-size: 32px;
            font-weight: 700;
            color: var(--primary-blue);
            margin-bottom: 5px;
        }

        .stat-label {
            color: var(--dark-gray);
            font-size: 14px;
        }

        .loyalty-card {
            background: linear-gradient(135deg, var(--primary-blue) 0%, var(--secondary-blue) 100%);
            color: var(--white);
            border-radius: 12px;
            padding: 30px;
            margin-bottom: 30px;
            position: relative;
            overflow: hidden;
        }

        .loyalty-card::before {
            content: "";
            position: absolute;
            top: 0;
            right: 0;
            width: 150px;
            height: 150px;
            background: url('data:image/svg+xml,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 100 100" fill="%23ffffff" opacity="0.1"><circle cx="50" cy="50" r="40"/></svg>');
            background-size: cover;
        }

        .loyalty-title {
            font-size: 24px;
            margin-bottom: 10px;
        }

        .loyalty-points {
            font-size: 42px;
            font-weight: 700;
            margin-bottom: 20px;
        }

        .progress-bar {
            height: 8px;
            background-color: rgba(255, 255, 255, 0.3);
            border-radius: 4px;
            margin-bottom: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background-color: var(--accent-orange);
            border-radius: 4px;
        }

        .loyalty-info {
            display: flex;
            justify-content: space-between;
            font-size: 14px;
            opacity: 0.9;
        }
        
        /* КНОПКИ ОТМЕНЫ */
        .cancel-btn {
            background-color: var(--error);
            color: white;
            border: none;
            border-radius: 6px;
            padding: 8px 15px;
            cursor: pointer;
            font-size: 14px;
            transition: background-color 0.3s;
            margin-left: 10px;
        }

        .cancel-btn:hover {
            background-color: #dc2626;
        }

        .cancel-btn:disabled {
            background-color: var(--dark-gray);
            cursor: not-allowed;
        }

        .booking-actions, .order-actions {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .cancelled-status {
            background-color: var(--dark-gray);
            color: white;
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 12px;
            font-weight: 600;
        }

        .order-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
            padding-bottom: 15px;
            border-bottom: 1px solid var(--medium-gray);
        }
          /* Стили для галереи-ленты */
        .gallery-carousel {
            position: relative;
            width: 100%;
            height: 400px;
            overflow: hidden;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
        }

        .carousel-track {
            display: flex;
            height: 100%;
            transition: transform 0.5s ease;
        }

        .carousel-slide {
            min-width: 100%;
            height: 100%;
            position: relative;
            overflow: hidden;
        }

        .carousel-slide img {
            width: 100%;
            height: 100%;
            object-fit: cover;
            transition: transform 0.3s ease;
        }

        .carousel-slide:hover img {
            transform: scale(1.05);
        }

        .carousel-overlay {
            position: absolute;
            bottom: 0;
            left: 0;
            right: 0;
            background: linear-gradient(transparent, rgba(0,0,0,0.7));
            color: white;
            padding: 20px;
            transform: translateY(100%);
            transition: transform 0.3s ease;
        }

        .carousel-slide:hover .carousel-overlay {
            transform: translateY(0);
        }

        .carousel-controls {
            position: absolute;
            top: 50%;
            left: 0;
            right: 0;
            display: flex;
            justify-content: space-between;
            padding: 0 20px;
            transform: translateY(-50%);
            z-index: 10;
        }

        .carousel-btn {
            background: rgba(255,255,255,0.8);
            border: none;
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            font-size: 18px;
            transition: all 0.3s;
        }

        .carousel-btn:hover {
            background: white;
            transform: scale(1.1);
        }

        .carousel-dots {
            position: absolute;
            bottom: 20px;
            left: 0;
            right: 0;
            display: flex;
            justify-content: center;
            gap: 10px;
            z-index: 10;
        }

        .carousel-dot {
            width: 12px;
            height: 12px;
            border-radius: 50%;
            background: rgba(255,255,255,0.5);
            border: none;
            cursor: pointer;
            transition: all 0.3s;
        }

        .carousel-dot.active {
            background: white;
            transform: scale(1.2);
        }

        /* Стили для онлайн-чата */
        .online-chat {
            position: fixed;
            bottom: 30px;
            left: 30px;
            z-index: 1000;
        }

        .chat-toggle {
            background-color: var(--accent-orange);
            color: var(--white);
            border: none;
            border-radius: 50%;
            width: 60px;
            height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.15);
            font-size: 24px;
            transition: all 0.3s;
        }

        .chat-toggle:hover {
            transform: scale(1.1);
        }

        .chat-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background-color: var(--error);
            color: white;
            border-radius: 50%;
            width: 24px;
            height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 12px;
            font-weight: bold;
        }

        .chat-window {
            position: absolute;
            bottom: 70px;
            left: 0;
            width: 350px;
            height: 500px;
            background-color: var(--white);
            border-radius: 12px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.2);
            display: none;
            flex-direction: column;
            overflow: hidden;
        }

        .chat-window.active {
            display: flex;
        }

        .chat-header {
            padding: 15px 20px;
            background-color: var(--primary-blue);
            color: var(--white);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .chat-close {
            background: none;
            border: none;
            color: var(--white);
            font-size: 20px;
            cursor: pointer;
        }

        .chat-messages {
            flex-grow: 1;
            padding: 20px;
            overflow-y: auto;
            display: flex;
            flex-direction: column;
            gap: 15px;
        }

        .chat-message {
            display: flex;
            gap: 10px;
            max-width: 80%;
        }

        .bot-message {
            align-self: flex-start;
        }

        .user-message {
            align-self: flex-end;
            flex-direction: row-reverse;
        }

        .message-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background-color: var(--secondary-blue);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-size: 14px;
            font-weight: bold;
            flex-shrink: 0;
        }

        .user-message .message-avatar {
            background-color: var(--accent-orange);
        }

        .message-content {
            background-color: var(--light-gray);
            padding: 12px 15px;
            border-radius: 18px;
            position: relative;
        }

        .user-message .message-content {
            background-color: var(--primary-blue);
            color: var(--white);
        }

        .message-text {
            margin-bottom: 5px;
        }

        .message-time {
            font-size: 12px;
            opacity: 0.7;
            text-align: right;
        }

        .chat-input {
            display: flex;
            padding: 15px;
            border-top: 1px solid var(--medium-gray);
            gap: 10px;
        }

        .chat-input input {
            flex-grow: 1;
            padding: 12px 15px;
            border: 1px solid var(--medium-gray);
            border-radius: 20px;
            outline: none;
        }

        .chat-input button {
            background-color: var(--accent-orange);
            color: var(--white);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            cursor: pointer;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        /* Адаптивность для чата */
        @media (max-width: 768px) {
            .chat-window {
                width: calc(100vw - 60px);
                left: -120px;
            }
        }
        
        /* Стили для секции отзывов */
        .feedback-section {
            background-color: var(--white);
            padding: 80px 0;
        }

        .feedback-tab-headers {
            display: flex;
            border-bottom: 1px solid var(--medium-gray);
            margin-bottom: 30px;
            flex-wrap: wrap;
        }

        .feedback-tab-header {
            padding: 15px 25px;
            cursor: pointer;
            border-bottom: 3px solid transparent;
            transition: all 0.3s;
            font-weight: 500;
        }

        .feedback-tab-header.active {
            border-bottom-color: var(--accent-orange);
            color: var(--accent-orange);
        }

        .feedback-tab-content {
            display: none;
        }

        .feedback-tab-content.active {
            display: block;
        }

        /* Стили для отзывов */
        .reviews-container {
            display: grid;
            grid-template-columns: 300px 1fr;
            gap: 40px;
        }

        .rating-overview {
            text-align: center;
            padding: 20px;
            background-color: var(--light-gray);
            border-radius: 12px;
        }

        .rating-score {
            font-size: 48px;
            font-weight: 700;
            color: var(--primary-blue);
        }

        .rating-stars {
            font-size: 24px;
            color: var(--accent-orange);
            margin: 10px 0;
        }

        .rating-count {
            color: var(--dark-gray);
            font-size: 14px;
        }

        .rating-bar {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
            font-size: 14px;
        }

        .bar-container {
            flex-grow: 1;
            height: 8px;
            background-color: var(--medium-gray);
            border-radius: 4px;
            overflow: hidden;
        }

        .bar-fill {
            height: 100%;
            background-color: var(--accent-orange);
            border-radius: 4px;
        }

        .review-card {
            background-color: var(--light-gray);
            padding: 20px;
            border-radius: 12px;
            margin-bottom: 20px;
        }

        .review-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }

        .reviewer-info {
            display: flex;
            align-items: center;
            gap: 10px;
        }

        .reviewer-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background-color: var(--accent-orange);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }

        .reviewer-name {
            font-weight: 600;
        }

        .review-date {
            color: var(--dark-gray);
            font-size: 14px;
        }

        .review-rating {
            color: var(--accent-orange);
            font-size: 18px;
        }

        .review-content {
            margin-bottom: 15px;
            line-height: 1.6;
        }

        .review-response {
            background-color: rgba(59, 130, 246, 0.1);
            padding: 15px;
            border-radius: 8px;
            border-left: 4px solid var(--secondary-blue);
            font-size: 14px;
        }

        /* Стили для форм обратной связи */
        .feedback-form {
            max-width: 600px;
            margin: 0 auto;
        }

        .rating-input {
            display: flex;
            gap: 5px;
            font-size: 24px;
        }

        .star {
            cursor: pointer;
            color: var(--medium-gray);
            transition: color 0.2s;
        }

        .star.active {
            color: var(--accent-orange);
        }

        .form-note {
            text-align: center;
            color: var(--dark-gray);
            font-size: 14px;
            margin-top: 15px;
        }

        /* Стили для сортировки отзывов */
        .reviews-sort {
            display: flex;
            gap: 10px;
            margin-bottom: 20px;
            flex-wrap: wrap;
        }

        .sort-btn {
            padding: 8px 16px;
            background: var(--light-gray);
            border: 1px solid var(--medium-gray);
            border-radius: 20px;
            cursor: pointer;
            transition: all 0.3s;
            font-size: 14px;
        }

        .sort-btn.active {
            background: var(--primary-blue);
            color: white;
            border-color: var(--primary-blue);
        }

        .review-status {
            display: inline-block;
            padding: 4px 8px;
            background: var(--warning);
            color: white;
            border-radius: 4px;
            font-size: 12px;
            margin-left: 10px;
        }

        /* Адаптивность для отзывов */
        @media (max-width: 968px) {
            .reviews-container {
                grid-template-columns: 1fr;
            }
            
            .feedback-tab-headers {
                flex-direction: column;
            }
            
            .feedback-tab-header {
                text-align: center;
            }
        }
        .booking-controls, .order-controls {
            display: flex;
            gap: 10px;
            margin-top: 10px;
        }

        .booking-controls .btn, .order-controls .btn {
            padding: 8px 16px;
            font-size: 14px;
        }

        .edit-booking, .edit-order {
            background-color: var(--secondary-blue);
            color: white;
        }

        .edit-booking:hover, .edit-order:hover {
            background-color: var(--primary-blue);
        }
        /* СТИЛИ ДЛЯ СЕКЦИИ ПРАВИЛ */
.rules-section {
    background-color: var(--white);
    padding: 80px 0;
}

.rules-list {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 30px;
}

.rule-item {
    background-color: var(--light-gray);
    padding: 25px;
    border-radius: 12px;
    border-left: 4px solid var(--accent-orange);
}

.rule-item h3 {
    color: var(--primary-blue);
    margin-bottom: 15px;
    font-size: 18px;
}

.rule-item ul {
    list-style: none;
    padding: 0;
}

.rule-item li {
    margin-bottom: 8px;
    padding-left: 20px;
    position: relative;
}

.rule-item li:before {
    content: "•";
    color: var(--accent-orange);
    position: absolute;
    left: 0;
    font-weight: bold;
}
/* Стили для админ-кнопки */
#admin-login-button {
    padding: 8px 12px;
    font-size: 14px;
    border-color: var(--dark-gray);
}

#admin-login-button:hover {
    background-color: var(--warning);
    border-color: var(--warning);
    color: white;
}

/* Стили для админ-модалки */
.admin-indicator {
    background-color: var(--warning);
    color: white;
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 600;
    margin-left: 8px;
}

.admin-features {
    border-left: 4px solid var(--warning);
    background-color: rgba(245, 158, 11, 0.1);
    padding: 15px;
    margin: 15px 0;
    border-radius: 0 8px 8px 0;
}
/* СТИЛИ ДЛЯ АДМИН-ПАНЕЛИ */
.admin-card {
    background-color: var(--white);
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
    margin-bottom: 20px;
}

.admin-dashboard {
    display: grid;
    grid-template-columns: 2fr 1fr;
    gap: 20px;
}

.dashboard-section {
    background-color: var(--white);
    border-radius: 12px;
    padding: 20px;
    box-shadow: 0 4px 12px rgba(0, 0, 0, 0.05);
}

.admin-quick-actions {
    display: flex;
    flex-direction: column;
}

.admin-filters {
    display: flex;
    gap: 15px;
    margin-bottom: 20px;
    flex-wrap: wrap;
    align-items: flex-end;
}

.booking-item, .user-item {
    display: flex;
    justify-content: space-between;
    align-items: center;
    padding: 15px;
    border-bottom: 1px solid var(--medium-gray);
}

.booking-item:last-child, .user-item:last-child {
    border-bottom: none;
}

.booking-info, .user-info {
    flex-grow: 1;
}

.booking-actions, .user-actions {
    display: flex;
    gap: 10px;
}

.admin-schedule-cell {
    background-color: var(--white);
    padding: 12px 8px;
    text-align: center;
    border-radius: 6px;
    font-size: 14px;
    transition: all 0.2s;
    cursor: pointer;
    border: 1px solid transparent;
}

.admin-schedule-cell.free {
    background-color: var(--success);
    color: white;
}

.admin-schedule-cell.booked {
    background-color: var(--error);
    color: white;
}

.admin-schedule-cell.blocked {
    background-color: var(--warning);
    color: white;
}

.admin-schedule-cell.selected {
    border: 2px solid var(--accent-orange);
}

.price-editor-item {
    display: flex;
    gap: 15px;
    margin-bottom: 15px;
    align-items: center;
    padding: 15px;
    background-color: var(--light-gray);
    border-radius: 8px;
}

.price-editor-item input {
    flex: 1;
}

.settings-section {
    margin-bottom: 30px;
    padding-bottom: 20px;
    border-bottom: 1px solid var(--medium-gray);
}

.settings-section:last-child {
    border-bottom: none;
}
/* Стили для админ-индикатора */
.admin-indicator {
    background-color: var(--warning);
    color: white;
    padding: 2px 8px;
    border-radius: 12px;
    font-size: 12px;
    font-weight: 600;
    margin-left: 8px;
}

/* Исправить отображение подвала в админ-панели */
#admin + footer {
    margin-top: 0;
}

/* Убедиться, что подвал всегда внизу */
body {
    display: flex;
    flex-direction: column;
    min-height: 100vh;
}

.page {
    flex: 1 0 auto;
}

footer {
    flex-shrink: 0;
}

    </style>
</head>
<body>
    <!-- ШАПКА САЙТА -->
    <header>
        <div class="container">
            <div class="header-content">
                <div class="logo">
                    <div class="logo-icon">🎳</div>
                    <h1>Боулинг-клуб "Ключ"</h1>
                </div>
                <nav aria-label="Основная навигация">
    <ul>
        <li><a href="#" class="nav-link active" data-page="home" aria-current="page">Главная</a></li>
        <li><a href="#" class="nav-link" data-page="menu">Меню</a></li>
        <li><a href="#" class="nav-link" data-page="bar">Бар</a></li>
        <li><a href="#" class="nav-link" data-page="schedule">Расписание</a></li>
        <li><a href="#" class="nav-link" data-page="booking">Бронирование</a></li>
        <li id="profile-nav-item" style="display: none;">
            <a href="#" class="nav-link" data-page="profile">Профиль</a>
        </li>
    </ul>
</nav>
          <div class="user-section">
    <div class="user-info" id="user-info">
        <div class="user-avatar" id="user-avatar">Г</div>
        <span id="user-name">Гость</span>
    </div>
    <button class="btn btn-secondary" id="auth-button">Войти</button>
    <button class="btn btn-outline" id="admin-login-button" style="margin-left: 10px; display: none;">
        <span style="font-size: 18px;">⚙️</span> Админ
    </button>
</div>
            </div>
        </div>
    </header>

    <!-- ГЛАВНАЯ СТРАНИЦА -->
    <section id="home" class="page active fade-in">
        <div class="hero">
            <div class="container">
                <div class="hero-content">
                    <h2>Единственный боулинг в Вологде</h2>
                    <p>Приходите в боулинг-клуб "Ключ" и проведите время с коллегами, друзьями и семьей. Предлагаем вам 
                        окунуться в нашу атмосферу для веселого времяпровождения, которое можно 
                        разнообразить вкусными коктейлями на баре, пиццей и различными закусками.</p>
                    <div class="hero-buttons">
                        <a href="#" class="btn book-now">Забронировать дорожку</a>
                        <a href="#" class="btn btn-secondary view-menu">Посмотреть меню</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- О КЛУБЕ -->
        <section class="about-section">
            <div class="container">
                <h2 class="section-title">О боулинг-клубе "Ключ"</h2>
                <div class="about-content">
                    <div class="about-text">
                        <p>Боулинг-клуб "Ключ" - это современное пространство для отдыха и развлечений в Вологде. Мы находимся по адресу ул. Ярославская, 2.</p>
                        <p>В нашем клубе 6 профессиональных дорожек для боулинга, 2 дорожки с возможностью поднятия детских бортиков. Мы регулярно обновляем оборудование и следим за качеством обслуживания.</p>
                        <p>У нас есть уютный бар с широким выбором, где вы можете на время игры заказывать вкусные напитки и закуски.</p>
                        <p>Мы предлагаем специальные условия для корпоративных мероприятий, дней рождений и других праздников. Наша команда поможет организовать незабываемое событие!</p>
                    </div>
                </div>
            </div>
        </section>

        <!-- ЦЕНЫ -->
        <section class="pricing-section">
            <div class="container">
                <h2 class="section-title">Цены на аренду дорожек</h2>
                
                <div class="pricing-cards">
                    <!-- Пн-Чт Днем -->
                    <div class="pricing-card">
                        <h3>Понедельник - Четверг</h3>
                        <div class="time-range">12:00 - 18:00</div>
                        <div class="price">800 <span class="price-period">₽/час</span></div>
                        <ul class="pricing-features">
                            <li>Понедельник - Четверг</li>
                            <li>Дневное время: 12:00 - 18:00</li>
                            <li>Минимальное время - 1 час</li>
                            <li>Бесплатная аренда обуви</li>
                        </ul>
                        <button class="btn book-from-pricing">Забронировать</button>
                    </div>
                    
                    <!-- Пн-Чт Вечером -->
                    <div class="pricing-card">
                        <h3>Понедельник - Четверг</h3>
                        <div class="time-range">18:00 - 00:00</div>
                        <div class="price">1100 <span class="price-period">₽/час</span></div>
                        <ul class="pricing-features">
                            <li>Понедельник - Четверг</li>
                            <li>Вечернее время: 18:00 - 00:00</li>
                            <li>Минимальное время - 1 час</li>
                            <li>Бесплатная аренда обуви</li>
                        </ul>
                       <button class="btn book-from-pricing">Забронировать</button>
                    </div>
                    
                    <!-- Пятница Днем -->
                    <div class="pricing-card">
                        <h3>Пятница</h3>
                        <div class="time-range">12:00 - 18:00</div>
                        <div class="price">1100 <span class="price-period">₽/час</span></div>
                        <ul class="pricing-features">
                            <li>Пятница</li>
                            <li>Дневное время: 12:00 - 18:00</li>
                            <li>Минимальное время - 1 час</li>
                            <li>Бесплатная аренда обуви</li>
                        </ul>
                        <button class="btn book-from-pricing">Забронировать</button>
                    </div>
                    
                    <!-- Пятница Вечером -->
                    <div class="pricing-card popular">
                        <div class="popular-badge">Популярно</div>
                        <h3>Пятница</h3>
                        <div class="time-range">18:00 - 00:00</div>
                        <div class="price">1500 <span class="price-period">₽/час</span></div>
                        <ul class="pricing-features">
                            <li>Пятница</li>
                            <li>Вечернее время: 18:00 - 00:00</li>
                            <li>Минимальное время - 1 час</li>
                            <li>Бесплатная аренда обуви</li>
                            <li>Особая атмосфера вечера</li>
                        </ul>
                       <button class="btn book-from-pricing">Забронировать</button>
                    </div>
                    
                    <!-- Выходные -->
                    <div class="pricing-card">
                        <h3>Суббота - Воскресенье</h3>
                        <div class="time-range">12:00 - 00:00</div>
                        <div class="price">1500 <span class="price-period">₽/час</span></div>
                        <ul class="pricing-features">
                            <li>Суббота и Воскресенье</li>
                            <li>Весь день: 12:00 - 00:00</li>
                            <li>Минимальное время - 1 час</li>
                            <li>Бесплатная аренда обуви</li>
                            <li>Идеально для отдыха с семьей и друзьями</li>
                        </ul>
                        <button class="btn book-from-pricing">Забронировать</button>
                    </div>
                </div>
                
                <div class="price-note">
                    * Цены указаны за аренду одной дорожки на 1 час. Возможна аренда нескольких дорожек одновременно.
                </div>
            </div>
        </section>

        <!-- СЕКЦИЯ ПРАВИЛ -->
<section class="rules-section">
    <div class="container">
        <h2 class="section-title">Общая информация</h2>
        <div class="rules-content">
            <div class="rules-list">
                <div class="rule-item">
                    <h3>Игра</h3>
                    <ul>
                        <li>Бронирование дорожек осуществляется минимум за 1 час до начала игры</li>
                        <li>Минимальное время бронирования - 1 час</li>
                        <li>На одну дорожку допускается максимум 6 человек</li>
                        <li>Желательна своя сменная обувь (если нету, то предоставляется бесплатно)</li>
                    </ul>
                </div>
                <div class="rule-item">
                    <h3>Бар и еда</h3>
                    <ul>
                        <li>Со своей едой и напитками вход запрещен</li>
                        <li>Предзаказы еды и напитков принимаются за 2 часа до визита</li>
                        <li>Оплата заказов производится на месте</li>
                        <li>При отмене бронирования предзаказы также отменяются</li>
                    </ul>
                </div>
                <div class="rule-item">
                    <h3>Скидки</h3>
                    <ul>
                        <li>В день рождение и 6 дней после на игру действует скидка 20%, при предъявлении документов</li>
                        <li>Действуют скидки на дорожки и бар по карте Золотого ключика</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</section>
  <!-- СЕКЦИЯ ФОТОГАЛЕРЕИ  -->
    <section class="gallery-section">
        <div class="container">
            <h2 class="section-title">Фотогалерея</h2>
            <div class="gallery-carousel">
                <div class="carousel-track">
                    <div class="carousel-slide">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='400' viewBox='0 0 800 400'%3E%3Crect width='800' height='400' fill='%233b82f6'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='white' font-family='Arial' font-size='24'%3EДорожка 1%3C/text%3E%3C/svg%3E" alt="Дорожка для боулинга в клубе Ключ">
                        <div class="carousel-overlay">
                            <h3>Дорожки 1,2</h3>
                            <p>Дорожки для боулинга, с возможностью поднятия детских бортиков</p>
                        </div>
                    </div>
                    <div class="carousel-slide">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='400' viewBox='0 0 800 400'%3E%3Crect width='800' height='400' fill='%23f97316'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='white' font-family='Arial' font-size='24'%3EЗона отдыха%3C/text%3E%3C/svg%3E" alt="Зона отдыха в боулинг-клубе Ключ">
                        <div class="carousel-overlay">
                            <h3>Зона отдыха</h3>
                            <p>Уютная зона отдыха для больших компаний</p>
                        </div>
                    </div>
                    <div class="carousel-slide">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='400' viewBox='0 0 800 400'%3E%3Crect width='800' height='400' fill='%2310b981'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='white' font-family='Arial' font-size='24'%3EБарная стойка%3C/text%3E%3C/svg%3E" alt="Барная стойка в боулинг-клубе">
                        <div class="carousel-overlay">
                            <h3>Барная зона</h3>
                            <p>Широкий выбор напитков и закусок</p>
                        </div>
                    </div>
                    <div class="carousel-slide">
                        <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='800' height='400' viewBox='0 0 800 400'%3E%3Crect width='800' height='400' fill='%238b5cf6'/%3E%3Ctext x='50%25' y='50%25' dominant-baseline='middle' text-anchor='middle' fill='white' font-family='Arial' font-size='24'%3EКорпоратив%3C/text%3E%3C/svg%3E" alt="Ресепшен боулинг-клуба Ключ">
                        <div class="carousel-overlay">
                            <h3>Ресепшен</h3>
                            <p>Здесь вас встретят и выдадут сменную обувь</p>
                        </div>
                    </div>
                </div>
                <div class="carousel-controls">
                    <button class="carousel-btn prev">❮</button>
                    <button class="carousel-btn next">❯</button>
                </div>
                <div class="carousel-dots">
                    <button class="carousel-dot active"></button>
                    <button class="carousel-dot"></button>
                    <button class="carousel-dot"></button>
                    <button class="carousel-dot"></button>
                </div>
            </div>
        </div>
    </section>
    
    <!-- СЕКЦИЯ ОБРАТНОЙ СВЯЗИ И ОТЗЫВОВ -->
    <section class="feedback-section">
        <div class="container">
            <h2 class="section-title">Обратная связь</h2>
            
            <div class="feedback-tabs">
                <div class="feedback-tab-headers">
                    <div class="feedback-tab-header active" data-tab="reviews">Отзывы</div>
                    <div class="feedback-tab-header" data-tab="feedback-form">Оставить отзыв</div>
                </div>
                
                <div class="feedback-tab-content active" id="reviews-tab">
                    <div class="reviews-sort">
                        <button class="sort-btn active" data-sort="newest">По новизне</button>
                        <button class="sort-btn" data-sort="rating-high">Сначала положительные</button>
                        <button class="sort-btn" data-sort="rating-low">Сначала отрицательные</button>
                    </div>
                    <div class="reviews-container">
                        <div class="reviews-stats">
                            <div class="rating-overview">
                                <div class="rating-score">4.8</div>
                                <div class="rating-stars">★★★★★</div>
                                <div class="rating-count">На основе 127 отзывов</div>
                            </div>
                            <div class="rating-bars">
                                <div class="rating-bar">
                                    <span>5 звезд</span>
                                    <div class="bar-container"><div class="bar-fill" style="width: 78%"></div></div>
                                    <span>78%</span>
                                </div>
                                <div class="rating-bar">
                                    <span>4 звезды</span>
                                    <div class="bar-container"><div class="bar-fill" style="width: 15%"></div></div>
                                    <span>15%</span>
                                </div>
                                <div class="rating-bar">
                                    <span>3 звезды</span>
                                    <div class="bar-container"><div class="bar-fill" style="width: 5%"></div></div>
                                    <span>5%</span>
                                </div>
                                <div class="rating-bar">
                                    <span>2 звезды</span>
                                    <div class="bar-container"><div class="bar-fill" style="width: 1%"></div></div>
                                    <span>1%</span>
                                </div>
                                <div class="rating-bar">
                                    <span>1 звезда</span>
                                    <div class="bar-container"><div class="bar-fill" style="width: 1%"></div></div>
                                    <span>1%</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="reviews-list">
                            <div class="review-card">
                                <div class="review-header">
                                    <div class="reviewer-info">
                                        <div class="reviewer-avatar">А</div>
                                        <div class="reviewer-details">
                                            <div class="reviewer-name">Анна Петрова</div>
                                            <div class="review-date">15.12.2023</div>
                                        </div>
                                    </div>
                                    <div class="review-rating">★★★★★</div>
                                </div>
                                <div class="review-content">
                                    <p>Отлично провели время с семьей! Дети в восторге, обслуживание на высшем уровне. Обязательно вернемся!</p>
                                </div>
                                <div class="review-response">
                                    <strong>Ответ администрации:</strong> Анна, благодарим за отзыв! Будем рады видеть вас снова!
                                </div>
                            </div>
                            
                            <div class="review-card">
                                <div class="review-header">
                                    <div class="reviewer-info">
                                        <div class="reviewer-avatar">М</div>
                                        <div class="reviewer-details">
                                            <div class="reviewer-name">Михаил Иванов</div>
                                            <div class="review-date">10.12.2023</div>
                                        </div>
                                    </div>
                                    <div class="review-rating">★★★★☆</div>
                                </div>
                                <div class="review-content">
                                    <p>Хорошее место для корпоратива. Цены адекватные, еда вкусная. Не хватило только большего выбора крафтового пива.</p>
                                </div>
                            </div>

                            <div class="review-card">
                                <div class="review-header">
                                    <div class="reviewer-info">
                                        <div class="reviewer-avatar">Е</div>
                                        <div class="reviewer-details">
                                            <div class="reviewer-name">Елена Смирнова</div>
                                            <div class="review-date">05.12.2023</div>
                                        </div>
                                    </div>
                                    <div class="review-rating">★★★★★</div>
                                </div>
                                <div class="review-content">
                                    <p>Отмечали день рождения дочери. Персонал помог организовать все на высшем уровне! Дети были в восторге от аниматора.</p>
                                </div>
                            </div>

                            <div class="review-card">
                                <div class="review-header">
                                    <div class="reviewer-info">
                                        <div class="reviewer-avatar">Д</div>
                                        <div class="reviewer-details">
                                            <div class="reviewer-name">Дмитрий Козлов</div>
                                            <div class="review-date">28.11.2023</div>
                                        </div>
                                    </div>
                                    <div class="review-rating">★★★☆☆</div>
                                </div>
                                <div class="review-content">
                                    <p>Неплохо, но в субботу вечером очень многолюдно. Пришлось ждать свободную дорожку около 40 минут. Персонал вежливый.</p>
                                </div>
                                <div class="review-response">
                                    <strong>Ответ администрации:</strong> Дмитрий, спасибо за обратную связь! Действительно, в выходные вечера высокая посещаемость. Рекомендуем бронировать дорожки заранее через сайт.
                                </div>
                            </div>

                            <div class="review-card">
                                <div class="review-header">
                                    <div class="reviewer-info">
                                        <div class="reviewer-avatar">О</div>
                                        <div class="reviewer-details">
                                            <div class="reviewer-name">Ольга Новикова</div>
                                            <div class="review-date">20.11.2023</div>
                                        </div>
                                    </div>
                                    <div class="review-rating">★★★★★</div>
                                </div>
                                <div class="review-content">
                                    <p>Были с подругами, отлично отдохнули! Особенно понравились коктейли в баре - очень вкусные и недорогие. Обстановка уютная, музыка приятная.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="feedback-tab-content" id="feedback-form-tab">
                    <form class="feedback-form" id="review-form">
                        <div class="form-group">
                            <label class="form-label">Ваша оценка</label>
                            <div class="rating-input">
                                <span class="star" data-rating="1">☆</span>
                                <span class="star" data-rating="2">☆</span>
                                <span class="star" data-rating="3">☆</span>
                                <span class="star" data-rating="4">☆</span>
                                <span class="star" data-rating="5">☆</span>
                            </div>
                        </div>
                        <div class="form-group">
                            <label for="review-name" class="form-label">Ваше имя</label>
                            <input type="text" id="review-name" class="form-control" required>
                        </div>
                        <div class="form-group">
                            <label for="review-text" class="form-label">Текст отзыва</label>
                            <textarea id="review-text" class="form-control" rows="5" required></textarea>
                        </div>
                        <div class="form-group">
                            <label class="form-label">Прикрепить фото (до 3 файлов)</label>
                            <input type="file" id="review-photos" class="form-control" multiple accept="image/*">
                        </div>
                        <button type="submit" class="btn">Отправить отзыв</button>
                        <p class="form-note">Все отзывы проходят модерацию перед публикацией</p>
                    </form>
                </div>
            </div>
        </div>
        </section>

    <!-- ОНЛАЙН-ЧАТ -->
    <div class="online-chat">
       <button class="chat-toggle" aria-label="Открыть чат">
    💬
    <div class="chat-badge" id="chat-badge">1</div>
</button>
        
        <div class="chat-window">
            <div class="chat-header">
                <h3>Онлайн-консультант</h3>
                <button class="chat-close">×</button>
            </div>
            <div class="chat-messages" id="chat-messages">
                <div class="chat-message bot-message">
                    <div class="message-avatar">К</div>
                    <div class="message-content">
                        <div class="message-text">Здравствуйте! Чем могу помочь?</div>
                        <div class="message-time">12:00</div>
                    </div>
                </div>
            </div>
            <div class="chat-input">
                <input type="text" id="chat-input" placeholder="Введите ваше сообщение...">
                <button id="send-message">➤</button>
            </div>
        </div>
    </div>
        <!-- КОНТАКТЫ -->
        <section class="contacts-section">
            <div class="container">
                <h2 class="section-title">Контакты</h2>
                <div class="contacts-container">
                    <div class="contact-info">
                        <div class="contact-item">
                            <div class="contact-icon">📍</div>
                            <div class="contact-details">
                                <h3>Адрес</h3>
                                <p>г. Вологда, ул. Ярославская, д. 2</p>
                            </div>
                        </div>
                        <div class="contact-item">
                            <div class="contact-icon">📞</div>
                            <div class="contact-details">
                                <h3>Телефон</h3>
                                <p>+7 (8172) 53-78-48</p>
                            </div>
                        </div>
                        <div class="contact-item">
                            <div class="contact-icon">✉️</div>
                            <div class="contact-details">
                                <h3>ВКонтакте</h3>
                                <p>https://vk.com/bowling_kluch</p>
                            </div>
                        </div>
                        <div class="contact-item">
                            <div class="contact-icon">🕒</div>
                            <div class="contact-details">
                                <h3>Часы работы</h3>
                                <p>Пн-Чт: 12:00 - 00:00</p>
                                <p>Пт-Сб: 12:00 - 00:00</p>
                                <p>Вс: 12:00 - 00:00</p>
                            </div>
                        </div>
                    </div>
                   <div class="map-container">
                        <div id="map"></div>
                    </div>
                </div>
            </div>
        </section>
    </section>

    <!-- СТРАНИЦА МЕНЮ -->
    <section id="menu" class="page">
        <div class="container">
            <h2 class="section-title">Меню</h2>
            <div class="menu-categories">
                <div class="menu-category active" data-category="all">Все</div>
                <div class="menu-category" data-category="plates">Тарелки на компанию</div>
                <div class="menu-category" data-category="hot-snacks">Горячие закуски</div>
                <div class="menu-category" data-category="cold-snacks">Холодные закуски</div>
                <div class="menu-category" data-category="salads">Салаты</div>
                <div class="menu-category" data-category="hot-dishes">Горячие блюда</div>
                <div class="menu-category" data-category="pizza">Пицца</div>
                <div class="menu-category" data-category="desserts">Десерты</div>
                <div class="menu-category" data-category="sauces">Соусы</div>
            </div>
            
            <div class="menu-items">
                <div class="menu-item" data-category="plates">
                    <div class="item-info">
                        <h4>Пивная тарелка / 1500 г</h4>
                        <p class="item-description">Сырные палочки, чесночные гренки, луковые кольца, кольца кальмара, куриные стрипсы, копченые свиные ушки, соусы: чесночный, барбекю, сырный</p>
                    </div>
                    <div class="item-price">1990 ₽</div>
                    <button class="add-to-cart" data-name="Пивная тарелка" data-price="1990">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="plates">
                    <div class="item-info">
                        <h4>Тарелка мясника / 2000 г</h4>
                        <p class="item-description">Рулька свиная, ребрышки в медово-горчичном соусе, колбаски собственного производства, помидоры черри, микс салат, соусы: сырный, чесночный, брусничный, горчица</p>
                    </div>
                    <div class="item-price">2990 ₽</div>
                    <button class="add-to-cart" data-name="Тарелка мясника" data-price="2990">В корзину</button>
                </div>
                
                <!-- Горячие закуски -->
                <div class="menu-item" data-category="hot-snacks">
                    <div class="item-info">
                        <h4>Сырные палочки / 300/50 г</h4>
                        <p class="item-description">Жареный сыр, панировка, соус Чесночный</p>
                    </div>
                    <div class="item-price">375 ₽</div>
                    <button class="add-to-cart" data-name="Сырные палочки" data-price="375">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="hot-snacks">
                    <div class="item-info">
                        <h4>Крылышки Барбекю / 270/50 г</h4>
                        <p class="item-description">Куриные крылышки, соус Барбекю</p>
                    </div>
                    <div class="item-price">450 ₽</div>
                    <button class="add-to-cart" data-name="Крылышки Барбекю" data-price="450">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="hot-snacks">
                    <div class="item-info">
                        <h4>Кольца кальмара в кляре / 150/50 г</h4>
                        <p class="item-description">Подаются с соусом Лемонграсс</p>
                    </div>
                    <div class="item-price">470 ₽</div>
                    <button class="add-to-cart" data-name="Кольца кальмара в кляре" data-price="470">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="hot-snacks">
                    <div class="item-info">
                        <h4>Луковые кольца / 150/50 г</h4>
                        <p class="item-description">Подаются с соусом Тар-тар</p>
                    </div>
                    <div class="item-price">350 ₽</div>
                    <button class="add-to-cart" data-name="Луковые кольца" data-price="350">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="hot-snacks">
                    <div class="item-info">
                        <h4>Гренки Дер Гроссе / 150/50 г</h4>
                        <p class="item-description">Ржаной хлеб, сыр, чеснок, подаются с Чесночным соусом</p>
                    </div>
                    <div class="item-price">310 ₽</div>
                    <button class="add-to-cart" data-name="Гренки Дер Гроссе" data-price="310">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="hot-snacks">
                    <div class="item-info">
                        <h4>Сыр Сулугуни жареный / 250/50 г</h4>
                        <p class="item-description">Сыр, панировка, подается с Брусничным соусом</p>
                    </div>
                    <div class="item-price">470 ₽</div>
                    <button class="add-to-cart" data-name="Сыр Сулугуни жареный" data-price="470">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="hot-snacks">
                    <div class="item-info">
                        <h4>Куриные стрипсы / 240/50 г</h4>
                        <p class="item-description">Куриное филе, хрустящая панировка, кетчуп</p>
                    </div>
                    <div class="item-price">410 ₽</div>
                    <button class="add-to-cart" data-name="Куриные стрипсы" data-price="410">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="hot-snacks">
                    <div class="item-info">
                        <h4>Картофель фри / 150 г</h4>
                        <p class="item-description">Картофель, обжаренный во фритюре</p>
                    </div>
                    <div class="item-price">200 ₽</div>
                    <button class="add-to-cart" data-name="Картофель фри" data-price="200">В корзину</button>
                </div>
                
                <!-- Холодные закуски -->
                <div class="menu-item" data-category="cold-snacks">
                    <div class="item-info">
                        <h4>Ассорти из свежих овощей / 220 г</h4>
                        <p class="item-description">Помидоры, огурцы, болгарский перец, листы салата, маслянная заправка</p>
                    </div>
                    <div class="item-price">350 ₽</div>
                    <button class="add-to-cart" data-name="Ассорти из свежих овощей" data-price="350">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="cold-snacks">
                    <div class="item-info">
                        <h4>Сырная тарелка / 270 г</h4>
                        <p class="item-description">Дор блю, грано падано, брынза, виноград, грецкий орех</p>
                    </div>
                    <div class="item-price">510 ₽</div>
                    <button class="add-to-cart" data-name="Сырная тарелка" data-price="510">В корзину</button>
                </div>
                
                <!-- Салаты -->
                <div class="menu-item" data-category="salads">
                    <div class="item-info">
                        <h4>Цезарь с цыпленком / 280 г</h4>
                        <p class="item-description">Микс листовых салатов, соус Цезарь, филе цыпленка, гренки собственного производства, сыр, помидоры черри</p>
                    </div>
                    <div class="item-price">550 ₽</div>
                    <button class="add-to-cart" data-name="Цезарь с цыпленком" data-price="550">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="salads">
                    <div class="item-info">
                        <h4>Цезарь с креветками / 280 г</h4>
                        <p class="item-description">Микс листовых салатов, соус Цезарь, тигровые креветки, гренки собственного производства, сыр, помидоры черри</p>
                    </div>
                    <div class="item-price">700 ₽</div>
                    <button class="add-to-cart" data-name="Цезарь с креветками" data-price="700">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="salads">
                    <div class="item-info">
                        <h4>Баварский охотничий салат / 250 г</h4>
                        <p class="item-description">Копченые колбаски собственного производства, маринованные овощи, опята в горчичной заправке</p>
                    </div>
                    <div class="item-price">650 ₽</div>
                    <button class="add-to-cart" data-name="Баварский охотничий салат" data-price="650">В корзину</button>
                </div>
                
                <!-- Горячие блюда -->
                <div class="menu-item" data-category="hot-dishes">
                    <div class="item-info">
                        <h4>Стейк из свиной шейки / 195/90/50/35 г</h4>
                        <p class="item-description">Стейк из свиной шейки подается с ореховым соусом, хрустящими баклажанами и микс-салатом</p>
                    </div>
                    <div class="item-price">795 ₽</div>
                    <button class="add-to-cart" data-name="Стейк из свиной шейки" data-price="795">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="hot-dishes">
                    <div class="item-info">
                        <h4>Жареха с курицей / 380/60 г</h4>
                        <p class="item-description">Картофель жареный с куриным филе, острым перцем и овощами, подается с горчицей и сметаной</p>
                    </div>
                    <div class="item-price">550 ₽</div>
                    <button class="add-to-cart" data-name="Жареха с курицей" data-price="550">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="hot-dishes">
                    <div class="item-info">
                        <h4>Жареха со свининой / 380/60 г</h4>
                        <p class="item-description">Картофель жареный с филе свинины, острым перцем и овощами, подается с горчицей и сметаной</p>
                    </div>
                    <div class="item-price">550 ₽</div>
                    <button class="add-to-cart" data-name="Жареха со свининой" data-price="550">В корзину</button>
                </div>
                
                <!-- Пицца -->
                <div class="menu-item" data-category="pizza">
                    <div class="item-info">
                        <h4>Деревенская / 600 г</h4>
                        <p class="item-description">Тесто для пиццы, соус томатный, сыр Моцарелла, колбаса полукопченая, колбаски домашние, помидоры свежие, шампиньоны свежие, перец болгарский, огурцы консервированные, лук красный, масло чесночное, базилик сухой</p>
                    </div>
                    <div class="item-price">680 ₽</div>
                    <button class="add-to-cart" data-name="Пицца Деревенская" data-price="680">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="pizza">
                    <div class="item-info">
                        <h4>Карбонара / 520 г</h4>
                        <p class="item-description">Тесто для пиццы, соус томатный, сыр Моцарелла, бекон, яйцо куриное, сыр Пармезан, перец черный молотый, масло чесночное, базилик сухой</p>
                    </div>
                    <div class="item-price">650 ₽</div>
                    <button class="add-to-cart" data-name="Пицца Карбонара" data-price="650">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="pizza">
                    <div class="item-info">
                        <h4>Маргарита / 460 г</h4>
                        <p class="item-description">Тесто для пиццы, соус томатный, сыр Моцарелла, помидоры свежие, масло чесночное, базилик сухой</p>
                    </div>
                    <div class="item-price">550 ₽</div>
                    <button class="add-to-cart" data-name="Пицца Маргарита" data-price="550">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="pizza">
                    <div class="item-info">
                        <h4>Мясное ассорти / 560 г</h4>
                        <p class="item-description">Тесто для пиццы, соус томатный, сыр Моцарелла, колбаски домашние, язык говяжий, бекон, ветчина, колбаса Петерони, лук красный, масло чесночное, базилик сухой</p>
                    </div>
                    <div class="item-price">700 ₽</div>
                    <button class="add-to-cart" data-name="Пицца Мясное ассорти" data-price="700">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="pizza">
                    <div class="item-info">
                        <h4>Пеперони / 480 г</h4>
                        <p class="item-description">Тесто для пиццы, соус томатный, сыр Моцарелла, колбаса Петерони, помидоры свежие, перец красный чили, масло чесночное, базилик сухой</p>
                    </div>
                    <div class="item-price">650 ₽</div>
                    <button class="add-to-cart" data-name="Пицца Пеперони" data-price="650">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="pizza">
                    <div class="item-info">
                        <h4>С ветчиной и грибами / 560 г</h4>
                        <p class="item-description">Тесто для пиццы, соус томатный, сыр Моцарелла, ветчина, шампиньоны свежие, помидоры свежие, лук-порей, масло чесночное, базилик сухой</p>
                    </div>
                    <div class="item-price">680 ₽</div>
                    <button class="add-to-cart" data-name="Пицца с ветчиной и грибами" data-price="680">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="pizza">
                    <div class="item-info">
                        <h4>С ветчиной и курицей / 580 г</h4>
                        <p class="item-description">Тесто для пиццы, соус томатный, сыр Моцарелла, филе куриное, ветчина, помидоры свежие, лук-порей, масло чесночное, базилик сухой</p>
                    </div>
                    <div class="item-price">680 ₽</div>
                    <button class="add-to-cart" data-name="Пицца с ветчиной и курицей" data-price="680">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="pizza">
                    <div class="item-info">
                        <h4>Сырная Кватро Формаджи / 420 г</h4>
                        <p class="item-description">Тесто для пиццы, соус томатный, сыр Моцарелла, Сыр Гауда, сыр Дор Блю, сыр Фета, сыр Пармезан, масло чесночное, базилик сухой</p>
                    </div>
                    <div class="item-price">650 ₽</div>
                    <button class="add-to-cart" data-name="Пицца Сырная Кватро Формаджи" data-price="650">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="pizza">
                    <div class="item-info">
                        <h4>Цезарь с курицей / 580 г</h4>
                        <p class="item-description">Тесто для пиццы, соус Цезарь, сыр Моцарелла, филе куриное, помидоры черри, салат зеленый, сыр Пармезан</p>
                    </div>
                    <div class="item-price">690 ₽</div>
                    <button class="add-to-cart" data-name="Пицца Цезарь с курицей" data-price="690">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="pizza">
                    <div class="item-info">
                        <h4>Цезарь с креветками / 550 г</h4>
                        <p class="item-description">Тесто для пиццы, соус Цезарь, сыр Моцарелла, креветки тигровые, помидоры черри, салат зеленый, сыр Пармезан</p>
                    </div>
                    <div class="item-price">690 ₽</div>
                    <button class="add-to-cart" data-name="Пицца Цезарь с креветками" data-price="690">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="pizza">
                    <div class="item-info">
                        <h4>Цезарь с беконом / 570 г</h4>
                        <p class="item-description">Тесто для пиццы, соус Цезарь, сыр Моцарелла, бекон, помидоры черри, салат зеленый, сыр Пармезан</p>
                    </div>
                    <div class="item-price">690 ₽</div>
                    <button class="add-to-cart" data-name="Пицца Цезарь с беконом" data-price="690">В корзину</button>
                </div>
                
                <!-- Десерты -->
                <div class="menu-item" data-category="desserts">
                    <div class="item-info">
                        <h4>Чизкейк / 100 г</h4>
                    </div>
                    <div class="item-price">290 ₽</div>
                    <button class="add-to-cart" data-name="Чизкейк" data-price="290">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="desserts">
                    <div class="item-info">
                        <h4>Десерт дня / 100 г</h4>
                    </div>
                    <div class="item-price">290 ₽</div>
                    <button class="add-to-cart" data-name="Десерт дня" data-price="290">В корзину</button>
                </div>
                
                <!-- Соусы -->
                <div class="menu-item" data-category="sauces">
                    <div class="item-info">
                        <h4>BBQ / 50 г</h4>
                    </div>
                    <div class="item-price">65 ₽</div>
                    <button class="add-to-cart" data-name="Соус BBQ" data-price="65">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="sauces">
                    <div class="item-info">
                        <h4>Сырный / 50 г</h4>
                    </div>
                    <div class="item-price">65 ₽</div>
                    <button class="add-to-cart" data-name="Соус Сырный" data-price="65">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="sauces">
                    <div class="item-info">
                        <h4>Кисло-сладкий / 50 г</h4>
                    </div>
                    <div class="item-price">65 ₽</div>
                    <button class="add-to-cart" data-name="Соус Кисло-сладкий" data-price="65">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="sauces">
                    <div class="item-info">
                        <h4>Терияки / 50 г</h4>
                    </div>
                    <div class="item-price">65 ₽</div>
                    <button class="add-to-cart" data-name="Соус Терияки" data-price="65">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="sauces">
                    <div class="item-info">
                        <h4>Чесночный / 50 г</h4>
                    </div>
                    <div class="item-price">65 ₽</div>
                    <button class="add-to-cart" data-name="Соус Чесночный" data-price="65">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="sauces">
                    <div class="item-info">
                        <h4>Генсо ореховый / 50 г</h4>
                    </div>
                    <div class="item-price">65 ₽</div>
                    <button class="add-to-cart" data-name="Соус Генсо ореховый" data-price="65">В корзину</button>
                </div>
                
                <div class="menu-item" data-category="sauces">
                    <div class="item-info">
                        <h4>Чили / 50 г</h4>
                    </div>
                    <div class="item-price">65 ₽</div>
                    <button class="add-to-cart" data-name="Соус Чили" data-price="65">В корзину</button>
                </div>
            </div>
        </div>
    </section>
    <!-- СТРАНИЦА Бара -->
 <section id="bar" class="page">
        <div class="container">
            <h2 class="section-title">Барная карта</h2>
            
            <div class="tabs">
                <div class="tab-headers">
                    <div class="tab-header active" data-tab="Non-alcoholic cocktails"> Безалкогольные коктейли</div>
                    <div class="tab-header" data-tab="milk cocktail">Молочные коктейли</div>
                    <div class="tab-header" data-tab="fresh juice">Свежевыжатые соки</div>
                    <div class="tab-header" data-tab="Lemonades">Лимонады</div>
                    <div class="tab-header" data-tab="Alcohol-free drinks">Безалкогольные напитки</div>
                    <div class="tab-header" data-tab="Juices">Соки</div>
                    <div class="tab-header" data-tab="Alcoholic cocktails">Алкогольные коктейли</div>
                    <div class="tab-header" data-tab="Shots">Шоты</div>
                    <div class="tab-header" data-tab="Vodka">Водка</div>
                    <div class="tab-header" data-tab="whiskey">Виски</div>
                    <div class="tab-header" data-tab="Brandy/Cognac">Бренди/Коньяк</div>
                    <div class="tab-header" data-tab="Tequila">Текила</div>
                    <div class="tab-header" data-tab="Gin">Джин</div>
                    <div class="tab-header" data-tab="Sets of shots">Сеты из шотов</div>
                    <div class="tab-header" data-tab="Wine">Вино</div>
                    <div class="tab-header" data-tab="Sparkling wines">Игристые вина</div>
                    <div class="tab-header" data-tab="Bottled beer">Бутылочное пиво</div>
                    <div class="tab-header" data-tab="Beer snacks">Снеки к пиву</div>
                    <div class="tab-header" data-tab="Tea">Чай</div>
                    <div class="tab-header" data-tab="Homemade tea">Домашний чай</div>
                    <div class="tab-header" data-tab="Coffee">Кофе</div>
                    <div class="tab-header" data-tab="Ice cream">Мороженое</div>
                    <div class="tab-header" data-tab="Drinks with a juice ball">Напитки с джусс-болл</div>
                    <div class="tab-header" data-tab="Milkshakes">Милкшейки</div>
                    <div class="tab-header" data-tab="Special offer">Спецпредложение</div>
                </div>
                
                <!-- Содержимое вкладок бара -->
                <div class="tab-content active" id="Non-alcoholic cocktails-tab">
                    <div class="menu-items">
                        <!-- Пример напитка -->
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Цитрон / 250 мл</h4>
                                    <p class="item-description">Лимон, апельсин, сироп Гренадин, минеральная вода</p>
                                </div>
                                <div class="item-price">210 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Цитрон">-</button>
                                    <span class="quantity-value" data-item="Цитрон">1</span>
                                    <button class="quantity-btn plus" data-item="Цитрон">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Цитрон" data-price="210">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>
                        
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Кокосово-ананасовый / 210 мл</h4>
                                    <p class="item-description">Ананасовый сок, кокосовый сироп, молоко</p>
                                </div>
                                <div class="item-price">210 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Кокосово-ананасовый">-</button>
                                    <span class="quantity-value" data-item="Кокосово-ананасовый">1</span>
                                    <button class="quantity-btn plus" data-item="Кокосово-ананасовый">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Кокосово-ананасовый" data-price="210">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>
                        
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Мохито / 260 мл</h4>
                                    <p class="item-description"> Газированная вода, сахарный сироп, лайм, мята</p>
                                </div>
                                <div class="item-price">220 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Мохито">-</button>
                                    <span class="quantity-value" data-item="Мохито">1</span>
                                    <button class="quantity-btn plus" data-item="Мохито">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Мохито" data-price="220">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>


                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Апельсиновый / 340 мл</h4>
                                    <p class="item-description"> Апельсиновый сок, персиковый сок, лимон, сироп Блю Карасао</p>
                                </div>
                                <div class="item-price">250 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Апельсиновый">-</button>
                                    <span class="quantity-value" data-item="Апельсиновый">1</span>
                                    <button class="quantity-btn plus" data-item="Апельсиновый">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Апельсиновый" data-price="250">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>
                        
                     
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Грейпфрут / 340 мл</h4>
                                    <p class="item-description">Грейпфрутовый сок, газированная вода, сироп Ванильный, лимон</p>
                                </div>
                                <div class="item-price">250 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Грейпфрут">-</button>
                                    <span class="quantity-value" data-item="Грейпфрут">1</span>
                                    <button class="quantity-btn plus" data-item="Грейпфрут">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Грейпфрут" data-price="250">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>
                        
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Вишневый / 340 мл</h4>
                                    <p class="item-description">Вишневый сок, газированная вода, сироп Гренадин, лимон</p>
                                </div>
                                <div class="item-price">250 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Вишневый">-</button>
                                    <span class="quantity-value" data-item="Вишневый">1</span>
                                    <button class="quantity-btn plus" data-item="Вишневый">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Вишневый" data-price="250">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>
             
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Морской бриз / 400 мл</h4>
                                    <p class="item-description">Ананасовый сок, газированная вода лимон-лайм, сироп Блю Карасао, лимонный фреш</p>
                                </div>
                                <div class="item-price">250 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Морской бриз">-</button>
                                    <span class="quantity-value" data-item="Морской бриз">1</span>
                                    <button class="quantity-btn plus" data-item="Морской бриз">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Морской бриз" data-price="250">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>
             
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Гранатовый поцелуй / 400 мл</h4>
                                    <p class="item-description">Гранатовый сок, газированная вода лимон-лайм, апельсин</p>
                                </div>
                                <div class="item-price">250 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Гранатовый поцелуй">-</button>
                                    <span class="quantity-value" data-item="Гранатовый поцелуй">1</span>
                                    <button class="quantity-btn plus" data-item="Гранатовый поцелуй">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Гранатовый поцелуй" data-price="250">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                    </div>
                </div>
                
                <div class="tab-content" id="milk cocktail-tab">
                    <div class="menu-items">
                        <!-- Молочные коктейли -->
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Ванильный / 300 мл</h4>
                                    <p class="item-description">Ванильный пломбир, молоко, сироп</p>
                                </div>
                                <div class="item-price">270 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Ванильный">-</button>
                                    <span class="quantity-value" data-item="Ванильный">1</span>
                                    <button class="quantity-btn plus" data-item="Ванильный">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Ванильный" data-price="270">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>
                        
                              <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Соленая карамель / 300 мл</h4>
                                    <p class="item-description">Ванильный пломбир, молоко, сироп</p>
                                </div>
                                <div class="item-price">270 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Соленая карамель">-</button>
                                    <span class="quantity-value" data-item="Соленая карамель">1</span>
                                    <button class="quantity-btn plus" data-item="Соленая карамель">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Соленая карамель" data-price="270">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>
                            
                              <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Клубничный / 300 мл</h4>
                                    <p class="item-description">Ванильный пломбир, молоко, сироп</p>
                                </div>
                                <div class="item-price">270 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Клубничный">-</button>
                                    <span class="quantity-value" data-item="Клубничный">1</span>
                                    <button class="quantity-btn plus" data-item="Клубничный">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Клубничный" data-price="270">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>
                            
                              <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Кокосовый / 300 мл</h4>
                                    <p class="item-description">Ванильный пломбир, молоко, сироп</p>
                                </div>
                                <div class="item-price">270 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Кокосовый">-</button>
                                    <span class="quantity-value" data-item="Кокосовый">1</span>
                                    <button class="quantity-btn plus" data-item="Кокосовый">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Кокосовый" data-price="270">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>
                            
                              <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Шоколадный / 300 мл</h4>
                                    <p class="item-description">Шоколадный пломбир, молоко, сироп</p>
                                </div>
                                <div class="item-price">270 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Шоколадный">-</button>
                                    <span class="quantity-value" data-item="Шоколадный">1</span>
                                    <button class="quantity-btn plus" data-item="Шоколадный">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Шоколадный" data-price="270">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>
                            
                              <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Бабл Гам / 300 мл</h4>
                                    <p class="item-description">Ванильный пломбир, молоко, сироп</p>
                                </div>
                                <div class="item-price">270 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Бабл Гам">-</button>
                                    <span class="quantity-value" data-item="Бабл Гам">1</span>
                                    <button class="quantity-btn plus" data-item="Бабл Гам">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Бабл Гам" data-price="270">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>
                            
                              <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Грушевый / 300 мл</h4>
                                    <p class="item-description">Ванильный пломбир, молоко, сироп</p>
                                </div>
                                <div class="item-price">270 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Грушевый">-</button>
                                    <span class="quantity-value" data-item="Грушевый">1</span>
                                    <button class="quantity-btn plus" data-item="Грушевый">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Грушевый" data-price="270">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>
                            
                              <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Маракуйя / 300 мл</h4>
                                    <p class="item-description">Ванильный пломбир, молоко, сироп</p>
                                </div>
                                <div class="item-price">270 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Маракуйя">-</button>
                                    <span class="quantity-value" data-item="Маракуйя">1</span>
                                    <button class="quantity-btn plus" data-item="Маракуйя">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Маракуйя" data-price="270">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>
                            
                              <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Орех макадамия / 300 мл</h4>
                                    <p class="item-description">Ванильный пломбир, молоко, сироп</p>
                                </div>
                                <div class="item-price">270 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Орех макадамия">-</button>
                                    <span class="quantity-value" data-item="Орех макадамия">1</span>
                                    <button class="quantity-btn plus" data-item="Орех макадамия">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Орех макадамия" data-price="270">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>
                    </div>
                 </div>
                       
               
                <div class="tab-content" id="fresh juice-tab">
                    <div class="menu-items">
                       <!-- Свежавыжатые соки -->
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Фреш апельсиновый / 200 мл</h4>
                                </div>
                                <div class="item-price">280 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Фреш апельсиновый">-</button>
                                    <span class="quantity-value" data-item="Фреш апельсиновый">1</span>
                                    <button class="quantity-btn plus" data-item="Фреш апельсиновый">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Фреш апельсиновый" data-price="280">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Фреш Грейпфрутовый / 200 мл</h4>
                                </div>
                                <div class="item-price">280 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Фреш Грейпфрутовый">-</button>
                                    <span class="quantity-value" data-item="Фреш Грейпфрутовый">1</span>
                                    <button class="quantity-btn plus" data-item="Фреш Грейпфрутовый">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Фреш Грейпфрутовый" data-price="280">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Фреш Микс / 200 мл</h4>
                                    <p class="item-description">апельсин, грейпфрут</p>
                                </div>
                                <div class="item-price">280 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Фреш Микс">-</button>
                                    <span class="quantity-value" data-item="Фреш Микс">1</span>
                                    <button class="quantity-btn plus" data-item="Фреш Микс">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Фреш Микс" data-price="280">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="Lemonades-tab">
                    <div class="menu-items">
                        <!-- Лимонады -->
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Цитрусовый / 1000 мл</h4>
                                    <p class="item-description">Газированная вода, сахарный сироп, мята, цитрусы</p>
                                </div>
                                <div class="item-price">520 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Цитрусовый">-</button>
                                    <span class="quantity-value" data-item="Цитрусовый">1</span>
                                    <button class="quantity-btn plus" data-item="Цитрусовый">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Цитрусовый" data-price="520">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Яблочно-грушевый/ 1000 мл</h4>
                                    <p class="item-description">Яблочный сок, газированная вода, сироп Груша</p>
                                </div>
                                <div class="item-price">520 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Яблочно-грушевый">-</button>
                                    <span class="quantity-value" data-item="Яблочно-грушевый">1</span>
                                    <button class="quantity-btn plus" data-item="Яблочно-грушевый">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Яблочно-грушевый" data-price="520">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Персиковый / 1000 мл</h4>
                                    <p class="item-description">Персиковый сок, газированная вода, сироп Клубника</p>
                                </div>
                                <div class="item-price">520 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Цитрусовый">-</button>
                                    <span class="quantity-value" data-item="Цитрусовый">1</span>
                                    <button class="quantity-btn plus" data-item="Цитрусовый">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Цитрусовый" data-price="520">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                     <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Клубничный / 1000 мл</h4>
                                    <p class="item-description">Яблочный сок, тоник, газированная вода, сироп Клубника</p>
                                </div>
                                <div class="item-price">520 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Клубничный">-</button>
                                    <span class="quantity-value" data-item="Клубничный">1</span>
                                    <button class="quantity-btn plus" data-item="Клубничный">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Клубничный" data-price="520">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                      <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Ягодный / 1000 мл</h4>
                                    <p class="item-description">Гранатовый сок, вишневый сок, газированная вода, сироп Гренадин</p>
                                </div>
                                <div class="item-price">520 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Ягодный">-</button>
                                    <span class="quantity-value" data-item="Ягодный">1</span>
                                    <button class="quantity-btn plus" data-item="Ягодный">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Ягодный" data-price="520">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Тропический / 1000 мл</h4>
                                    <p class="item-description">Ананасовый сок, лимонный фреш, газированная вода, сироп Маракуйя</p>
                                </div>
                                <div class="item-price">520 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Тропический">-</button>
                                    <span class="quantity-value" data-item="Тропический">1</span>
                                    <button class="quantity-btn plus" data-item="Тропический">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Тропический" data-price="520">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                     <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Клубника-фейхоа / 1000 мл</h4>
                                    <p class="item-description">Газированная вода, газированный напиток со вкусом лимон-лайм, лайм, мята, основа для напитков Клубника-фейхоа</p>
                                </div>
                                <div class="item-price">520 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Клубничный">-</button>
                                    <span class="quantity-value" data-item="Клубничный">1</span>
                                    <button class="quantity-btn plus" data-item="Клубничный">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Клубничный" data-price="520">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="Alcohol-free drinks-tab">
                    <div class="menu-items">
                        <!-- Безалкогольные напитки -->
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Аква минирале / 500 мл</h4>
                                </div>
                                <div class="item-price">120 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Аква минирале">-</button>
                                    <span class="quantity-value" data-item="Аква минирале">1</span>
                                    <button class="quantity-btn plus" data-item="Аква минирале">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Аква минирале" data-price="120">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                         <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Кола / 500 мл</h4>
                                </div>
                                <div class="item-price">150 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Кола">-</button>
                                    <span class="quantity-value" data-item="Кола">1</span>
                                    <button class="quantity-btn plus" data-item="Кола">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Кола" data-price="150">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                         <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Лимон-лайм / 500 мл</h4>
                                </div>
                                <div class="item-price">150 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Лимон-лайм">-</button>
                                    <span class="quantity-value" data-item="Лимон-лайм">1</span>
                                    <button class="quantity-btn plus" data-item="Лимон-лайм">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Лимон-лайм" data-price="150">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                         <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Апельсин / 500 мл</h4>
                                </div>
                                <div class="item-price">150 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Апельсин">-</button>
                                    <span class="quantity-value" data-item="Апельсин">1</span>
                                    <button class="quantity-btn plus" data-item="Апельсин">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Апельсин" data-price="150">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                         <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Тоник / 1000 мл</h4>
                                </div>
                                <div class="item-price">250 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Тоник">-</button>
                                    <span class="quantity-value" data-item="Тоник">1</span>
                                    <button class="quantity-btn plus" data-item="Тоник">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Тоник" data-price="250">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                         <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Адреналин Раш / 250 мл</h4>
                                </div>
                                <div class="item-price">190 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Адреналин Раш">-</button>
                                    <span class="quantity-value" data-item="Адреналин Раш">1</span>
                                    <button class="quantity-btn plus" data-item="Адреналин Раш">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Адреналин Раш" data-price="190">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="Juices-tab">
                    <div class="menu-items">
                        <!-- Соки -->
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>В ассортименте / 200 мл</h4>
                                </div>
                                <div class="item-price">80 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="В ассортименте">-</button>
                                    <span class="quantity-value" data-item="В ассортименте">1</span>
                                    <button class="quantity-btn plus" data-item="В ассортименте">+</button>
                                </div>
                                <button class="add-to-cart" data-name="В ассортименте" data-price="80">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                          <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>В ассортименте / 1000 мл</h4>
                                </div>
                                <div class="item-price">390 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="В ассортименте">-</button>
                                    <span class="quantity-value" data-item="В ассортименте">1</span>
                                    <button class="quantity-btn plus" data-item="В ассортименте">+</button>
                                </div>
                                <button class="add-to-cart" data-name="В ассортименте" data-price="390">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="Alcoholic cocktails-tab">
                    <div class="menu-items">
                        <!-- Алкогольные коктейли -->
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Кубинский апельсин / 230 мл</h4>
                                    <p class="item-description">Светлый ром, сок апельсиновый, сок персиковый, сироп Блю Карасао</p>
                                </div>
                                <div class="item-price">350 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Кубинский апельсин">-</button>
                                    <span class="quantity-value" data-item="Кубинский апельсин">1</span>
                                    <button class="quantity-btn plus" data-item="Кубинский апельсин">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Кубинский апельсин" data-price="350">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                               <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Пина Колада / 280 мл</h4>
                                    <p class="item-description">Светлый ром, ананасовый сок, кокосовый сироп, молоко</p>
                                </div>
                                <div class="item-price">350 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Пина Колада">-</button>
                                    <span class="quantity-value" data-item="Пина Колада">1</span>
                                    <button class="quantity-btn plus" data-item="Пина Колада">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Пина Колада" data-price="350">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Лонг-Айленд Айс Ти / 310 мл</h4>
                                    <p class="item-description">Водка, светлый ром, текила, джин, апельсиновый ликер, лимонный сок, кола</p>
                                </div>
                                <div class="item-price">400 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Лонг-Айленд Айс Ти">-</button>
                                    <span class="quantity-value" data-item="Лонг-Айленд Айс Ти">1</span>
                                    <button class="quantity-btn plus" data-item="Лонг-Айленд Айс Ти">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Лонг-Айленд Айс Ти" data-price="450">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Секс на пляже / 310 мл</h4>
                                    <p class="item-description">Черносмородиновый ликер, водка, сироп Гренадин, персиковый сок, апельсиновый сок</p>
                                </div>
                                <div class="item-price">350 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Секс на пляже">-</button>
                                    <span class="quantity-value" data-item="Секс на пляже">1</span>
                                    <button class="quantity-btn plus" data-item="Секс на пляже">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Секс на пляже" data-price="350">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Смородиновая Кайпиринья / 170 мл</h4>
                                    <p class="item-description">Черносмородиновый ликер, светлый ром, сахарный сироп, сок лимона</p>
                                </div>
                                <div class="item-price">260 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Смородиновая Кайпиринья">-</button>
                                    <span class="quantity-value" data-item="Смородиновая Кайпиринья">1</span>
                                    <button class="quantity-btn plus" data-item="Смородиновая Кайпиринья">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Смородиновая Кайпиринья" data-price="260">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Лонгберри / 170 мл</h4>
                                    <p class="item-description">Водка, светлый ром, текила, джин, Черносмородиновый ликер, сироп Клубника, грейпфрутовый сок</p>
                                </div>
                                <div class="item-price">450 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Лонгберри">-</button>
                                    <span class="quantity-value" data-item="Лонгберри">1</span>
                                    <button class="quantity-btn plus" data-item="Лонгберри">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Лонгберри" data-price="450">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Текила Санрайз / 350 мл</h4>
                                    <p class="item-description">Серебрянная текила, апельсиновый сок, сироп Гренадин</p>
                                </div>
                                <div class="item-price">370 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Текила Санрайз">-</button>
                                    <span class="quantity-value" data-item="Текила Санрайз">1</span>
                                    <button class="quantity-btn plus" data-item="Текила Санрайз">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Текила Санрайз" data-price="370">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Мохито / 260 мл</h4>
                                    <p class="item-description">Ром, газированная вода, сахарный сироп, лайм, мята</p>
                                </div>
                                <div class="item-price">320 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Мохито">-</button>
                                    <span class="quantity-value" data-item="Мохито">1</span>
                                    <button class="quantity-btn plus" data-item="Мохито">+</button>
                                </div>
                                <button class="add-to-cart" data-name="мохито" data-price="320">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Ириска / 390 мл</h4>
                                    <p class="item-description">Виски, сироп Соленая карамель, апельсиновый сок, сливки, молоко</p>
                                </div>
                                <div class="item-price">370 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Ириска">-</button>
                                    <span class="quantity-value" data-item="Ириска">1</span>
                                    <button class="quantity-btn plus" data-item="Ириска">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Ириска" data-price="370">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Веселый гамми / 390 мл</h4>
                                    <p class="item-description">Виски, сок персиковый, сироп Маракуйя, сок лимона, тоник, мармеладные мишки</p>
                                </div>
                                <div class="item-price">370 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Веселый гамми">-</button>
                                    <span class="quantity-value" data-item="Веселый гамми">1</span>
                                    <button class="quantity-btn plus" data-item="Веселый гамми">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Веселый гамми" data-price="370">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Вишневый сад / 200 мл</h4>
                                    <p class="item-description">Джин, сок гранатовый, сок вишневый, лимонный фреш, сироп Гренадин, малина сублимированная</p>
                                </div>
                                <div class="item-price">350 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Вишневый сад">-</button>
                                    <span class="quantity-value" data-item="Вишневый сад">1</span>
                                    <button class="quantity-btn plus" data-item="Вишневый сад">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Вишневый сад" data-price="350">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Апероль Сауэр / 250 мл</h4>
                                    <p class="item-description">Ликер Аперитиво, лимонный фреш, сахарный сироп</p>
                                </div>
                                <div class="item-price">350 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Апероль Сауэр">-</button>
                                    <span class="quantity-value" data-item="Апероль Сауэр">1</span>
                                    <button class="quantity-btn plus" data-item="Апероль Сауэр">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Апероль Сауэр" data-price="350">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Май Тай / 400 мл</h4>
                                    <p class="item-description">Ром, апельсиновый ликер, сок ананасовый, сок апельсиновый, лимонный фреш, сахарный сироп</p>
                                </div>
                                <div class="item-price">390 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Май Тай">-</button>
                                    <span class="quantity-value" data-item="Май Тай">1</span>
                                    <button class="quantity-btn plus" data-item="Май Тай">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Май Тай" data-price="390">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Тропики / 390 мл</h4>
                                    <p class="item-description">Джин, сок ананасовый, сироп Маракуйя, тоник</p>
                                </div>
                                <div class="item-price">350 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Тропики">-</button>
                                    <span class="quantity-value" data-item="Тропики">1</span>
                                    <button class="quantity-btn plus" data-item="Тропики">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Тропики" data-price="350">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Апероль / 360 мл</h4>
                                    <p class="item-description">Настойка Апиритиво, шампанское брют, газированная вода, апельсин</p>
                                </div>
                                <div class="item-price">370 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Апероль">-</button>
                                    <span class="quantity-value" data-item="Апероль">1</span>
                                    <button class="quantity-btn plus" data-item="Апероль">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Апероль" data-price="370">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Замороженный Беллини / 400 мл</h4>
                                    <p class="item-description">Бренди, шампанское брют, персиковый сок, сироп Соленая карамель</p>
                                </div>
                                <div class="item-price">370 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Замороженный Беллини">-</button>
                                    <span class="quantity-value" data-item="Замороженный Беллини">1</span>
                                    <button class="quantity-btn plus" data-item="Замороженный Беллини">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Замороженный Беллини" data-price="370">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Мохито Черносмородиновый / 250 мл</h4>
                                    <p class="item-description">Ликер Черная смородина, газированная вода, лайм, мята</p>
                                </div>
                                <div class="item-price">320 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Мохито Черносмородиновый">-</button>
                                    <span class="quantity-value" data-item="Мохито Черносмородиновый">1</span>
                                    <button class="quantity-btn plus" data-item="Мохито Черносмородиновый">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Мохито Черносмородиновый" data-price="320">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Ром Кола / 250 мл</h4>
                                </div>
                                <div class="item-price">280 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Ром Кола">-</button>
                                    <span class="quantity-value" data-item="Ром Кола">1</span>
                                    <button class="quantity-btn plus" data-item="Ром Кола">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Ром Кола" data-price="280">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                         <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Виски Кола / 250 мл</h4>
                                </div>
                                <div class="item-price">280 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Висик Кола">-</button>
                                    <span class="quantity-value" data-item="Виски Кола">1</span>
                                    <button class="quantity-btn plus" data-item="Виски Кола">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Виски Кола" data-price="280">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                         <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Коньяк Кола / 250 мл</h4>
                                </div>
                                <div class="item-price">280 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Коньяк Кола">-</button>
                                    <span class="quantity-value" data-item="Коньяк Кола">1</span>
                                    <button class="quantity-btn plus" data-item="Коньяк Кола">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Коньяк Кола" data-price="280">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                         <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Джин Тоник / 250 мл</h4>
                                </div>
                                <div class="item-price">280 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Джин Тоник">-</button>
                                    <span class="quantity-value" data-item="Джин Тоник">1</span>
                                    <button class="quantity-btn plus" data-item="Джин Тоник">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Джин Тоник" data-price="280">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="Shots-tab">
                    <div class="menu-items">
                        <!-- Шоты -->
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Штормовое предупреждение / 50 мл</h4>
                                    <p class="item-description">Водка, яблочный сок, сироп Бабл Гам</p>
                                </div>
                                <div class="item-price">210 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Штормовое предупреждение">-</button>
                                    <span class="quantity-value" data-item="Штормовое предупреждение">1</span>
                                    <button class="quantity-btn plus" data-item="Штормовое предупреждение">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Штормовое предупреждение" data-price="210">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Юпитер / 50 мл</h4>
                                    <p class="item-description">Черносмородиновый ликер, светлый ром, сок персиковый</p>
                                </div>
                                <div class="item-price">210 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Юпитер">-</button>
                                    <span class="quantity-value" data-item="Юпитер">1</span>
                                    <button class="quantity-btn plus" data-item="Юпитер">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Юпитер" data-price="210">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="Vodka-tab">
                    <div class="menu-items">
                        <!-- Водка -->
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Вологодская марка / 50 мл</h4>
                                </div>
                                <div class="item-price">110 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Вологодская марка">-</button>
                                    <span class="quantity-value" data-item="Вологодская марка">1</span>
                                    <button class="quantity-btn plus" data-item="Вологодская марка">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Вологодская марка" data-price="110">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Тундра Аутентик / 50 мл</h4>
                                </div>
                                <div class="item-price">120 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Тундра Аутентик">-</button>
                                    <span class="quantity-value" data-item="Тундра Аутентик">1</span>
                                    <button class="quantity-btn plus" data-item="Тундра Аутентик">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Тундра Аутентик" data-price="120">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="whiskey-tab">
                    <div class="menu-items">
                        <!-- Виски -->
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Баллантайс Файнест / 50 мл</h4>
                                    <p class="item-description">Шотландия</p>
                                </div>
                                <div class="item-price">410 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Баллантайс Файнест">-</button>
                                    <span class="quantity-value" data-item="Баллантайс Файнест">1</span>
                                    <button class="quantity-btn plus" data-item="Баллантайс Файнест">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Баллантайс Файнест" data-price="410">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Джемесон / 50 мл</h4>
                                    <p class="item-description">Ирландия</p>
                                </div>
                                <div class="item-price">450 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Джемесон">-</button>
                                    <span class="quantity-value" data-item="Джемесон">1</span>
                                    <button class="quantity-btn plus" data-item="Джемесон">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Джемесон" data-price="450">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                    </div>
                </div>
                
                <div class="tab-content" id="Brandy/Cognac-tab">
                    <div class="menu-items">
                        <!-- Бренди/Коньяк -->
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Дербент / 50 мл</h4>
                                    <p class="item-description">Россия</p>
                                </div>
                                <div class="item-price">220 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Дербент">-</button>
                                    <span class="quantity-value" data-item="Дербент">1</span>
                                    <button class="quantity-btn plus" data-item="Дербент">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Дербент" data-price="220">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Тигранакерт VSOP / 50 мл</h4>
                                    <p class="item-description">Армения</p>
                                </div>
                                <div class="item-price">270 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Тигранакерт VSOP">-</button>
                                    <span class="quantity-value" data-item="Тигранакерт VSOP">1</span>
                                    <button class="quantity-btn plus" data-item="Тигранакерт VSOP">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Тигранакерт VSOP" data-price="270">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                    </div>
                </div>
                
                <div class="tab-content" id="Tequila-tab">
                    <div class="menu-items">
                        <!-- Текила -->
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Дос Компаньерс / 50 мл</h4>
                                </div>
                                <div class="item-price">270 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Дос Компаньерс">-</button>
                                    <span class="quantity-value" data-item="Дос Компаньерс">1</span>
                                    <button class="quantity-btn plus" data-item="Дос Компаньерс">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Дос Компаньерс" data-price="270">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="Gin-tab">
                    <div class="menu-items">
                        <!-- Джин -->
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Шерлок / 50 мл</h4>
                                </div>
                                <div class="item-price">220 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Шерлок">-</button>
                                    <span class="quantity-value" data-item="Шерлок">1</span>
                                    <button class="quantity-btn plus" data-item="Шерлок">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Шерлок" data-price="220">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="tab-content" id="Sets of shots-tab">
                    <div class="menu-items">
                        <!-- Сеты из шотов -->
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Пикантный полюс / 4*50 мл</h4>
                                    <p class="item-description">Виски, сироп Маракуйя, апельсиновый сок, сок лимона, мята</p>
                                </div>
                                <div class="item-price">590 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Пикантный полюс">-</button>
                                    <span class="quantity-value" data-item="Пикантный полюс">1</span>
                                    <button class="quantity-btn plus" data-item="Пикантный полюс">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Пикантный полюс" data-price="590">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Ягодный микс / 4*50 мл</h4>
                                    <p class="item-description">ликер Черная смородина, грейпфрутовый сок, сироп Гренадин, грейпфрут</p>
                                </div>
                                <div class="item-price">590 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Ягодный микс">-</button>
                                    <span class="quantity-value" data-item="Ягодный микс">1</span>
                                    <button class="quantity-btn plus" data-item="Ягодный микс">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Ягодный микс" data-price="590">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                         <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Кучевый облака / 4*50 мл</h4>
                                    <p class="item-description">Ром, яблочный сок, сливки, молоко, сироп Соленая карамель, маршмеллоу</p>
                                </div>
                                <div class="item-price">590 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Кучевый облака">-</button>
                                    <span class="quantity-value" data-item="Кучевый облака">1</span>
                                    <button class="quantity-btn plus" data-item="Кучевый облака">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Кучевый облака" data-price="590">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Голубой мармелад / 4*50 мл</h4>
                                    <p class="item-description">Водка, яблочный сок, сироп Блю Карасао, мармелад</p>
                                </div>
                                <div class="item-price">590 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Голубой мармелад">-</button>
                                    <span class="quantity-value" data-item="Голубой мармелад">1</span>
                                    <button class="quantity-btn plus" data-item="Голубой мармелад">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Голубой мармелад" data-price="590">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                         <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Привет из Мексики / 4*50 мл</h4>
                                    <p class="item-description">Текила, шоколадный сироп, апельсин, корица</p>
                                </div>
                                <div class="item-price">590 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Привет из Мексики">-</button>
                                    <span class="quantity-value" data-item="Привет из Мексики">1</span>
                                    <button class="quantity-btn plus" data-item="Привет из Мексики">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Привет из Мексики" data-price="590">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                    </div>
                </div>
                
                <div class="tab-content" id="Wine-tab">
                    <div class="menu-items">
                        <!-- Вино -->
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Кюве Д'Ор белое сухое/ 750 мл</h4>
                                    <p class="item-description">Краснодарский край</p>
                                </div>
                                <div class="item-price">1100 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Кюве Д'Ор белое сухое">-</button>
                                    <span class="quantity-value" data-item="Кюве Д'Ор белое сухое">1</span>
                                    <button class="quantity-btn plus" data-item="Кюве Д'Ор белое сухое">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Кюве Д'Ор белое сухое" data-price="1100">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Кюве Д'Ор белое полусладке/ 750 мл</h4>
                                    <p class="item-description">Краснодарский край</p>
                                </div>
                                <div class="item-price">1100 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Кюве Д'Ор белое полусладке">-</button>
                                    <span class="quantity-value" data-item="Кюве Д'Ор белое полусладке">1</span>
                                    <button class="quantity-btn plus" data-item="Кюве Д'Ор белое полусладке">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Кюве Д'Ор белое полусладке" data-price="1100">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Кюве Д'Ор красное сухое/ 750 мл</h4>
                                    <p class="item-description">Краснодарский край</p>
                                </div>
                                <div class="item-price">1100 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Кюве Д'Ор красное сухое">-</button>
                                    <span class="quantity-value" data-item="Кюве Д'Ор красное сухое">1</span>
                                    <button class="quantity-btn plus" data-item="Кюве Д'Ор красное сухое">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Кюве Д'Ор красное сухое" data-price="1100">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Кюве Д'Ор красное полусладкое/ 750 мл</h4>
                                    <p class="item-description">Краснодарский край</p>
                                </div>
                                <div class="item-price">1100 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Кюве Д'Ор красное полусладкое">-</button>
                                    <span class="quantity-value" data-item="Кюве Д'Ор красное полусладкое">1</span>
                                    <button class="quantity-btn plus" data-item="Кюве Д'Ор красное полусладкое">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Кюве Д'Ор красное полусладкое" data-price="1100">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                    </div>
                </div>
                
                <div class="tab-content" id="Sparkling wines-tab">
                    <div class="menu-items">
                        <!-- Игристые вина -->
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Российское Шампанское Полусладкое / 750 мл</h4>
                                    <p class="item-description">Россия</p>
                                </div>
                                <div class="item-price">850 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Российское Шампанское Полусладкое">-</button>
                                    <span class="quantity-value" data-item="Российское Шампанское Полусладкое">1</span>
                                    <button class="quantity-btn plus" data-item="Российское Шампанское Полусладкое">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Российское Шампанское Полусладкое" data-price="850">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Российское Шампанское Брют / 750 мл</h4>
                                    <p class="item-description">Россия</p>
                                </div>
                                <div class="item-price">850 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Российское Шампанское Брют">-</button>
                                    <span class="quantity-value" data-item="Российское Шампанское Брют">1</span>
                                    <button class="quantity-btn plus" data-item="Российское Шампанское Брют">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Российское Шампанское Брют" data-price="850">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Black Sea Collection Брют / 750 мл</h4>
                                    <p class="item-description">Россия</p>
                                </div>
                                <div class="item-price">1200 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Black Sea Collection Брют">-</button>
                                    <span class="quantity-value" data-item="Black Sea Collection Брют">1</span>
                                    <button class="quantity-btn plus" data-item="Black Sea Collection Брют">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Black Sea Collection Брют" data-price="1200">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Black Sea Collection Полусладкое / 750 мл</h4>
                                    <p class="item-description">Россия</p>
                                </div>
                                <div class="item-price">1200 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Black Sea Collection Полусладкое">-</button>
                                    <span class="quantity-value" data-item="Black Sea Collection Полусладкое">1</span>
                                    <button class="quantity-btn plus" data-item="Black Sea Collection Полусладкое">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Black Sea Collection Полусладкое" data-price="1200">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Ламбруско / 750 мл</h4>
                                    <p class="item-description">Италия</p>
                                </div>
                                <div class="item-price">1300 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Ламбруско">-</button>
                                    <span class="quantity-value" data-item="Ламбруско">1</span>
                                    <button class="quantity-btn plus" data-item="Ламбруско">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Ламбруско" data-price="1300">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                    </div>
                </div>
                
                <div class="tab-content" id="Bottled beer-tab">
                    <div class="menu-items">
                        <!-- Бутылочное пиво -->
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Крушовице тёмное / 450 мл</h4>
                                </div>
                                <div class="item-price">300 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Крушовице тёмное">-</button>
                                    <span class="quantity-value" data-item="Крушовице тёмное">1</span>
                                    <button class="quantity-btn plus" data-item="Крушовице тёмное">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Крушовице тёмное" data-price="300">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Крушовице светлое / 450 мл</h4>
                                </div>
                                <div class="item-price">300 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Крушовице светлое">-</button>
                                    <span class="quantity-value" data-item="Крушовице светлое">1</span>
                                    <button class="quantity-btn plus" data-item="Крушовице светлое">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Крушовице светлое" data-price="300">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Хугарден / 440 мл</h4>
                                    <p class="item-description">Нефильтрованное</p>
                                </div>
                                <div class="item-price">300 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Хугарден">-</button>
                                    <span class="quantity-value" data-item="Хугарден">1</span>
                                    <button class="quantity-btn plus" data-item="Хугарден">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Хугарден" data-price="300">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>
                        
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Хугарден Грейпфрут/ 440 мл</h4>
                                    <p class="item-description">Нефильтрованное</p>
                                </div>
                                <div class="item-price">300 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Хугарден Грейпфрут">-</button>
                                    <span class="quantity-value" data-item="Хугарден Грейпфрут">1</span>
                                    <button class="quantity-btn plus" data-item="Хугарден Грейпфрут">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Хугарден Грейпфрут" data-price="300">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Голландия светлое/ 450 мл</h4>
                                </div>
                                <div class="item-price">300 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Голландия светлое">-</button>
                                    <span class="quantity-value" data-item="Голландия светлое">1</span>
                                    <button class="quantity-btn plus" data-item="Голландия светлое">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Голландия светлое" data-price="300">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Бад безалкогольное/ 300 мл</h4>
                                </div>
                                <div class="item-price">220 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Бад безалкогольное">-</button>
                                    <span class="quantity-value" data-item="Бад безалкогольное">1</span>
                                    <button class="quantity-btn plus" data-item="Бад безалкогольное">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Бад безалкогольное" data-price="220">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                    </div>
                </div>
                
                <div class="tab-content" id="Beer snacks-tab">
                    <div class="menu-items">
                        <!-- Снеки к пиву -->
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Арахис / 30 г</h4>
                                </div>
                                <div class="item-price">100 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Арахис">-</button>
                                    <span class="quantity-value" data-item="Арахис">1</span>
                                    <button class="quantity-btn plus" data-item="Арахис">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Арахис" data-price="100">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Фисташки соленые / 80 г</h4>
                                </div>
                                <div class="item-price">290 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Фисташки соленые">-</button>
                                    <span class="quantity-value" data-item="Фисташки соленые">1</span>
                                    <button class="quantity-btn plus" data-item="Фисташки соленые">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Фисташки соленые" data-price="290">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Сыр Лапша / 100 г</h4>
                                </div>
                                <div class="item-price">250 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Сыр Лапша">-</button>
                                    <span class="quantity-value" data-item="Сыр Лапша">1</span>
                                    <button class="quantity-btn plus" data-item="Сыр Лапша">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Сыр Лапша" data-price="250">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                    </div>
                </div>
                
                <div class="tab-content" id="Tea-tab">
                    <div class="menu-items">
                        <!-- Чай -->
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Чай Ассам / 500 мл</h4>
                                    <p class="item-description">черный классический</p>
                                </div>
                                <div class="item-price">210 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Чай Ассам">-</button>
                                    <span class="quantity-value" data-item="Чай Ассам">1</span>
                                    <button class="quantity-btn plus" data-item="Чай Ассам">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Чай Ассам" data-price="210">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Чай Сенча / 500 мл</h4>
                                    <p class="item-description">зеленый классический</p>
                                </div>
                                <div class="item-price">210 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Чай Сенча">-</button>
                                    <span class="quantity-value" data-item="Чай Сенча">1</span>
                                    <button class="quantity-btn plus" data-item="Чай Сенча">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Чай Сенча" data-price="210">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Чай Эрл Грей / 500 мл</h4>
                                    <p class="item-description">черный с бергамотом</p>
                                </div>
                                <div class="item-price">210 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Чай Эрл Грей">-</button>
                                    <span class="quantity-value" data-item="Чай Эрл Грей">1</span>
                                    <button class="quantity-btn plus" data-item="Чай Эрл Грей">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Чай Эрл Грей" data-price="210">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Молочный Оолонг / 500 мл</h4>
                                    <p class="item-description">зеленый с молочным араматом</p>
                                </div>
                                <div class="item-price">210 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Молочный Оолонг">-</button>
                                    <span class="quantity-value" data-item="Молочный Оолонг">1</span>
                                    <button class="quantity-btn plus" data-item="Молочный Оолонг">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Молочный Оолонг" data-price="210">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Чай Милый фрукт / 500 мл</h4>
                                    <p class="item-description">зеленый с молочным араматом</p>
                                </div>
                                <div class="item-price">210 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Чай Милый фрукт">-</button>
                                    <span class="quantity-value" data-item="Чай Милый фрукт">1</span>
                                    <button class="quantity-btn plus" data-item="Чай Милый фрукт">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Чай Милый фрукт" data-price="210">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                    </div>
                </div>
                
                <div class="tab-content" id="Homemade tea-tab">
                    <div class="menu-items">
                        <!-- Домашний чай -->
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Гранатовый с малиной / 680 мл</h4>
                                    <p class="item-description">Черный чай, гранатовый сок, малина</p>
                                </div>
                                <div class="item-price">450 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Гранатовый с малиной">-</button>
                                    <span class="quantity-value" data-item="Гранатовый с малиной">1</span>
                                    <button class="quantity-btn plus" data-item="Гранатовый с малиной">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Гранатовый с малиной" data-price="450">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Облепиховый с апельсином / 680 мл</h4>
                                    <p class="item-description">Черный чай, апельсин, облепиха, специи, мед</p>
                                </div>
                                <div class="item-price">450 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Облепиховый с апельсином">-</button>
                                    <span class="quantity-value" data-item="Облепиховый с апельсином">1</span>
                                    <button class="quantity-btn plus" data-item="Облепиховый с апельсином">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Облепиховый с апельсином" data-price="450">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Масала / 680 мл</h4>
                                    <p class="item-description">Черный чай, молоко, специи</p>
                                </div>
                                <div class="item-price">450 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Масала">-</button>
                                    <span class="quantity-value" data-item="Масала">1</span>
                                    <button class="quantity-btn plus" data-item="Масала">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Масала" data-price="450">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                    </div>
                </div>
                
                <div class="tab-content" id="Coffee-tab">
                    <div class="menu-items">
                        <!-- Кофе -->
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Эспрессо / 50 мл</h4>
                                </div>
                                <div class="item-price">100 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Эспрессо">-</button>
                                    <span class="quantity-value" data-item="Эспрессо">1</span>
                                    <button class="quantity-btn plus" data-item="Эспрессо">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Эспрессо" data-price="100">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Американо / 150 мл</h4>
                                </div>
                                <div class="item-price">150 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Американо">-</button>
                                    <span class="quantity-value" data-item="Американо">1</span>
                                    <button class="quantity-btn plus" data-item="Американо">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Американо" data-price="150">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Капучино / 200 мл</h4>
                                </div>
                                <div class="item-price">170 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Капучино">-</button>
                                    <span class="quantity-value" data-item="Капучино">1</span>
                                    <button class="quantity-btn plus" data-item="Капучино">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Капучино" data-price="170">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Латте / 190 мл</h4>
                                </div>
                                <div class="item-price">185 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Латте">-</button>
                                    <span class="quantity-value" data-item="Латте">1</span>
                                    <button class="quantity-btn plus" data-item="Латте">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Латте" data-price="185">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                    </div>
                </div>
                
                <div class="tab-content" id="Ice cream-tab">
                    <div class="menu-items">
                        <!-- Мороженое -->
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Клубника / 60 г</h4>
                                </div>
                                <div class="item-price">150 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Клубника">-</button>
                                    <span class="quantity-value" data-item="Клубника">1</span>
                                    <button class="quantity-btn plus" data-item="Клубника">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Клубника" data-price="150">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Лесные ягоды / 60 г</h4>
                                </div>
                                <div class="item-price">150 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Лесные ягоды">-</button>
                                    <span class="quantity-value" data-item="Лесные ягоды">1</span>
                                    <button class="quantity-btn plus" data-item="Лесные ягоды">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Лесные ягоды" data-price="150">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Арбуз / 60 г</h4>
                                </div>
                                <div class="item-price">150 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Арбуз">-</button>
                                    <span class="quantity-value" data-item="Арбуз">1</span>
                                    <button class="quantity-btn plus" data-item="Арбуз">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Арбуз" data-price="150">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Бабл Гам / 60 г</h4>
                                </div>
                                <div class="item-price">150 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Бабл Гам">-</button>
                                    <span class="quantity-value" data-item="Бабл Гам">1</span>
                                    <button class="quantity-btn plus" data-item="Бабл Гам">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Бабл Гам" data-price="150">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Пломбир Шоколадный / 60 г</h4>
                                </div>
                                <div class="item-price">150 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Пломбир Шоколадный">-</button>
                                    <span class="quantity-value" data-item="Пломбир Шоколадный">1</span>
                                    <button class="quantity-btn plus" data-item="Пломбир Шоколадный">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Пломбир Шоколадный" data-price="150">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Пломбир Ванильный / 60 г</h4>
                                </div>
                                <div class="item-price">150 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Пломбир Ванильный">-</button>
                                    <span class="quantity-value" data-item="Пломбир Ванильный">1</span>
                                    <button class="quantity-btn plus" data-item="Пломбир Ванильный">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Пломбир Ванильный" data-price="150">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>С маршмеллоу / 130 г</h4>
                                </div>
                                <div class="item-price">250 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="С маршмеллоу">-</button>
                                    <span class="quantity-value" data-item="С маршмеллоу">1</span>
                                    <button class="quantity-btn plus" data-item="С маршмеллоу">+</button>
                                </div>
                                <button class="add-to-cart" data-name="С маршмеллоу" data-price="250">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>С мармеладом / 143 г</h4>
                                </div>
                                <div class="item-price">250 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="С мармеладом">-</button>
                                    <span class="quantity-value" data-item="С мармеладом">1</span>
                                    <button class="quantity-btn plus" data-item="С мармеладом">+</button>
                                </div>
                                <button class="add-to-cart" data-name="С мармеладом" data-price="250">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Мороженое Микс / 140 г</h4>
                                </div>
                                <div class="item-price">250 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Мороженое Микс">-</button>
                                    <span class="quantity-value" data-item="Мороженое Микс">1</span>
                                    <button class="quantity-btn plus" data-item="Мороженое Микс">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Мороженое Микс" data-price="250">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>С сиропом на выбор / 140 г</h4>
                                </div>
                                <div class="item-price">250 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="С сиропом на выбор">-</button>
                                    <span class="quantity-value" data-item="С сиропом на выбор">1</span>
                                    <button class="quantity-btn plus" data-item="С сиропом на выбор">+</button>
                                </div>
                                <button class="add-to-cart" data-name="С сиропом на выбор" data-price="250">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>С шоколадной крошкой / 140 г</h4>
                                </div>
                                <div class="item-price">250 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="С шоколадной крошкой">-</button>
                                    <span class="quantity-value" data-item="С шоколадной крошкой">1</span>
                                    <button class="quantity-btn plus" data-item="С шоколадной крошкой">+</button>
                                </div>
                                <button class="add-to-cart" data-name="С шоколадной крошкой" data-price="250">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>С арахисом / 135 г</h4>
                                </div>
                                <div class="item-price">250 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="С арахисом">-</button>
                                    <span class="quantity-value" data-item="С арахисом">1</span>
                                    <button class="quantity-btn plus" data-item="С арахисом">+</button>
                                </div>
                                <button class="add-to-cart" data-name="С арахисом" data-price="250">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Мороженое Рафаэлло / 150 г</h4>
                                </div>
                                <div class="item-price">250 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Мороженое Рафаэлло">-</button>
                                    <span class="quantity-value" data-item="Мороженое Рафаэлло">1</span>
                                    <button class="quantity-btn plus" data-item="Мороженое Рафаэлло">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Мороженое Рафаэлло" data-price="250">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                    </div>
                </div>
                
                <div class="tab-content" id="Drinks with a juice ball-tab">
                    <div class="menu-items">
                        <!-- Напитки с джусс-болл -->
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Бабл Ти / 540 мл</h4>
                                    <p class="item-description">Джус-боллы, черный чай, молоко, сироп Гренадин, сироп Блю Карасао</p>
                                </div>
                                <div class="item-price">420 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Бабл Ти">-</button>
                                    <span class="quantity-value" data-item="Бабл Ти">1</span>
                                    <button class="quantity-btn plus" data-item="Бабл Ти">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Бабл Ти" data-price="420">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Бабл Джус / 500 мл</h4>
                                    <p class="item-description">Джус-боллы, сок яблочный, молоко, сироп Гренадин, сироп Блю Карасао</p>
                                </div>
                                <div class="item-price">420 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Бабл Джус">-</button>
                                    <span class="quantity-value" data-item="Бабл Джус">1</span>
                                    <button class="quantity-btn plus" data-item="Бабл Джус">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Бабл Джус" data-price="420">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Бабл Кофе / 500 мл</h4>
                                    <p class="item-description">Джус-боллы, эспрессо, молоко, сироп Клубникм, сироп Бабл Гам</p>
                                </div>
                                <div class="item-price">420 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Бабл Кофе">-</button>
                                    <span class="quantity-value" data-item="Бабл Кофе">1</span>
                                    <button class="quantity-btn plus" data-item="Бабл Кофе">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Бабл Кофе" data-price="420">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                    </div>
                </div>
                
                <div class="tab-content" id="Milkshakes-tab">
                    <div class="menu-items">
                        <!-- Милкшейки -->
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Сникерс / 430 мл</h4>
                                    <p class="item-description">Молоко, пломбир ванильный, пломбир шоколадный, сиров Соленая Карамель, сироп Шоколадный, арахисовая паста, шоколадный батончик, взбитые сливки, арахис</p>
                                </div>
                                <div class="item-price">410 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Сникерс">-</button>
                                    <span class="quantity-value" data-item="Сникерс">1</span>
                                    <button class="quantity-btn plus" data-item="Сникерс">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Сникерс" data-price="410">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Орео / 400 мл</h4>
                                    <p class="item-description">Молоко, пломбир ванильный, шоколадное печенье, сироп Шоколадный, взбитые сливки, шоколадная крошка</p>
                                </div>
                                <div class="item-price">410 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Орео">-</button>
                                    <span class="quantity-value" data-item="Орео">1</span>
                                    <button class="quantity-btn plus" data-item="Орео">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Орео" data-price="410">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Бабл гам / 380 мл</h4>
                                    <p class="item-description">Молоко, пломбир ванильный, сироп Бабл гам, маршмеллоу, взбитые сливки, кондитерская посыпка</p>
                                </div>
                                <div class="item-price">410 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Бабл гам">-</button>
                                    <span class="quantity-value" data-item="Бабл гам">1</span>
                                    <button class="quantity-btn plus" data-item="Бабл гам">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Бабл гам" data-price="410">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Баунти / 380 мл</h4>
                                    <p class="item-description">Молоко, пломбир ванильный, сироп Кокосовый, сироп Шоколадный, кокосовая стружка, взбитые сливки, вафельная трубочка с кокосом</p>
                                </div>
                                <div class="item-price">410 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Баунти">-</button>
                                    <span class="quantity-value" data-item="Баунти">1</span>
                                    <button class="quantity-btn plus" data-item="Баунти">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Баунти" data-price="410">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Вишня-Шоколад / 380 мл</h4>
                                    <p class="item-description">Молоко, пломбир ванильный, вишня замороденная, сироп Шоколадный, взбитые сливки, шоколадная крошка</p>
                                </div>
                                <div class="item-price">410 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Вишня-Шоколад">-</button>
                                    <span class="quantity-value" data-item="Вишня-Шоколад">1</span>
                                    <button class="quantity-btn plus" data-item="Вишня-Шоколад">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Вишня-Шоколад" data-price="410">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Малина-Макадамия / 380 мл</h4>
                                    <p class="item-description">Молоко, пломбир ванильный, малина замороденная, сироп Макадамия, взбитые сливки, вафельная трубочка</p>
                                </div>
                                <div class="item-price">410 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Малина-Макадамия">-</button>
                                    <span class="quantity-value" data-item="Малина-Макадамия">1</span>
                                    <button class="quantity-btn plus" data-item="Малина-Макадамия">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Малина-Макадамия" data-price="410">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                    </div>
                </div>
                
                <div class="tab-content" id="Special offer-tab">
                    <div class="menu-items">
                        <!-- Спецпредложение -->
                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Глинтвейн классический / 200 мл</h4>
                                    <p class="item-description">красное вино, апельсин, лимон, гвоздика, корица, сахарный сироп</p>
                                </div>
                                <div class="item-price">250 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Глинтвейн классический">-</button>
                                    <span class="quantity-value" data-item="Глинтвейн классический">1</span>
                                    <button class="quantity-btn plus" data-item="Глинтвейн классический">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Глинтвейн классический" data-price="250">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Глинтвейн Безалкогольный / 200 мл</h4>
                                    <p class="item-description">Вишневый сок, Гранатовый сок апельсин, лимон, бадьян, корица, сироп Гренадин</p>
                                </div>
                                <div class="item-price">210 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Глинтвейн Безалкогольный">-</button>
                                    <span class="quantity-value" data-item="Глинтвейн Безалкогольный">1</span>
                                    <button class="quantity-btn plus" data-item="Глинтвейн Безалкогольный">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Глинтвейн Безалкогольный" data-price="210">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Облепиховый пунш / 200 мл</h4>
                                    <p class="item-description">Коньяк, облепиха, апельсин, сахарный сироп, сок лимона, кардамон, корица</p>
                                </div>
                                <div class="item-price">250 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Облепиховый пунш">-</button>
                                    <span class="quantity-value" data-item="Облепиховый пунш">1</span>
                                    <button class="quantity-btn plus" data-item="Облепиховый пунш">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Облепиховый пунш" data-price="250">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Чай с шиповником / 800 мл</h4>
                                    <p class="item-description">чай черный, шиповник сушеный, мед</p>
                                </div>
                                <div class="item-price">390 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Чай с шиповником">-</button>
                                    <span class="quantity-value" data-item="Чай с шиповником">1</span>
                                    <button class="quantity-btn plus" data-item="Чай с шиповником">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Чай с шиповником" data-price="390">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                        <div class="menu-item">
                            <div class="item-header">
                                <div class="item-info">
                                    <h4>Чай Клетчатый Плед / 800 мл</h4>
                                    <p class="item-description">чай фруктовый, апельсин, лимон, сироп Гренадин, бадьян</p>
                                </div>
                                <div class="item-price">390 ₽</div>
                            </div>
                            <div class="item-actions">
                                <div class="quantity-selector">
                                    <button class="quantity-btn minus" data-item="Чай Клетчатый Плед">-</button>
                                    <span class="quantity-value" data-item="Чай Клетчатый Плед">1</span>
                                    <button class="quantity-btn plus" data-item="Чай Клетчатый Плед">+</button>
                                </div>
                                <button class="add-to-cart" data-name="Чай Клетчатый Плед" data-price="390">
                                    <span>В корзину</span>
                                </button>
                            </div>
                        </div>

                    </div>
                </div>
            </div>
        </div>
    </section>

       <!-- СТРАНИЦА РАСПИСАНИЯ -->
    <section id="schedule" class="page">
        <div class="container">
            <h2 class="section-title">Расписание дорожек</h2>
            <div class="schedule-container">
                <div class="schedule-controls">
                    <div class="date-selector">
                        <label for="schedule-date" class="form-label">Дата:</label>
                        <input type="date" id="schedule-date" class="form-control">
                    </div>
                    <a href="#" class="btn book-now">Забронировать дорожку</a>
                </div>
                <div class="schedule-info mb-20">
                    <p>Текущее время: <span id="current-time"></span></p>
                </div>
                <h3 class="schedule-title">Расписание на <span id="schedule-date-text"></span></h3>
                <div class="schedule-grid" id="live-schedule">
                    <!-- Расписание будет заполнено JavaScript -->
                </div>
                
                <div class="schedule-legend">
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: var(--success);"></div>
                        <span>Свободно</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: var(--error);"></div>
                        <span>Забронировано</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: var(--warning);"></div>
                        <span>Скоро начало</span>
                    </div>
                    <div class="legend-item">
                        <div class="legend-color" style="background-color: var(--accent-orange);"></div>
                        <span>Ваше бронирование</span>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- СТРАНИЦА БРОНИРОВАНИЯ -->
    <section id="booking" class="page">
        <div class="container">
            <h2 class="section-title">Бронирование дорожек</h2>
            
            <!-- ИНДИКАТОР ШАГОВ -->
            <div class="step-indicator">
                <div class="step active" data-step="1">
                    <div class="step-number">1</div>
                    <div class="step-label">Дата и время</div>
                </div>
                <div class="step" data-step="2">
                    <div class="step-number">2</div>
                    <div class="step-label">Дорожки</div>
                </div>
                <div class="step" data-step="3">
                    <div class="step-number">3</div>
                    <div class="step-label">Данные</div>
                </div>
                <div class="step" data-step="4">
                    <div class="step-number">4</div>
                    <div class="step-label">Подтверждение</div>
                </div>
            </div>
            
            <div class="booking-container">
                <div class="booking-form">
                    <!-- ШАГ 1: ВЫБОР ДАТЫ И ВРЕМЕНИ -->
                    <div class="booking-steps active" id="step-1">
                        <h3>Выберите дату и время</h3>
                        
                        <div class="form-group">
                            <label for="booking-date" class="form-label">Дата</label>
                            <input type="date" id="booking-date" class="form-control" required>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Время начала</label>
                            <div class="time-slots" id="time-slots">
                                <!-- Временные слоты будут заполнены JavaScript -->
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Продолжительность</label>
                            <div class="duration-selector">
                                <div class="duration-option selected" data-duration="1">1 час</div>
                                <div class="duration-option" data-duration="2">2 часа</div>
                                <div class="duration-option" data-duration="3">3 часа</div>
                            </div>
                        </div>
                        
                        <div class="step-actions">
                            <div></div> <!-- Пустой элемент для выравнивания -->
                            <button class="btn next-step" data-next="2">Далее</button>
                        </div>
                    </div>
                    
                    <!-- ШАГ 2: ВЫБОР ДОРОЖЕК -->
                    <div class="booking-steps" id="step-2">
                        <h3>Выберите дорожки</h3>
                        
                        <div class="form-group">
                            <label class="form-label">Доступные дорожки на <span id="selected-date-time"></span></label>
                            <div class="lane-selector" id="lane-selector">
                                <!-- Опции дорожек будут заполнены JavaScript -->
                            </div>
                        </div>
                        
                        <div class="booking-summary">
                            <h4>Сводка бронирования</h4>
                            <div class="booking-details">
                                <div class="booking-detail">
                                    <span class="booking-label">Дата</span>
                                    <span class="booking-value" id="summary-date">-</span>
                                </div>
                                <div class="booking-detail">
                                    <span class="booking-label">Время</span>
                                    <span class="booking-value" id="summary-time">-</span>
                                </div>
                                <div class="booking-detail">
                                    <span class="booking-label">Длительность</span>
                                    <span class="booking-value" id="summary-duration">-</span>
                                </div>
                                <div class="booking-detail">
                                    <span class="booking-label">Дорожки</span>
                                    <span class="booking-value" id="summary-lanes">-</span>
                                </div>
                            </div>
                            <div class="booking-total">
                                <span>Итого:</span>
                                <span id="summary-total">0 ₽</span>
                            </div>
                        </div>
                        
                        <div class="step-actions">
                            <button class="btn btn-outline prev-step" data-prev="1">Назад</button>
                            <button class="btn next-step" data-next="3">Далее</button>
                        </div>
                    </div>
                    
                    <!-- ШАГ 3: ВВОД ДАННЫХ -->
                    <div class="booking-steps" id="step-3">
                        <h3>Ваши данные</h3>
                        
                        <div class="form-group">
                            <label for="booking-name" class="form-label">Ваше имя</label>
                            <input type="text" id="booking-name" class="form-control" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="booking-phone" class="form-label">Телефон</label>
                            <input type="tel" id="booking-phone" class="form-control" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="booking-email" class="form-label">Email (необязательно)</label>
                            <input type="email" id="booking-email" class="form-control">
                        </div>
                        
                        <div class="form-group">
                            <label for="booking-comment" class="form-label">Комментарий (необязательно)</label>
                            <textarea id="booking-comment" class="form-control" rows="3" placeholder="Особые пожелания, повод мероприятия и т.д."></textarea>
                        </div>
                        
                        <div class="booking-summary">
                            <h4>Сводка бронирования</h4>
                            <div class="booking-details">
                                <div class="booking-detail">
                                    <span class="booking-label">Дата</span>
                                    <span class="booking-value" id="summary-date-2">-</span>
                                </div>
                                <div class="booking-detail">
                                    <span class="booking-label">Время</span>
                                    <span class="booking-value" id="summary-time-2">-</span>
                                </div>
                                <div class="booking-detail">
                                    <span class="booking-label">Длительность</span>
                                    <span class="booking-value" id="summary-duration-2">-</span>
                                </div>
                                <div class="booking-detail">
                                    <span class="booking-label">Дорожки</span>
                                    <span class="booking-value" id="summary-lanes-2">-</span>
                                </div>
                            </div>
                            <div class="booking-total">
                                <span>Итого:</span>
                                <span id="summary-total-2">0 ₽</span>
                            </div>
                        </div>
                        
                        <div class="step-actions">
                            <button class="btn btn-outline prev-step" data-prev="2">Назад</button>
                            <button class="btn next-step" data-next="4">Подтвердить</button>
                        </div>
                    </div>
                    
                    <!-- ШАГ 4: ПОДТВЕРЖДЕНИЕ -->
                    <div class="booking-steps" id="step-4">
                        <div class="confirmation-screen">
                            <div class="confirmation-icon">✓</div>
                            <h3>Бронирование подтверждено!</h3>
                            <p>Спасибо за ваше бронирование. Мы отправили подтверждение на ваш телефон.</p>
                            
                            <div class="confirmation-details">
                                <h4>Детали бронирования</h4>
                                <div class="booking-details">
                                    <div class="booking-detail">
                                        <span class="booking-label">Номер бронирования</span>
                                        <span class="booking-value" id="confirmation-id">-</span>
                                    </div>
                                    <div class="booking-detail">
                                        <span class="booking-label">Дата</span>
                                        <span class="booking-value" id="confirmation-date">-</span>
                                    </div>
                                    <div class="booking-detail">
                                        <span class="booking-label">Время</span>
                                        <span class="booking-value" id="confirmation-time">-</span>
                                    </div>
                                    <div class="booking-detail">
                                        <span class="booking-label">Длительность</span>
                                        <span class="booking-value" id="confirmation-duration">-</span>
                                    </div>
                                    <div class="booking-detail">
                                        <span class="booking-label">Дорожки</span>
                                        <span class="booking-value" id="confirmation-lanes">-</span>
                                    </div>
                                    <div class="booking-detail">
                                        <span class="booking-label">Имя</span>
                                        <span class="booking-value" id="confirmation-name">-</span>
                                    </div>
                                    <div class="booking-detail">
                                        <span class="booking-label">Телефон</span>
                                        <span class="booking-value" id="confirmation-phone">-</span>
                                    </div>
                                </div>
                                <div class="booking-total">
                                    <span>Итого:</span>
                                    <span id="confirmation-total">0 ₽</span>
                                </div>
                            </div>
                            
                            <div class="step-actions">
                                <button class="btn btn-outline" id="new-booking">Новое бронирование</button>
                                <button class="btn" id="view-schedule">Посмотреть расписание</button>
                            </div>
                        </div>
                    </div>
                </div>
                
                <div class="schedule-container">
                    <div class="schedule-controls">
                        <div class="date-selector">
                            <label for="booking-schedule-date" class="form-label">Дата:</label>
                            <input type="date" id="booking-schedule-date" class="form-control">
                        </div>
                    </div>
                    <h3 class="schedule-title">Расписание на <span id="booking-schedule-date-text"></span></h3>
                    <div class="schedule-grid" id="booking-schedule">
                        <!-- Расписание будет заполнено JavaScript -->
                    </div>
                    
                    <div class="schedule-legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--success);"></div>
                            <span>Свободно</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--error);"></div>
                            <span>Забронировано</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--warning);"></div>
                            <span>Скоро начало</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--accent-orange);"></div>
                            <span>Ваше бронирование</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- СТРАНИЦА ПРОФИЛЯ -->
    <section id="profile" class="page">
        <div class="profile-section">
            <div class="container">
                <h2 class="section-title">Личный кабинет</h2>
                
                <div class="profile-container">
                    <div class="profile-sidebar">
                        <div class="profile-avatar" id="profile-avatar">Г</div>
                        <h2 class="profile-name" id="profile-name">Гость</h2>
                        <p class="profile-phone" id="profile-phone">Не авторизован</p>
                        
                        <ul class="profile-menu">
                            <li class="profile-menu-item active" data-tab="overview">Обзор</li>
                            <li class="profile-menu-item" data-tab="bookings">Мои бронирования</li>
                            <li class="profile-menu-item" data-tab="orders">Мои заказы</li>
                            <li class="profile-menu-item" data-tab="settings">Настройки</li>
                        </ul>
                    </div>
                    
                    <div class="profile-content">
                        <!-- ВКЛАДКА "ОБЗОР" -->
                        <div class="profile-tab active" id="overview-tab">
                            <h3>Обзор активности</h3>
                            
                            <div class="loyalty-card">
                                <h3 class="loyalty-title">Программа лояльности</h3>
                                <div class="loyalty-points" id="loyalty-points">0 баллов</div>
                                <div class="progress-bar">
                                    <div class="progress-fill" id="loyalty-progress" style="width: 0%"></div>
                                </div>
                                <div class="loyalty-info">
                                    <span>Текущий уровень: <strong id="loyalty-level">Новичок</strong></span>
                                    <span>До следующего уровня: <strong id="loyalty-next">100 баллов</strong></span>
                                </div>
                            </div>
                            
                            <div class="stats-grid">
                                <div class="stat-card">
                                    <div class="stat-value" id="total-bookings">0</div>
                                    <div class="stat-label">Всего бронирований</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value" id="total-orders">0</div>
                                    <div class="stat-label">Всего заказов</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value" id="total-spent">0 ₽</div>
                                    <div class="stat-label">Всего потрачено</div>
                                </div>
                                <div class="stat-card">
                                    <div class="stat-value" id="favorite-lane">-</div>
                                    <div class="stat-label">Любимая дорожка</div>
                                </div>
                            </div>
                            
                            <h3>Предстоящие бронирования</h3>
                            <div id="upcoming-bookings">
                                <p>У вас нет предстоящих бронирований</p>
                            </div>
                        </div>
                        
                        <!-- ВКЛАДКА "МОИ БРОНИРОВАНИЯ" -->
                        <div class="profile-tab" id="bookings-tab">
                            <h3>История бронирований</h3>
                            <div id="bookings-list">
                                <p>У вас нет бронирований</p>
                            </div>
                        </div>

                        <!-- ВКЛАДКА "МОИ ЗАКАЗЫ" -->
                        <div class="profile-tab" id="orders-tab">
                            <h3>История заказов</h3>
                            <div id="orders-list">
                                <p>У вас нет заказов</p>
                            </div>
                        </div>
                        
                        <!-- ВКЛАДКА "НАСТРОЙКИ" -->
                        <div class="profile-tab" id="settings-tab">
                            <h3>Настройки профиля</h3>
                            <form class="profile-form" id="profile-form">
                                <div class="form-group">
                                    <label for="settings-name" class="form-label">Имя</label>
                                    <input type="text" id="settings-name" class="form-control" required>
                                </div>
                                <div class="form-group">
                                    <label for="settings-phone" class="form-label">Телефон</label>
                                    <input type="tel" id="settings-phone" class="form-control" required>
                                </div>
                                <div class="form-group">
                                    <label for="settings-email" class="form-label">Email</label>
                                    <input type="email" id="settings-email" class="form-control" required>
                                </div>
                                <div class="form-group">
                                    <label for="settings-password" class="form-label">Новый пароль</label>
                                    <input type="password" id="settings-password" class="form-control" placeholder="Оставьте пустым, если не хотите менять">
                                </div>
                                <div class="form-group">
                                    <label for="settings-password-confirm" class="form-label">Подтверждение пароля</label>
                                    <input type="password" id="settings-password-confirm" class="form-control" placeholder="Оставьте пустым, если не хотите менять">
                                </div>
                                <button type="submit" class="btn">Сохранить изменения</button>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </section>
<!-- СТРАНИЦА АДМИНИСТРАТОРА -->
<section id="admin" class="page">
    <div class="profile-section">
        <div class="container">
            <h2 class="section-title">Панель администратора</h2>
            
            <div class="profile-container">
                <div class="profile-sidebar">
                    <div class="profile-avatar" id="admin-avatar">А</div>
                    <h2 class="profile-name" id="admin-name">Администратор</h2>
                    <p class="profile-phone" id="admin-email">admin@bowling-kluch.ru</p>
                    
                    <ul class="profile-menu">
                        <li class="profile-menu-item active" data-tab="admin-overview">Обзор</li>
                        <li class="profile-menu-item" data-tab="admin-bookings">Бронирования</li>
                        <li class="profile-menu-item" data-tab="admin-users">Пользователи</li>
                        <li class="profile-menu-item" data-tab="admin-schedule">Расписание</li>
                        <li class="profile-menu-item" data-tab="admin-content">Контент</li>
                        <li class="profile-menu-item" data-tab="admin-settings">Настройки</li>
                    </ul>
                </div>
                
                <div class="profile-content">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                        <h3>Панель управления боулинг-клубом</h3>
                        <button class="btn btn-outline" id="admin-logout-btn" style="background-color: var(--error); color: white;">
                            Выйти из админки
                        </button>
                    </div>
                    
                    <!-- ВКЛАДКА "ОБЗОР" -->
                    <div class="profile-tab active" id="admin-overview-tab">
                        <h3>Статистика за сегодня</h3>
                        <div class="stats-grid">
                            <div class="stat-card">
                                <div class="stat-value" id="admin-today-bookings-count">0</div>
                                <div class="stat-label">Бронирований сегодня</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="admin-today-revenue">0 ₽</div>
                                <div class="stat-label">Выручка за сегодня</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="admin-active-users">0</div>
                                <div class="stat-label">Активных пользователей</div>
                            </div>
                            <div class="stat-card">
                                <div class="stat-value" id="admin-available-lanes">6/6</div>
                                <div class="stat-label">Свободных дорожек</div>
                            </div>
                        </div>
                        
                        <div class="admin-dashboard" style="display: grid; grid-template-columns: 2fr 1fr; gap: 20px; margin-top: 30px;">
                            <div class="dashboard-section">
                                <h4>Последние бронирования</h4>
                                <div id="admin-recent-bookings" class="admin-card">
                                    <p>Загрузка данных...</p>
                                </div>
                            </div>
                            <div class="dashboard-section">
                                <h4>Быстрые действия</h4>
                                <div class="admin-quick-actions">
                                    <button class="btn" id="admin-add-booking-btn" style="width: 100%; margin-bottom: 10px;">
                                        Добавить бронирование
                                    </button>
                                    <button class="btn btn-outline" id="admin-manage-schedule-btn" style="width: 100%; margin-bottom: 10px;">
                                        Управление расписанием
                                    </button>
                                    <button class="btn btn-outline" id="admin-view-reports-btn" style="width: 100%;">
                                        Отчеты
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ВКЛАДКА "БРОНИРОВАНИЯ" -->
                    <div class="profile-tab" id="admin-bookings-tab">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px;">
                            <h3>Управление бронированиями</h3>
                            <button class="btn" id="admin-add-new-booking">
                                + Новое бронирование
                            </button>
                        </div>
                        
                        <div class="admin-filters" style="margin-bottom: 20px; display: flex; gap: 15px; flex-wrap: wrap;">
                            <input type="date" id="admin-bookings-filter-date" class="form-control" style="max-width: 200px;">
                            <select id="admin-bookings-filter-status" class="form-control" style="max-width: 200px;">
                                <option value="all">Все статусы</option>
                                <option value="active">Активные</option>
                                <option value="completed">Завершенные</option>
                                <option value="cancelled">Отмененные</option>
                            </select>
                            <input type="text" id="admin-bookings-search" class="form-control" placeholder="Поиск по имени или телефону..." style="max-width: 300px;">
                            <button class="btn" id="admin-bookings-refresh">Обновить</button>
                        </div>
                        
                        <div id="admin-bookings-list" class="admin-card">
                            <p>Загрузка бронирований...</p>
                        </div>
                    </div>
                    
                    <!-- ВКЛАДКА "ПОЛЬЗОВАТЕЛИ" -->
                    <div class="profile-tab" id="admin-users-tab">
                        <h3>Управление пользователями</h3>
                        <div class="search-box" style="margin-bottom: 20px; display: flex; gap: 15px;">
                            <input type="text" id="admin-users-search" class="form-control" placeholder="Поиск по имени, телефону или email..." style="flex-grow: 1;">
                            <button class="btn" id="admin-users-refresh">Обновить</button>
                        </div>
                        
                        <div id="admin-users-list" class="admin-card">
                            <p>Загрузка пользователей...</p>
                        </div>
                    </div>
                    
                    <!-- ВКЛАДКА "РАСПИСАНИЕ" -->
                    <div class="profile-tab" id="admin-schedule-tab">
                        <h3>Управление расписанием</h3>
                        <div class="schedule-controls" style="margin-bottom: 20px;">
                            <div class="date-selector">
                                <label for="admin-schedule-date" class="form-label">Дата:</label>
                                <input type="date" id="admin-schedule-date" class="form-control">
                            </div>
                        </div>
                        
                        <div class="admin-schedule-actions" style="margin-bottom: 20px; display: flex; gap: 10px;">
                            <button class="btn" id="admin-schedule-block-day">Заблокировать день</button>
                            <button class="btn btn-outline" id="admin-schedule-clear-day">Очистить расписание</button>
                        </div>
                        
                        <div class="schedule-container">
                            <h3 class="schedule-title">Расписание на <span id="admin-schedule-date-text"></span></h3>
                            <div class="schedule-grid" id="admin-schedule">
                                <!-- Расписание будет заполнено JavaScript -->
                            </div>
                            
                            <div class="schedule-legend">
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: var(--success);"></div>
                                    <span>Свободно</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: var(--error);"></div>
                                    <span>Забронировано</span>
                                </div>
                                <div class="legend-item">
                                    <div class="legend-color" style="background-color: var(--warning);"></div>
                                    <span>Заблокировано</span>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ВКЛАДКА "КОНТЕНТ" -->
                    <div class="profile-tab" id="admin-content-tab">
                        <h3>Управление контентом</h3>
                        
                        <div class="admin-content-sections">
                            <div class="content-section">
                                <h4>Текстовый контент</h4>
                                <div class="form-group">
                                    <label class="form-label">Описание клуба</label>
                                    <textarea id="admin-about-text" class="form-control" rows="5" placeholder="Описание клуба..."></textarea>
                                </div>
                                <div class="form-group">
                                    <label class="form-label">Правила</label>
                                    <textarea id="admin-rules-text" class="form-control" rows="5" placeholder="Правила клуба..."></textarea>
                                </div>
                                <button class="btn" id="admin-save-content">Сохранить изменения</button>
                            </div>
                            
                            <div class="content-section" style="margin-top: 30px;">
                                <h4>Цены</h4>
                                <div id="admin-prices-editor">
                                    <!-- Редактор цен будет заполнен JavaScript -->
                                </div>
                                <button class="btn" id="admin-save-prices" style="margin-top: 15px;">Сохранить цены</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- ВКЛАДКА "НАСТРОЙКИ" -->
                    <div class="profile-tab" id="admin-settings-tab">
                        <h3>Настройки системы</h3>
                        
                        <div class="admin-settings-sections">
                            <div class="settings-section">
                                <h4>Основные настройки</h4>
                                <div class="form-group">
                                    <label for="admin-business-hours" class="form-label">Часы работы</label>
                                    <input type="text" id="admin-business-hours" class="form-control" value="Пн-Чт: 12:00-00:00, Пт-Сб: 12:00-00:00, Вс: 12:00-00:00">
                                </div>
                                <div class="form-group">
                                    <label for="admin-contact-phone" class="form-label">Контактный телефон</label>
                                    <input type="text" id="admin-contact-phone" class="form-control" value="+7 (8172) 53-78-48">
                                </div>
                                <div class="form-group">
                                    <label for="admin-contact-address" class="form-label">Адрес</label>
                                    <input type="text" id="admin-contact-address" class="form-control" value="г. Вологда, ул. Ярославская, д. 2">
                                </div>
                            </div>
                            
                            <div class="settings-section" style="margin-top: 30px;">
                                <h4>Настройки бронирования</h4>
                                <div class="form-group">
                                    <label for="admin-min-booking-time" class="form-label">Минимальное время бронирования (часы)</label>
                                    <input type="number" id="admin-min-booking-time" class="form-control" value="1" min="1">
                                </div>
                                <div class="form-group">
                                    <label for="admin-max-booking-time" class="form-label">Максимальное время бронирования (часы)</label>
                                    <input type="number" id="admin-max-booking-time" class="form-control" value="3" min="1" max="6">
                                </div>
                                <div class="form-group">
                                    <label for="admin-max-lanes-per-booking" class="form-label">Максимум дорожек в одном бронировании</label>
                                    <input type="number" id="admin-max-lanes-per-booking" class="form-control" value="3" min="1" max="6">
                                </div>
                            </div>
                            
                            <button class="btn" id="admin-save-settings" style="margin-top: 30px;">Сохранить настройки</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>
    <!-- ПОДВАЛ -->
    <footer>
        <div class="container">
            <div class="footer-content">
                <div class="footer-section">
                    <h3>Боулинг-клуб "Ключ"</h3>
                    <p>Лучшее место для отдыха и развлечений в Вологде. Приходите и убедитесь сами!</p>
                </div>
                <div class="footer-section">
                    <h3>Быстрые ссылки</h3>
                    <ul>
                        <li><a href="#" class="nav-link" data-page="home">Главная</a></li>
                        <li><a href="#" class="nav-link" data-page="menu">Меню</a></li>
                        <li><a href="#" class="nav-link" data-page="bar">Бар</a></li>
                        <li><a href="#" class="nav-link" data-page="schedule">Расписание</a></li>
                        <li><a href="#" class="nav-link" data-page="booking">Бронирование</a></li>
                    </ul>
                </div>
                <div class="footer-section">
                    <h3>Контакты</h3>
                    <ul>
                        <li>г. Вологда, ул. Ярославская, д. 2</li>
                        <li>+7 (8172) 53-78-48</li>
                        <li>vk.com/bowling_kluch</li>
                    </ul>
                </div>
            </div>
            <div class="footer-bottom">
                <p>&copy; 2025 Боулинг-клуб "Ключ". Все права защищены.</p>
            </div>
        </div>
    </footer>

    <!-- КНОПКА КОРЗИНЫ -->
    <button class="cart-toggle" aria-label="Открыть корзину">
    🛒
    <div class="cart-badge" id="cart-badge">0</div>
</button>
    <!-- БОКОВАЯ ПАНЕЛЬ КОРЗИНЫ -->
    <div class="cart-sidebar">
        <div class="cart-header">
            <h3 class="cart-title">Ваш заказ</h3>
            <button class="cart-close">×</button>
        </div>
        <div class="cart-items" id="cart-items">
            <div class="cart-empty">Корзина пуста</div>
        </div>
        <div class="cart-footer">
            <div class="cart-total">
                <span>Итого:</span>
                <span id="cart-total">0 ₽</span>
            </div>
            <button class="btn" id="checkout" style="width: 100%;">Оформить заказ</button>
        </div>
    </div>

    <!-- МОДАЛЬНОЕ ОКНО АВТОРИЗАЦИИ -->
    <div class="modal" id="auth-modal">
        <div class="modal-content">
           <button class="modal-close" aria-label="Закрыть окно">&times;</button>
            <div class="modal-header">
                <h3 class="modal-title">Вход в аккаунт</h3>
                <p>Войдите, чтобы управлять бронированиями и заказами</p>
            </div>
            <div class="modal-body">
                <form id="auth-form">
                    <div class="form-group">
                        <label for="auth-phone" class="form-label">Телефон</label>
                        <input type="tel" id="auth-phone" class="form-control" placeholder="+7 (___) ___-__-__" required>
                    </div>
                    <div class="form-group">
                        <label for="auth-password" class="form-label">Пароль</label>
                        <input type="password" id="auth-password" class="form-control" placeholder="Введите пароль" required>
                    </div>
                    <div class="form-group" style="display: none;" id="admin-login-field">
    <label for="auth-admin-code" class="form-label">Код администратора</label>
    <input type="password" id="auth-admin-code" class="form-control" placeholder="Введите код администратора">
</div>
<div class="form-group text-center">
    <a href="#" id="toggle-admin-login">Вход для администратора</a>
    <span style="display: block; margin-top: 5px;">|</span>
</div>
                    <div class="form-group text-center">
                        <a href="#" id="forgot-password">Забыли пароль?</a>
                    </div>
                    <button type="submit" class="btn" style="width: 100%;">Войти</button>
                </form>
                <div class="text-center mt-20">
                    <p>Нет аккаунта? <a href="#" id="show-register">Зарегистрироваться</a></p>
                </div>
            </div>
        </div>
    </div>

  <!-- ОКНО РЕГИСТРАЦИИ -->
<div class="modal" id="register-modal">
    <div class="modal-content">
       <button class="modal-close" aria-label="Закрыть окно">&times;</button>
        <div class="modal-header">
            <h3 class="modal-title">Регистрация</h3>
            <p>Создайте аккаунт для управления бронированиями</p>
        </div>
        <div class="modal-body">
            <form id="register-form">
                <div class="form-group">
                    <label for="register-name" class="form-label">Имя</label>
                    <input type="text" id="register-name" class="form-control" placeholder="Введите ваше имя" required>
                </div>
                <div class="form-group">
                    <label for="register-phone" class="form-label">Телефон</label>
                    <input type="tel" id="register-phone" class="form-control" placeholder="+7 (___) ___-__-__" required>
                </div>
                <div class="form-group">
                    <label for="register-email" class="form-label">Email</label>
                    <input type="email" id="register-email" class="form-control" placeholder="Введите ваш email" required>
                </div>
                <div class="form-group">
                    <label for="register-password" class="form-label">Пароль</label>
                    <input type="password" id="register-password" class="form-control" placeholder="Придумайте пароль (минимум 6 символов)" required minlength="6">
                </div>
                <div class="form-group">
                    <label for="register-password-confirm" class="form-label">Подтверждение пароля</label>
                    <input type="password" id="register-password-confirm" class="form-control" placeholder="Повторите пароль" required minlength="6">
                </div>
                <div class="form-group">
                    <label class="checkbox-label" style="display: flex; align-items: flex-start; gap: 10px; font-size: 14px;">
                        <input type="checkbox" id="privacy-agree" required style="margin-top: 3px;">
                        
                        <span>Я соглашаюсь на обработку моих персональных данных в соответствии с 
                            <a href="#" style="color: var(--accent-orange);">Политикой конфиденциальности</a>
                        </span>
                    </label>
                </div>
                <button type="submit" class="btn" style="width: 100%;">Зарегистрироваться</button>
            </form>
            <div class="text-center mt-20">
                <p>Уже есть аккаунт? <a href="#" id="show-login">Войти</a></p>
            </div>
        </div>
    </div>
</div>

    <!-- УВЕДОМЛЕНИЯ -->
    <div class="notification" id="success-notification">
        Операция выполнена успешно!
    </div>



<!-- МОДАЛЬНОЕ ОКНО ВХОДА АДМИНИСТРАТОРА -->
<div class="modal" id="admin-login-modal">
    <div class="modal-content">
        <button class="modal-close" aria-label="Закрыть окно">&times;</button>
        <div class="modal-header">
            <h3 class="modal-title">Вход для администратора</h3>
            <p>Доступ только для авторизованного персонала</p>
        </div>
        <div class="modal-body">
            <form id="admin-login-form">
                <div class="form-group">
                    <label for="admin-login" class="form-label">Логин администратора</label>
                    <input type="text" id="admin-login" class="form-control" placeholder="Введите логин" required>
                </div>
                <div class="form-group">
                    <label for="admin-password" class="form-label">Пароль администратора</label>
                    <input type="password" id="admin-password" class="form-control" placeholder="Введите пароль" required>
                </div>
                <div class="form-group">
                    <label class="checkbox-label" style="display: flex; align-items: center; gap: 10px; font-size: 14px;">
                        <input type="checkbox" id="admin-remember">
                        <span>Запомнить меня</span>
                    </label>
                </div>
                <button type="submit" class="btn" style="width: 100%; background-color: var(--error);">Войти как администратор</button>
            </form>
            <div class="text-center mt-20">
                <p><a href="#" id="show-user-login">Войти как пользователь</a></p>
            </div>
        </div>
    </div>
</div>
</section>
    <script>
   // API КЛАССЫ
class BowlingAPI {
    constructor(baseUrl = 'https://api.bowling-kluch.ru/v1') {
        this.baseUrl = baseUrl;
        this.token = localStorage.getItem('authToken');
    }

       async request(endpoint, options = {}) {
        const url = `${this.baseUrl}${endpoint}`;
        const config = {
            headers: {
                'Content-Type': 'application/json',
                ...(this.token && { 'Authorization': `Bearer ${this.token}` }),
                ...options.headers,
            },
            ...options,
        };

 try {
            const response = await fetch(url, config);
            
            if (!response.ok) {
                // Пытаемся получить текст ошибки от сервера
                let errorMessage = `HTTP error! status: ${response.status}`;
                try {
                    const errorData = await response.json();
                    errorMessage = errorData.message || errorMessage;
                } catch (e) {
                    // Если не удалось распарсить JSON, используем стандартное сообщение
                }
                throw new Error(errorMessage);
            }

            const data = await response.json();
            return data;
        } catch (error) {
            console.error('API request failed:', error);
            throw new Error(`API request failed: ${error.message}`);
        }
    }
    // АВТОРИЗАЦИЯ
    async login(phone, password) {
        return this.request('/auth/login', {
            method: 'POST',
            body: JSON.stringify({ phone, password }),
        });
    }

    async register(userData) {
        return this.request('/auth/register', {
            method: 'POST',
            body: JSON.stringify(userData),
        });
    }

    // БРОНИРОВАНИЯ
    async getBookings() {
        return this.request('/bookings');
    }

    async createBooking(bookingData) {
        return this.request('/bookings', {
            method: 'POST',
            body: JSON.stringify(bookingData),
        });
    }

    async updateBooking(id, bookingData) {
        return this.request(`/bookings/${id}`, {
            method: 'PUT',
            body: JSON.stringify(bookingData),
        });
    }

    async cancelBooking(id) {
        return this.request(`/bookings/${id}/cancel`, {
            method: 'POST',
        });
    }

    // ЗАКАЗЫ
    async getOrders() {
        return this.request('/orders');
    }

    async createOrder(orderData) {
        return this.request('/orders', {
            method: 'POST',
            body: JSON.stringify(orderData),
        });
    }

    async cancelOrder(id) {
        return this.request(`/orders/${id}/cancel`, {
            method: 'POST',
        });
    }

    // РАСПИСАНИЕ
    async getSchedule(date) {
        return this.request(`/schedule?date=${date}`);
    }

    async updateSchedule(date, scheduleData) {
        return this.request(`/schedule/${date}`, {
            method: 'PUT',
            body: JSON.stringify(scheduleData),
        });
    }

    // ПРОФИЛЬ
    async getProfile() {
        return this.request('/profile');
    }

    async updateProfile(profileData) {
        return this.request('/profile', {
            method: 'PUT',
            body: JSON.stringify(profileData),
        });
    }

    // ОТЗЫВЫ
    async getReviews() {
        return this.request('/reviews');
    }

    async createReview(reviewData) {
        return this.request('/reviews', {
            method: 'POST',
            body: JSON.stringify(reviewData),
        });
    }

    // ОФФЛАЙН СИНХРОНИЗАЦИЯ
    async syncOfflineData() {
        const offlineData = this.getOfflineData();
        if (Object.keys(offlineData).length === 0) return;

        try {
            await this.request('/sync', {
                method: 'POST',
                body: JSON.stringify(offlineData),
            });
            
            // Очищаем оффлайн данные после успешной синхронизации
            this.clearOfflineData();
            console.log('Offline data synced successfully');
        } catch (error) {
            console.error('Failed to sync offline data:', error);
            throw error;
        }
    }

    getOfflineData() {
        return JSON.parse(localStorage.getItem('offlineData') || '{}');
    }

    saveOfflineData(key, data) {
        const offlineData = this.getOfflineData();
        offlineData[key] = offlineData[key] || [];
        offlineData[key].push({
            ...data,
            _offline: true,
            _timestamp: new Date().toISOString(),
        });
        localStorage.setItem('offlineData', JSON.stringify(offlineData));
    }

    clearOfflineData() {
        localStorage.removeItem('offlineData');
    }

    setAuthToken(token) {
        this.token = token;
        localStorage.setItem('authToken', token);
    }

    clearAuthToken() {
        this.token = null;
        localStorage.removeItem('authToken');
    }
}

// МЕНЕДЖЕР СИНХРОНИЗАЦИИ
class SyncManager {
    constructor(api) {
        this.api = api;
        this.isOnline = navigator.onLine;
        this.syncInterval = 30000; // 30 секунд
        this.init();
    }

    init() {
        // Слушаем события онлайн/оффлайн
        window.addEventListener('online', () => this.handleOnline());
        window.addEventListener('offline', () => this.handleOffline());
        
        // Периодическая синхронизация
        setInterval(() => this.syncIfOnline(), this.syncInterval);
        
        // Синхронизация при загрузке страницы
        this.syncIfOnline();
    }

    handleOnline() {
        this.isOnline = true;
        console.log('App is online, starting sync...');
        this.syncIfOnline();
        showNotification('Соединение восстановлено', 'success');
    }

    handleOffline() {
        this.isOnline = false;
        console.log('App is offline');
        showNotification('Отсутствует интернет-соединение. Данные будут сохранены локально.', 'warning');
    }

    async syncIfOnline() {
        if (this.isOnline && this.api.token) {
            try {
                await this.api.syncOfflineData();
            } catch (error) {
                console.error('Sync failed:', error);
            }
        }
    }
}

// МЕНЕДЖЕР КЭШИРОВАНИЯ
class CacheManager {
    constructor() {
        this.cache = new Map();
        this.cacheTimeout = 5 * 60 * 1000; // 5 минут
    }

    set(key, data) {
        this.cache.set(key, {
            data,
            timestamp: Date.now()
        });
    }

    get(key) {
        const item = this.cache.get(key);
        if (!item) return null;

        // Проверяем не устарели ли данные
        if (Date.now() - item.timestamp > this.cacheTimeout) {
            this.cache.delete(key);
            return null;
        }

        return item.data;
    }

    clear() {
        this.cache.clear();
    }

    remove(key) {
        this.cache.delete(key);
    }
}

// ОБНОВЛЕННЫЙ КЛАСС ДЛЯ РАБОТЫ С ДАННЫМИ
class DataManager {
    constructor() {
        this.api = new BowlingAPI();
        this.cache = new CacheManager();
        this.syncManager = new SyncManager(this.api);
        this.retryAttempts = 3;
        this.retryDelay = 1000;
    }

    // ОБРАБОТКА ОШИБОК С ПОВТОРНЫМИ ПОПЫТКАМИ
    async withRetry(apiCall, attempt = 1) {
        try {
            return await apiCall();
        } catch (error) {
            if (attempt < this.retryAttempts && this.shouldRetry(error)) {
                console.log(`Retry attempt ${attempt} after error:`, error.message);
                await this.delay(this.retryDelay * attempt);
                return this.withRetry(apiCall, attempt + 1);
            }
            throw error;
        }
    }

    shouldRetry(error) {
        // Повторяем только для сетевых ошибок и ошибок 5xx
        return error.message.includes('Network') || 
               error.message.includes('Failed to fetch') ||
               (error.message.includes('status: 5'));
    }

    delay(ms) {
        return new Promise(resolve => setTimeout(resolve, ms));
    }

    // ОБНОВЛЕННЫЕ МЕТОДЫ ДЛЯ РАБОТЫ С ДАННЫМИ
    async getSchedule(date) {
        const cacheKey = `schedule_${date}`;
        
        // Пробуем получить из кэша
        const cached = this.cache.get(cacheKey);
        if (cached) return cached;

        try {
            const schedule = await this.withRetry(() => this.api.getSchedule(date));
            this.cache.set(cacheKey, schedule);
            return schedule;
        } catch (error) {
            console.error('Failed to get schedule:', error);
            
            // Пробуем получить из localStorage как запасной вариант
            const fallback = this.getFallbackSchedule(date);
            if (fallback) {
                showNotification('Используются локальные данные расписания', 'warning');
                return fallback;
            }
            
            throw new Error('Не удалось загрузить расписание');
        }
    }

    async createBooking(bookingData) {
        try {
            const booking = await this.withRetry(() => this.api.createBooking(bookingData));
            
            // Обновляем кэш
            this.cache.remove(`schedule_${bookingData.date}`);
            
            return booking;
        } catch (error) {
            console.error('Failed to create booking:', error);
            
            if (!this.syncManager.isOnline) {
                // Сохраняем в оффлайн хранилище
                this.api.saveOfflineData('bookings', bookingData);
                showNotification('Бронирование сохранено локально и будет синхронизировано при восстановлении соединения', 'warning');
                
                // Возвращаем локальную копию
                return {
                    ...bookingData,
                    id: `offline_${Date.now()}`,
                    _offline: true
                };
            }
            
            throw new Error('Не удалось создать бронирование');
        }
    }

    async getBookings() {
        try {
            const bookings = await this.withRetry(() => this.api.getBookings());
            
            // Добавляем оффлайн бронирования
            const offlineData = this.api.getOfflineData();
            const offlineBookings = offlineData.bookings || [];
            
            return [...bookings, ...offlineBookings];
        } catch (error) {
            console.error('Failed to get bookings:', error);
            
            // Используем локальные данные
            const offlineData = this.api.getOfflineData();
            return offlineData.bookings || [];
        }
    }

    async cancelBooking(id) {
        try {
            if (id.startsWith('offline_')) {
                // Удаляем оффлайн бронирование
                const offlineData = this.api.getOfflineData();
                offlineData.bookings = (offlineData.bookings || []).filter(b => b.id !== id);
                localStorage.setItem('offlineData', JSON.stringify(offlineData));
                return;
            }

            await this.withRetry(() => this.api.cancelBooking(id));
            
            // Обновляем кэш
            this.cache.clear(); // Полностью очищаем кэш для простоты
        } catch (error) {
            console.error('Failed to cancel booking:', error);
            throw new Error('Не удалось отменить бронирование');
        }
    }

    async createOrder(orderData) {
        try {
            const order = await this.withRetry(() => this.api.createOrder(orderData));
            return order;
        } catch (error) {
            console.error('Failed to create order:', error);
            
            if (!this.syncManager.isOnline) {
                // Сохраняем в оффлайн хранилище
                this.api.saveOfflineData('orders', orderData);
                showNotification('Заказ сохранен локально и будет синхронизирован при восстановлении соединения', 'warning');
                
                return {
                    ...orderData,
                    id: `offline_${Date.now()}`,
                    _offline: true
                };
            }
            
            throw new Error('Не удалось создать заказ');
        }
    }

    async getOrders() {
        try {
            const orders = await this.withRetry(() => this.api.getOrders());
            
            // Добавляем оффлайн заказы
            const offlineData = this.api.getOfflineData();
            const offlineOrders = offlineData.orders || [];
            
            return [...orders, ...offlineOrders];
        } catch (error) {
            console.error('Failed to get orders:', error);
            
            // Используем локальные данные
            const offlineData = this.api.getOfflineData();
            return offlineData.orders || [];
        }
    }

    async createReview(reviewData) {
        try {
            const review = await this.withRetry(() => this.api.createReview(reviewData));
            return review;
        } catch (error) {
            console.error('Failed to create review:', error);
            
            if (!this.syncManager.isOnline) {
                // Сохраняем в оффлайн хранилище
                this.api.saveOfflineData('reviews', reviewData);
                showNotification('Отзыв сохранен локально и будет отправлен при восстановлении соединения', 'warning');
                
                return {
                    ...reviewData,
                    id: `offline_${Date.now()}`,
                    _offline: true
                };
            }
            
            throw new Error('Не удалось отправить отзыв');
        }
    }

    // ВСПОМОГАТЕЛЬНЫЕ МЕТОДЫ
    getFallbackSchedule(date) {
        try {
            const fallbackData = localStorage.getItem('fallbackSchedule');
            if (fallbackData) {
                const schedules = JSON.parse(fallbackData);
                return schedules[date] || null;
            }
        } catch (error) {
            console.error('Error getting fallback schedule:', error);
        }
        return null;
    }

    saveFallbackSchedule(date, schedule) {
        try {
            const fallbackData = JSON.parse(localStorage.getItem('fallbackSchedule') || '{}');
            fallbackData[date] = schedule;
            localStorage.setItem('fallbackSchedule', JSON.stringify(fallbackData));
        } catch (error) {
            console.error('Error saving fallback schedule:', error);
        }
    }
}

// ИНИЦИАЛИЗАЦИЯ ГЛОБАЛЬНЫХ ПЕРЕМЕННЫХ
let dataManager;
let currentUser = null;
let userBookings = [];
let userOrders = [];
let cart = [];
let hasBooking = false;
let scheduleData = {};
let currentBooking = {
    date: '',
    time: '',
    duration: 1,
    lanes: [],
    name: '',
    phone: '',
    email: '',
    comment: ''
};
// КОНФИГУРАЦИОННЫЕ КОНСТАНТЫ
const CONFIG = {
    TOTAL_LANES: 6,
    TIME_SLOTS: ["12:00", "13:00", "14:00", "15:00", "16:00", "17:00", "18:00", "19:00", "20:00", "21:00", "22:00", "23:00"],
    WORKING_HOURS: {
        start: 12,
        end: 24
    },
    MIN_BOOKING_HOURS: 1,
    MAX_BOOKING_HOURS: 3,
    MAX_LANES_PER_BOOKING: 3,
    CACHE_TIMEOUT: 5 * 60 * 1000, // 5 минут
    AUTO_SLIDE_INTERVAL: 5000, // 5 секунд для карусели
    SYNC_INTERVAL: 30000 // 30 секунд
};

// Инициализация глобальных переменных
let dataManager;
let currentUser = null;

// ОБНОВЛЕННАЯ ИНИЦИАЛИЗАЦИЯ ПРИ ЗАГРУЗКЕ
document.addEventListener('DOMContentLoaded', async function() {
    console.log('Сайт боулинг-клуба "Ключ" загружен');
    
    // Инициализация менеджера данных
    dataManager = new DataManager();
    
    try {
        // Инициализация основных систем
        await initSchedule();
        initCart();
        await initAuth();
        initAdminAuth(); // Важно: инициализация администратора ДО навигации
        initNavigation();
        initMenu();
        await initProfile();
        initEnhancedBooking();
        initGalleryCarousel();
        initChat();
        initFeedback();
        
        // Обновление времени каждую минуту
        setInterval(updateCurrentTime, 60000);
        updateCurrentTime();
        
        // Инициализация Яндекс карты
        initYandexMap();

        showNotification('Приложение готово к работе', 'success');
        
        // Проверяем наличие администратора в URL
        if (window.location.hash === '#admin' && currentUser && currentUser.isAdmin) {
            setTimeout(() => switchPage('admin'), 500);
        }
        
    } catch (error) {
        console.error('Error during initialization:', error);
        showNotification('Ошибка при загрузке приложения', 'error');
    }
});
    
    // ИНИЦИАЛИЗАЦИЯ ЯНДЕКС КАРТЫ
    function initYandexMap() {
        // Заглушка для карты
        document.getElementById('map').innerHTML = '<p>Карта: г. Вологда, ул. Ярославская, д. 2</p>';
    }
    
function initNavigation() {
    // Обработка кликов по навигации
    document.querySelectorAll('.nav-link, .book-now, .view-menu, .book-from-pricing').forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const pageId = this.getAttribute('data-page') || 
                          (this.classList.contains('book-now') ? 'booking' : 
                           this.classList.contains('view-menu') ? 'menu' : 
                           this.classList.contains('book-from-pricing') ? 'booking' : null);
            
            if (pageId) {
                // Проверяем, требуется ли авторизация для доступа к странице
                if (pageId === 'profile' && !currentUser) {
                    showNotification('Для доступа к профилю необходимо авторизоваться', 'warning');
                    document.getElementById('auth-modal').classList.add('active');
                    return;
                }
                
                switchPage(pageId);
            }
        });
    });
    
    // Инициализация первой страницы
    switchPage('home');
}
    
   // ОБНОВЛЕННАЯ ФУНКЦИЯ ПЕРЕКЛЮЧЕНИЯ СТРАНИЦ
function switchPage(pageId) {
    console.log('=== SWITCH PAGE DEBUG ===');
    console.log('Requested page:', pageId);
    console.log('Current user:', currentUser);
    console.log('Is admin:', currentUser ? currentUser.isAdmin : false);
    
    // Проверить существование элемента страницы
    const pageElement = document.getElementById(pageId);
    console.log('Page element found:', !!pageElement);
    
    if (!pageElement) {
        console.error('Страница не найдена:', pageId);
        console.log('Доступные страницы:');
        document.querySelectorAll('.page').forEach(page => {
            console.log('-', page.id);
        });
        return;
    }
    
    console.log('Переключение на страницу:', pageId);
    
    // Скрыть все страницы
    document.querySelectorAll('.page').forEach(page => {
        page.classList.remove('active');
    });
    
    // Показать выбранную страницу
    if (pageElement) {
        pageElement.classList.add('active');
        console.log('Страница активирована:', pageId);
    }
    
    // Обновить активную ссылку в навигации
    document.querySelectorAll('.nav-link').forEach(link => {
        link.classList.remove('active');
        link.removeAttribute('aria-current');
    });
    const activeLink = document.querySelector(`.nav-link[data-page="${pageId}"]`);
    if (activeLink) {
        activeLink.classList.add('active');
        activeLink.setAttribute('aria-current', 'page');
    }
    
    // Обновить расписание, если переходим на страницу расписания или бронирования
    if (pageId === 'schedule' || pageId === 'booking') {
        updateSchedule();
    }
    
    // Если переходим на страницу администратора, убедимся что она инициализирована
    if (pageId === 'admin' && currentUser && currentUser.isAdmin) {
        console.log('Инициализация страницы администратора');
        setTimeout(() => {
            initAdminPanel();
            loadAdminData();
        }, 100);
    }
    
    console.log('=== SWITCH PAGE COMPLETE ===');
}
    
    // ОБНОВЛЕННАЯ ИНИЦИАЛИЗАЦИЯ РАСПИСАНИЯ
async function initSchedule() {
    // Установить минимальную дату как сегодня, максимальную +30 дней
    const today = new Date();
    const maxDate = new Date();
    maxDate.setDate(today.getDate() + 30);
    
    const todayString = today.toISOString().split('T')[0];
    const maxDateString = maxDate.toISOString().split('T')[0];
    
    const dateInputs = ['date', 'schedule-date', 'booking-schedule-date', 'booking-date'];
    dateInputs.forEach(id => {
        const element = document.getElementById(id);
        if (element) {
            element.min = todayString;
            element.max = maxDateString;
            element.value = todayString;
        }
    });
    
    try {
        // Загружаем расписание через API
        const schedule = await dataManager.getSchedule(todayString);
        scheduleData = schedule;
    } catch (error) {
        console.error('Failed to load schedule:', error);
        // Используем локальные данные как запасной вариант
        scheduleData = JSON.parse(localStorage.getItem('scheduleData')) || {};
        initializeScheduleData();
    }
    
    // Обработчики изменения даты в расписании
    const scheduleDateInput = document.getElementById('schedule-date');
    const bookingScheduleDateInput = document.getElementById('booking-schedule-date');
    const bookingDateInput = document.getElementById('booking-date');
    
    if (scheduleDateInput) {
        scheduleDateInput.addEventListener('change', updateSchedule);
    }
    if (bookingScheduleDateInput) {
        bookingScheduleDateInput.addEventListener('change', updateSchedule);
    }
    if (bookingDateInput) {
        bookingDateInput.addEventListener('change', function() {
            currentBooking.date = this.value;
            updateTimeSlots();
            updateSchedule();
            updateBookingSummary();
        });
    }
    
    // Инициализировать расписание
    await updateSchedule();
}
    
  // ОБНОВЛЕННОЕ ОБНОВЛЕНИЕ РАСПИСАНИЯ
async function updateSchedule() {
    const times = ["12:00", "13:00", "14:00", "15:00", "16:00", "17:00", "18:00", "19:00", "20:00", "21:00", "22:00", "23:00"];
    const lanes = 6;
    
    // Получить выбранную дату
    const scheduleDateInput = document.getElementById('schedule-date');
    const bookingScheduleDateInput = document.getElementById('booking-schedule-date');
    
    const scheduleDate = scheduleDateInput ? scheduleDateInput.value : '';
    const bookingScheduleDate = bookingScheduleDateInput ? bookingScheduleDateInput.value : '';
    const selectedDate = scheduleDate || bookingScheduleDate || new Date().toISOString().split('T')[0];
    
    // Установить даты в полях выбора
    if (scheduleDateInput && !scheduleDate) scheduleDateInput.value = selectedDate;
    if (bookingScheduleDateInput && !bookingScheduleDate) bookingScheduleDateInput.value = selectedDate;
    
    // Обновить текстовое представление даты
    const dateObj = new Date(selectedDate);
    const dateText = dateObj.toLocaleDateString('ru-RU', { 
        weekday: 'long', 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric' 
    });
    
    const scheduleDateText = document.getElementById('schedule-date-text');
    const bookingScheduleDateText = document.getElementById('booking-schedule-date-text');
    
    if (scheduleDateText) scheduleDateText.textContent = dateText;
    if (bookingScheduleDateText) bookingScheduleDateText.textContent = dateText;
    
    try {
        // Загружаем расписание через API
        if (!scheduleData[selectedDate]) {
            const schedule = await dataManager.getSchedule(selectedDate);
            scheduleData[selectedDate] = schedule;
        }
    } catch (error) {
        console.error('Failed to load schedule for date:', selectedDate, error);
        // Используем локальные данные
        if (!scheduleData[selectedDate]) {
            scheduleData[selectedDate] = {};
            times.forEach(time => {
                scheduleData[selectedDate][time] = Array(lanes).fill("free");
            });
        }
    }
    
    // Заполнить расписание для страницы расписания
    fillScheduleGrid('live-schedule', selectedDate, times, lanes);
    
    // Заполнить расписание для страницы бронирования
    fillScheduleGrid('booking-schedule', selectedDate, times, lanes);
}
    
    // ЗАПОЛНЕНИЕ ТАБЛИЦЫ РАСПИСАНИЯ
    function fillScheduleGrid(gridId, date, times, lanes) {
        const grid = document.getElementById(gridId);
        if (!grid) return;
        
        grid.innerHTML = '';
        
        // Заголовки
        grid.appendChild(createScheduleCell('Время', true));
        for (let i = 1; i <= lanes; i++) {
            grid.appendChild(createScheduleCell(`Дор. ${i}`, true));
        }
        
        // Заполнить данные
        times.forEach(time => {
            grid.appendChild(createScheduleCell(time));
            for (let i = 0; i < lanes; i++) {
                const status = scheduleData[date] && scheduleData[date][time] ? scheduleData[date][time][i] : "free";
                const cell = createScheduleCell(status === "free" ? "Свободно" : "Занято");
                
                // Добавить класс в зависимости от статуса
                cell.classList.add(status);
                
                // Добавить обработчик клика для страницы бронирования
                if (gridId === 'booking-schedule' && status === "free") {
                    cell.style.cursor = 'pointer';
                    cell.addEventListener('click', function() {
                        // Сбросить выделение у всех ячеек
                        document.querySelectorAll('#booking-schedule .schedule-cell').forEach(c => {
                            c.classList.remove('selected');
                        });
                        // Выделить выбранную ячейку
                        this.classList.add('selected');
                        
                        // Установить выбранное время в форме бронирования
                        const timeSelect = document.getElementById('time');
                        if (timeSelect) {
                            timeSelect.value = time;
                        }
                    });
                } else if (gridId === 'booking-schedule' && status === "booked") {
                    cell.style.cursor = 'not-allowed';
                }
                
                grid.appendChild(cell);
            }
        });
    }
    
    // СОЗДАНИЕ ЯЧЕЙКИ РАСПИСАНИЯ
    function createScheduleCell(content, isHeader = false) {
        const cell = document.createElement('div');
        cell.className = isHeader ? 'schedule-header' : 'schedule-cell';
        cell.textContent = content;
        return cell;
    }
    
    // ОБНОВЛЕНИЕ ТЕКУЩЕГО ВРЕМЕНИ
    function updateCurrentTime() {
        const now = new Date();
        const timeString = now.toLocaleTimeString('ru-RU', { 
            hour: '2-digit', 
            minute: '2-digit',
            timeZone: 'Europe/Moscow'
        });
        const currentTimeElement = document.getElementById('current-time');
        if (currentTimeElement) {
            currentTimeElement.textContent = timeString;
        }
    }
    
    // ИНИЦИАЛИЗАЦИЯ КОРЗИНЫ
    function initCart() {
        // Загрузить корзину из localStorage
        cart = JSON.parse(localStorage.getItem('cart')) || [];
        updateCartUI();
        
        // Обработчики для кнопки корзины
        const cartToggle = document.querySelector('.cart-toggle');
        const cartClose = document.querySelector('.cart-close');
        
        if (cartToggle) {
            cartToggle.addEventListener('click', function() {
                document.querySelector('.cart-sidebar').classList.add('active');
            });
        }
        
        if (cartClose) {
            cartClose.addEventListener('click', function() {
                document.querySelector('.cart-sidebar').classList.remove('active');
            });
        }
        
        // ОБНОВЛЕННЫЙ ОБРАБОТЧИК ОФОРМЛЕНИЯ ЗАКАЗА
const checkoutButton = document.getElementById('checkout');
if (checkoutButton) {
    checkoutButton.addEventListener('click', async function() {
        await checkoutOrder();
    });
}
// ОБНОВЛЕННАЯ ФУНКЦИЯ ДЛЯ ОФОРМЛЕНИЯ ЗАКАЗА
async function checkoutOrder() {
    if (cart.length === 0) {
        showNotification('Корзина пуста', 'error');
        return;
    }
    
    if (!hasBooking && !currentUser) {
        showNotification('Для оформления заказа необходимо сначала забронировать дорожку', 'warning');
        document.querySelector('.cart-sidebar').classList.remove('active');
        switchPage('booking');
        return;
    }
    
    const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
    
    // Создать объект заказа
    const order = {
        date: new Date().toISOString().split('T')[0],
        items: [...cart],
        total: total,
        status: 'pending'
    };
    
    try {
        // Создаем заказ через API
        const savedOrder = await dataManager.createOrder(order);
        
        // Добавляем в локальные данные
        userOrders.push(savedOrder);
        if (currentUser) {
            currentUser.orders = userOrders;
        }
        
        showNotification(`Спасибо за заказ! Общая сумма: ${total} ₽. Ваш заказ будет готов к вашему приходу.`, 'success');
        
        // Очистить корзину
        cart = [];
        updateCartUI();
        localStorage.setItem('cart', JSON.stringify(cart));
        
        document.querySelector('.cart-sidebar').classList.remove('active');
    } catch (error) {
        console.error('Failed to create order:', error);
        showNotification('Не удалось оформить заказ. Попробуйте еще раз.', 'error');
    }
}
    }
    
    // ИНИЦИАЛИЗАЦИЯ МЕНЮ
    function initMenu() {
        // Обработчики для категорий меню
        document.querySelectorAll('.menu-category').forEach(category => {
            category.addEventListener('click', function() {
                // Убрать активный класс у всех категорий
                document.querySelectorAll('.menu-category').forEach(cat => {
                    cat.classList.remove('active');
                });
                
                // Добавить активный класс к выбранной категории
                this.classList.add('active');
                
                const categoryName = this.getAttribute('data-category');
                const menuItems = document.querySelectorAll('.menu-item');
                
                menuItems.forEach(item => {
                    if (categoryName === 'all' || item.getAttribute('data-category') === categoryName) {
                        item.style.display = 'flex';
                    } else {
                        item.style.display = 'none';
                    }
                });
            });
        });
        
        // Обработчики для вкладок бара
        document.querySelectorAll('.tab-header').forEach(tab => {
            tab.addEventListener('click', function() {
                // Убрать активный класс у всех вкладок
                document.querySelectorAll('.tab-header').forEach(t => {
                    t.classList.remove('active');
                });
                
                // Добавить активный класс к выбранной вкладке
                this.classList.add('active');
                
                // Показать соответствующее содержимое
                const tabName = this.getAttribute('data-tab');
                document.querySelectorAll('.tab-content').forEach(content => {
                    content.classList.remove('active');
                });
                const tabContent = document.getElementById(`${tabName}-tab`);
                if (tabContent) {
                    tabContent.classList.add('active');
                }
            });
        });
        
        // Обработчики для кнопок добавления в корзину
        document.querySelectorAll('.add-to-cart').forEach(button => {
            button.addEventListener('click', function() {
                if (!hasBooking && !currentUser) {
                    showNotification('Для оформления заказа необходимо сначала забронировать дорожку', 'warning');
                    switchPage('booking');
                    return;
                }
                
                const name = this.getAttribute('data-name');
                const price = parseInt(this.getAttribute('data-price'));
                const quantityElement = document.querySelector(`.quantity-value[data-item="${name}"]`);
                const quantity = quantityElement ? parseInt(quantityElement.textContent) : 1;
                
                // Добавить товар в корзину
                addToCart(name, price, quantity);
                showNotification(`"${name}" добавлен в корзину`, 'success');
            });
        });
        
        // Обработчики для кнопок количества
        document.querySelectorAll('.quantity-btn').forEach(button => {
            button.addEventListener('click', function() {
                const itemName = this.getAttribute('data-item');
                const isPlus = this.classList.contains('plus');
                const quantityElement = document.querySelector(`.quantity-value[data-item="${itemName}"]`);
                if (!quantityElement) return;
                
                let quantity = parseInt(quantityElement.textContent);
                
                if (isPlus) {
                        quantity++;
                } else {
                    quantity = Math.max(1, quantity - 1);
                }
                
                quantityElement.textContent = quantity;
            });
        });
        // Оптимизация: делегирование событий для кнопок добавления в корзину
document.addEventListener('click', function(e) {
    // Обработка кнопок "В корзину"
    if (e.target.classList.contains('add-to-cart') || e.target.closest('.add-to-cart')) {
        const button = e.target.classList.contains('add-to-cart') ? e.target : e.target.closest('.add-to-cart');
        
        if (!hasBooking && !currentUser) {
            showNotification('Для оформления заказа необходимо сначала забронировать дорожку', 'warning');
            switchPage('booking');
            return;
        }
        
        const name = button.getAttribute('data-name');
        const price = parseInt(button.getAttribute('data-price'));
        const quantityElement = document.querySelector(`.quantity-value[data-item="${name}"]`);
        const quantity = quantityElement ? parseInt(quantityElement.textContent) : 1;
        
        addToCart(name, price, quantity);
        showNotification(`"${name}" добавлен в корзину`, 'success');
    }
    
    // Обработка кнопок количества
    if (e.target.classList.contains('quantity-btn')) {
        const button = e.target;
        const itemName = button.getAttribute('data-item');
        const isPlus = button.classList.contains('plus');
        const quantityElement = document.querySelector(`.quantity-value[data-item="${itemName}"]`);
        
        if (!quantityElement) return;
        
        let quantity = parseInt(quantityElement.textContent);
        
        if (isPlus) {
            quantity++;
        } else {
            quantity = Math.max(1, quantity - 1);
        }
        
        quantityElement.textContent = quantity;
    }
});
    }
    
    // ДОБАВЛЕНИЕ В КОРЗИНУ
    function addToCart(name, price, quantity = 1) {
        // Проверить, есть ли уже такой товар в корзине
        const existingItem = cart.find(item => item.name === name);
        
        if (existingItem) {
            existingItem.quantity += quantity;
        } else {
            cart.push({
                name: name,
                price: price,
                quantity: quantity
            });
        }
        
        updateCartUI();
        localStorage.setItem('cart', JSON.stringify(cart));
    }
    
    // ОБНОВЛЕНИЕ ИНТЕРФЕЙСА КОРЗИНЫ
    function updateCartUI() {
        const cartItems = document.getElementById('cart-items');
        const cartTotal = document.getElementById('cart-total');
        const cartBadge = document.getElementById('cart-badge');
        
        if (!cartItems || !cartTotal || !cartBadge) return;
        
        // Очистить корзину
        cartItems.innerHTML = '';
        
        if (cart.length === 0) {
            cartItems.innerHTML = '<div class="cart-empty">Корзина пуста</div>';
            cartTotal.textContent = '0 ₽';
            cartBadge.textContent = '0';
            return;
        }
        
        // Заполнить корзину товарами
        let total = 0;
        let totalItems = 0;
        
        cart.forEach((item, index) => {
            const itemTotal = item.price * item.quantity;
            total += itemTotal;
            totalItems += item.quantity;
            
            const cartItem = document.createElement('div');
            cartItem.className = 'cart-item';
            cartItem.innerHTML = `
                <div class="cart-item-info">
                    <div class="cart-item-name">${item.name}</div>
                    <div class="cart-item-price">${item.price} ₽ × ${item.quantity}</div>
                </div>
                <div class="cart-item-actions">
                    <span class="cart-item-quantity">${itemTotal} ₽</span>
                    <button class="remove-item" data-index="${index}">✕</button>
                </div>
            `;
            
            cartItems.appendChild(cartItem);
        });
        
        cartTotal.textContent = `${total} ₽`;
        cartBadge.textContent = totalItems;
        
        // Добавить обработчики для кнопок удаления
        document.querySelectorAll('.remove-item').forEach(button => {
            button.addEventListener('click', function() {
                const index = parseInt(this.getAttribute('data-index'));
                cart.splice(index, 1);
                updateCartUI();
                localStorage.setItem('cart', JSON.stringify(cart));
            });
        });
    }
    
// ОБНОВЛЕННАЯ ИНИЦИАЛИЗАЦИЯ АВТОРИЗАЦИИ
async function initAuth() {
    // Проверяем наличие токена
    const token = localStorage.getItem('authToken');
    if (token) {
        try {
            dataManager.api.setAuthToken(token);
            // Получаем профиль пользователя
            const profile = await dataManager.api.getProfile();
            currentUser = profile;
            
            // Загружаем бронирования и заказы пользователя
            userBookings = await dataManager.getBookings();
            userOrders = await dataManager.getOrders();
            
            updateUserUI();
            hasBooking = userBookings.length > 0;
        } catch (error) {
            console.error('Failed to load user data:', error);
            dataManager.api.clearAuthToken();
            currentUser = null;
            updateUserUI();
        }
    }
     // ОБНОВЛЕННЫЙ обработчик формы авторизации с API
    const authForm = document.getElementById('auth-form');
    if (authForm) {
        // ⭐⭐⭐ ДОБАВЛЕННЫЙ КОД ВАЛИДАЦИИ ТЕЛЕФОНА ⭐⭐⭐
        const authPhoneInput = document.getElementById('auth-phone');
        if (authPhoneInput) {
            authPhoneInput.addEventListener('input', function(e) {
                let value = e.target.value.replace(/\D/g, '');
                
                // Убираем 7 или 8 в начале
                if (value.startsWith('7') || value.startsWith('8')) {
                    value = value.substring(1);
                }
                
                let formattedValue = '+7 ';
                if (value.length > 0) {
                    formattedValue += '(' + value.substring(0, 3);
                }
                if (value.length > 3) {
                    formattedValue += ') ' + value.substring(3, 6);
                }
                if (value.length > 6) {
                    formattedValue += '-' + value.substring(6, 8);
                }
                if (value.length > 8) {
                    formattedValue += '-' + value.substring(8, 10);
                }
                
                e.target.value = formattedValue;
            });
            
            // Добавляем inputmode для мобильных устройств
            authPhoneInput.setAttribute('inputmode', 'numeric');
            authPhoneInput.setAttribute('placeholder', '+7 (___) ___-__-__');
        }
        // ⭐⭐⭐ КОНЕЦ ДОБАВЛЕННОГО КОДА ⭐⭐⭐
        
        authForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const phone = document.getElementById('auth-phone').value;
            const password = document.getElementById('auth-password').value;
            
            try {
                // Показываем индикатор загрузки
                const submitBtn = this.querySelector('button[type="submit"]');
                submitBtn.innerHTML = '<div class="loader"></div>';
                submitBtn.disabled = true;

                // ОБЫЧНЫЙ ВХОД ЧЕРЕЗ API
                const result = await dataManager.api.login(phone, password);
                
                // Успешный вход
                dataManager.api.setAuthToken(result.token);
                currentUser = result.user;
                
                // Загружаем данные пользователя
                userBookings = await dataManager.getBookings();
                userOrders = await dataManager.getOrders();
                
                // Обновить интерфейс
                updateUserUI();
                document.getElementById('auth-button').textContent = 'Выйти';
                
                // Закрыть модальное окно
                document.getElementById('auth-modal').classList.remove('active');
                
                // Очистить форму
                this.reset();
                
                showNotification(`Добро пожаловать, ${currentUser.name}!`, 'success');
                
            } catch (error) {
                console.error('Login failed:', error);
                // ... обработка ошибок ...
            } finally {
                // Восстанавливаем кнопку
                const submitBtn = this.querySelector('button[type="submit"]');
                if (submitBtn) {
                    submitBtn.innerHTML = 'Войти';
                    submitBtn.disabled = false;
                }
            }
        });
    }
    // Обработчики для кнопки авторизации
    const authButton = document.getElementById('auth-button');
    if (authButton) {
        authButton.addEventListener('click', function() {
            if (currentUser) {
                // Выход из аккаунта
                currentUser = null;
                userBookings = [];
                userOrders = [];
                dataManager.api.clearAuthToken();
                updateUserUI();
                this.textContent = 'Войти';
                
                showNotification('Вы вышли из аккаунта', 'success');
            } else {
                // Показать модальное окно авторизации
                document.getElementById('auth-modal').classList.add('active');
            }
        });
    }
    
    // Обработчики для закрытия модальных окон
    document.querySelectorAll('.modal-close').forEach(button => {
        button.addEventListener('click', function() {
            this.closest('.modal').classList.remove('active');
        });
    });
    
    // Обработчики для переключения между формами авторизации и регистрации
    const showRegister = document.getElementById('show-register');
    const showLogin = document.getElementById('show-login');
    
    if (showRegister) {
        showRegister.addEventListener('click', function(e) {
            e.preventDefault();
            document.getElementById('auth-modal').classList.remove('active');
            document.getElementById('register-modal').classList.add('active');
        });
    }
    
    if (showLogin) {
        showLogin.addEventListener('click', function(e) {
            e.preventDefault();
            document.getElementById('register-modal').classList.remove('active');
            document.getElementById('auth-modal').classList.add('active');
        });
    }

                // ОБЫЧНЫЙ ВХОД ЧЕРЕЗ API
                const result = await dataManager.api.login(phone, password);
                
                // Успешный вход
                dataManager.api.setAuthToken(result.token);
                currentUser = result.user;
                
                // Загружаем данные пользователя
                userBookings = await dataManager.getBookings();
                userOrders = await dataManager.getOrders();
                
                // Обновить интерфейс
                updateUserUI();
                document.getElementById('auth-button').textContent = 'Выйти';
                
                // Закрыть модальное окно
                document.getElementById('auth-modal').classList.remove('active');
                
                // Очистить форму
                this.reset();
                
                showNotification(`Добро пожаловать, ${currentUser.name}!`, 'success');
                
            } catch (error) {
                console.error('Login failed:', error);
                
                // Обработка конкретных ошибок от API
                if (error.message.includes('неверный пароль') || error.message.includes('invalid password')) {
                    showNotification('Неверный пароль', 'error');
                } else if (error.message.includes('пользователь не найден') || error.message.includes('user not found')) {
                    showNotification('Пользователь с таким номером не найден. Зарегистрируйтесь.', 'error');
                } else if (error.message.includes('неактивен') || error.message.includes('inactive')) {
                    showNotification('Аккаунт заблокирован. Обратитесь в поддержку.', 'error');
                } else {
                    showNotification('Ошибка входа. Проверьте номер телефона и пароль.', 'error');
                }
                
            } finally {
                // Восстанавливаем кнопку
                const submitBtn = this.querySelector('button[type="submit"]');
                if (submitBtn) {
                    submitBtn.innerHTML = 'Войти';
                    submitBtn.disabled = false;
                }
            }
        });
    }
    
    // ОБНОВЛЕННЫЙ обработчик формы регистрации с API
    const registerForm = document.getElementById('register-form');
    if (registerForm) {
        registerForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            const name = document.getElementById('register-name').value;
            const phone = document.getElementById('register-phone').value;
            const email = document.getElementById('register-email').value;
            const password = document.getElementById('register-password').value;
            const passwordConfirm = document.getElementById('register-password-confirm').value;
            const privacyAgree = document.getElementById('privacy-agree');
            
            // Проверить согласие с политикой конфиденциальности
            if (!privacyAgree || !privacyAgree.checked) {
                showNotification('Необходимо согласие на обработку персональных данных', 'error');
                return;
            }
            
            // Проверить совпадение паролей
            if (password !== passwordConfirm) {
                showNotification('Пароли не совпадают', 'error');
                return;
            }
            
            // Проверить минимальную длину пароля
            if (password.length < 6) {
                showNotification('Пароль должен содержать минимум 6 символов', 'error');
                return;
            }
            
            try {
                // Показываем индикатор загрузки
                const submitBtn = this.querySelector('button[type="submit"]');
                submitBtn.innerHTML = '<div class="loader"></div>';
                submitBtn.disabled = true;

                // ВЫПОЛНЯЕМ ЗАПРОС К API ДЛЯ РЕГИСТРАЦИИ
                const result = await dataManager.api.register({
                    name,
                    phone,
                    email,
                    password
                });
                
                // Успешная регистрация
                dataManager.api.setAuthToken(result.token);
                currentUser = result.user;
                userBookings = [];
                userOrders = [];
                
                // Обновить интерфейс
                updateUserUI();
                document.getElementById('auth-button').textContent = 'Выйти';
                
                // Закрыть модальное окно
                document.getElementById('register-modal').classList.remove('active');
                
                // Очистить форму
                this.reset();
                
                showNotification('Регистрация прошла успешно!', 'success');
                
            } catch (error) {
                console.error('Registration failed:', error);
                
                // Обработка конкретных ошибок от API
                if (error.message.includes('уже существует') || error.message.includes('already exists')) {
                    showNotification('Пользователь с таким номером телефона уже зарегистрирован. Используйте другой номер или войдите в систему.', 'error');
                } else if (error.message.includes('неверный формат') || error.message.includes('invalid phone')) {
                    showNotification('Неверный формат номера телефона', 'error');
                } else if (error.message.includes('email') || error.message.includes('почта')) {
                    showNotification('Неверный формат email адреса', 'error');
                } else {
                    showNotification('Ошибка регистрации. Попробуйте еще раз или обратитесь в поддержку.', 'error');
                }
                
            } finally {
                // Восстанавливаем кнопку в любом случае
                const submitBtn = this.querySelector('button[type="submit"]');
                if (submitBtn) {
                    submitBtn.innerHTML = 'Зарегистрироваться';
                    submitBtn.disabled = false;
                }
            }
        });
    }
    
    // === ОБРАБОТЧИК ПЕРЕКЛЮЧЕНИЯ АДМИН-РЕЖИМА ===
    const toggleAdminLogin = document.getElementById('toggle-admin-login');
    if (toggleAdminLogin) {
        toggleAdminLogin.addEventListener('click', function(e) {
            e.preventDefault();
            const adminField = document.getElementById('admin-login-field');
            const authButton = document.querySelector('#auth-form button[type="submit"]');
            
            if (adminField.style.display === 'none') {
                adminField.style.display = 'block';
                this.textContent = 'Обычный вход';
                if (authButton) authButton.textContent = 'Войти как администратор';
            } else {
                adminField.style.display = 'none';
                this.textContent = 'Вход для администратора';
                if (authButton) authButton.textContent = 'Войти';
            }
        });
    }
}
            
            
            // ОБЫЧНЫЙ ВХОД ЧЕРЕЗ API
            const result = await dataManager.api.login(phone, password);
            
            // Успешный вход
            dataManager.api.setAuthToken(result.token);
            currentUser = result.user;
            
            // Загружаем данные пользователя
            userBookings = await dataManager.getBookings();
            userOrders = await dataManager.getOrders();
            
            // Обновить интерфейс
            updateUserUI();
            document.getElementById('auth-button').textContent = 'Выйти';
            
            // Закрыть модальное окно
            document.getElementById('auth-modal').classList.remove('active');
            
            // Очистить форму
            this.reset();
            
            showNotification(`Добро пожаловать, ${currentUser.name}!`, 'success');
            
        } catch (error) {
            console.error('Login failed:', error);
            
            // Обработка конкретных ошибок от API
            if (error.message.includes('неверный пароль') || error.message.includes('invalid password')) {
                showNotification('Неверный пароль', 'error');
            } else if (error.message.includes('пользователь не найден') || error.message.includes('user not found')) {
                showNotification('Пользователь с таким номером не найден. Зарегистрируйтесь.', 'error');
            } else if (error.message.includes('неактивен') || error.message.includes('inactive')) {
                showNotification('Аккаунт заблокирован. Обратитесь в поддержку.', 'error');
            } else {
                showNotification('Ошибка входа. Проверьте номер телефона и пароль.', 'error');
            }
            
        } finally {
            // Восстанавливаем кнопку
            const submitBtn = this.querySelector('button[type="submit"]');
            submitBtn.innerHTML = 'Войти';
            submitBtn.disabled = false;
        }
    });
}
        
    // ОБНОВЛЕННЫЙ ОБРАБОТЧИК ФОРМЫ РЕГИСТРАЦИИ
   const registerForm = document.getElementById('register-form');
if (registerForm) {
    registerForm.addEventListener('submit', async function(e) {
        e.preventDefault();
        
        const name = document.getElementById('register-name').value;
        const phone = document.getElementById('register-phone').value;
        const email = document.getElementById('register-email').value;
        const password = document.getElementById('register-password').value;
        const passwordConfirm = document.getElementById('register-password-confirm').value;
        const privacyAgree = document.getElementById('privacy-agree');
        
        // Проверить согласие с политикой конфиденциальности
        if (!privacyAgree || !privacyAgree.checked) {
            showNotification('Необходимо согласие на обработку персональных данных', 'error');
            return;
        }
        
        // Проверить совпадение паролей
        if (password !== passwordConfirm) {
            showNotification('Пароли не совпадают', 'error');
            return;
        }
        
        // Проверить минимальную длину пароля
        if (password.length < 6) {
            showNotification('Пароль должен содержать минимум 6 символов', 'error');
            return;
        }
        
        try {
            // Показываем индикатор загрузки
            const submitBtn = this.querySelector('button[type="submit"]');
            const originalText = submitBtn.textContent;
            submitBtn.innerHTML = '<div class="loader"></div>';
            submitBtn.disabled = true;

            // ВЫПОЛНЯЕМ ЗАПРОС К API ДЛЯ РЕГИСТРАЦИИ
            const result = await dataManager.api.register({
                name,
                phone,
                email,
                password
            });
            
            // Успешная регистрация
            dataManager.api.setAuthToken(result.token);
            currentUser = result.user;
            userBookings = [];
            userOrders = [];
            
            // Обновить интерфейс
            updateUserUI();
            document.getElementById('auth-button').textContent = 'Выйти';
            
            // Закрыть модальное окно
            document.getElementById('register-modal').classList.remove('active');
            
            // Очистить форму
            this.reset();
            
            showNotification('Регистрация прошла успешно!', 'success');
            
        } catch (error) {
            console.error('Registration failed:', error);
            
            // Обработка конкретных ошибок от API
            if (error.message.includes('уже существует') || error.message.includes('already exists')) {
                showNotification('Пользователь с таким номером телефона уже зарегистрирован. Используйте другой номер или войдите в систему.', 'error');
            } else if (error.message.includes('неверный формат') || error.message.includes('invalid phone')) {
                showNotification('Неверный формат номера телефона', 'error');
            } else if (error.message.includes('email') || error.message.includes('почта')) {
                showNotification('Неверный формат email адреса', 'error');
            } else {
                showNotification('Ошибка регистрации. Попробуйте еще раз или обратитесь в поддержку.', 'error');
            }
            
        } finally {
            // Восстанавливаем кнопку в любом случае
            const submitBtn = this.querySelector('button[type="submit"]');
            if (submitBtn) {
                submitBtn.innerHTML = 'Зарегистрироваться';
                submitBtn.disabled = false;
            }
        }
    });
}
    
    
    // ОБНОВЛЕНИЕ ИНТЕРФЕЙСА ПОЛЬЗОВАТЕЛЯ
   function updateUserUI() {
    const userName = document.getElementById('user-name');
    const userAvatar = document.getElementById('user-avatar');
    const profileNavItem = document.getElementById('profile-nav-item');
    const authButton = document.getElementById('auth-button');
    const adminLoginBtn = document.getElementById('admin-login-button');
         if (currentUser) {
        if (userName) {
            const nameText = document.createTextNode(currentUser.name);
            userName.appendChild(nameText);
            
            // Добавляем индикатор администратора только если пользователь админ
            if (currentUser.isAdmin) {
                const adminBadge = document.createElement('span');
                adminBadge.className = 'admin-indicator';
                adminBadge.textContent = ' (АДМИН)';
                adminBadge.style.marginLeft = '8px';
                adminBadge.style.fontSize = '12px';
                adminBadge.style.background = 'var(--warning)';
                adminBadge.style.color = 'white';
                adminBadge.style.padding = '2px 6px';
                adminBadge.style.borderRadius = '4px';
                userName.appendChild(adminBadge);
            }
        }
        
        if (userAvatar) {
            userAvatar.textContent = currentUser.isAdmin ? 'A' : currentUser.name.charAt(0).toUpperCase();
            if (currentUser.isAdmin) {
                userAvatar.style.backgroundColor = 'var(--warning)';
            } else {
                userAvatar.style.backgroundColor = 'var(--accent-orange)';
            }
        }
        
        // Показываем ссылку на профиль
        if (profileNavItem) profileNavItem.style.display = 'block';
        
        // Скрываем кнопку входа администратора если пользователь уже вошел
        if (adminLoginBtn) adminLoginBtn.style.display = 'none';
        
        if (authButton) authButton.textContent = 'Выйти';
        
    } else {
        if (userName) {
            userName.textContent = 'Гость';
        }
        if (userAvatar) {
            userAvatar.textContent = 'Г';
            userAvatar.style.backgroundColor = 'var(--accent-orange)';
        }
        // Скрываем ссылку на профиль
        if (profileNavItem) profileNavItem.style.display = 'none';
        
        // Показываем кнопку входа администратора для гостей
        if (adminLoginBtn) adminLoginBtn.style.display = 'block';
        
        if (authButton) authButton.textContent = 'Войти';
    }
    
    // Обновляем навигацию администратора
    updateAdminNavigation();
}
    
    // ГЕНЕРАЦИЯ ID
    function generateId() {
        return '_' + Math.random().toString(36).substr(2, 9);
    }
    
// ОБНОВЛЕННАЯ ФУНКЦИЯ ДЛЯ УВЕДОМЛЕНИЙ С ОБРАБОТКОЙ ОШИБОК
function showNotification(message, type = 'success') {
    const notification = document.getElementById('success-notification');
    if (!notification) return;
    
    // Добавляем иконку в зависимости от типа уведомления
    let icon = '✓';
    if (type === 'error') icon = '✕';
    if (type === 'warning') icon = '⚠';
    
    notification.innerHTML = `<span style="margin-right: 8px;">${icon}</span>${message}`;
    notification.className = `notification ${type} show`;
    
    // Автоматическое скрытие
    setTimeout(() => {
        notification.classList.remove('show');
    }, type === 'error' ? 5000 : 3000);
}

    // ОБНОВЛЕННАЯ ФУНКЦИЯ ИНИЦИАЛИЗАЦИИ ПРОФИЛЯ
async function initProfile() {
    // Обработчики для меню профиля
    document.querySelectorAll('.profile-menu-item').forEach(item => {
        item.addEventListener('click', function() {
            // Убрать активный класс у всех пунктов меню
            document.querySelectorAll('.profile-menu-item').forEach(i => {
                i.classList.remove('active');
            });
            
            // Добавить активный класс к выбранному пункту
            this.classList.add('active');
            
            // Показать соответствующую вкладку
            const tabName = this.getAttribute('data-tab');
            document.querySelectorAll('.profile-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            const tabElement = document.getElementById(`${tabName}-tab`);
            if (tabElement) {
                tabElement.classList.add('active');
            }
        });
    });
    
    // ОБНОВЛЕННЫЙ ОБРАБОТЧИК ФОРМЫ НАСТРОЕК ПРОФИЛЯ
    const profileForm = document.getElementById('profile-form');
    if (profileForm) {
        profileForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            
            if (!currentUser) {
                showNotification('Для изменения настроек необходимо авторизоваться', 'error');
                return;
            }
            
            const name = document.getElementById('settings-name').value;
            const phone = document.getElementById('settings-phone').value;
            const email = document.getElementById('settings-email').value;
            const password = document.getElementById('settings-password').value;
            const passwordConfirm = document.getElementById('settings-password-confirm').value;
            
            // Проверить совпадение паролей, если они введены
            if (password && password !== passwordConfirm) {
                showNotification('Пароли не совпадают', 'error');
                return;
            }
            
            try {
                const profileData = { name, phone, email };
                if (password) {
                    profileData.password = password;
                }
                
                const updatedUser = await dataManager.api.updateProfile(profileData);
                
                // Обновить текущего пользователя
                currentUser = updatedUser;
                
                // Обновить интерфейс
                updateUserUI();
                updateProfileUI();
                
                showNotification('Профиль успешно обновлен', 'success');
            } catch (error) {
                console.error('Failed to update profile:', error);
                showNotification('Ошибка обновления профиля', 'error');
            }
        });
    }
}

    // ФУНКЦИЯ ОБНОВЛЕНИЯ ИНТЕРФЕЙСА ПРОФИЛЯ
    function updateProfileUI() {
        if (!currentUser) return;
        
        // Обновляем информацию в профиле
        const profileAvatar = document.getElementById('profile-avatar');
        const profileName = document.getElementById('profile-name');
        const profilePhone = document.getElementById('profile-phone');
        
        if (profileAvatar) profileAvatar.textContent = currentUser.name.charAt(0).toUpperCase();
        if (profileName) profileName.textContent = currentUser.name;
        if (profilePhone) profilePhone.textContent = currentUser.phone;
        
        // Заполняем форму настроек
        const settingsName = document.getElementById('settings-name');
        const settingsPhone = document.getElementById('settings-phone');
        const settingsEmail = document.getElementById('settings-email');
        
        if (settingsName) settingsName.value = currentUser.name;
        if (settingsPhone) settingsPhone.value = currentUser.phone;
        if (settingsEmail) settingsEmail.value = currentUser.email || '';
        
        // Загружаем бронирования и заказы
        loadUserBookings();
        loadUserOrders();
        loadUserStats();
    }

    // ОБНОВЛЕННАЯ ФУНКЦИЯ ЗАГРУЗКИ БРОНИРОВАНИЙ
async function loadUserBookings() {
    try {
        const bookings = await dataManager.getBookings();
        
        const bookingsList = document.getElementById('bookings-list');
        const upcomingBookings = document.getElementById('upcoming-bookings');
        
        if (!bookingsList || !upcomingBookings) return;
        
        if (!bookings || bookings.length === 0) {
            bookingsList.innerHTML = '<p>У вас нет бронирований</p>';
            upcomingBookings.innerHTML = '<p>У вас нет предстоящих бронирований</p>';
            return;
        }
        
        // Сортируем бронирования по дате (сначала ближайшие)
        const sortedBookings = [...bookings].sort((a, b) => {
            const dateA = new Date(`${a.date}T${a.time}`);
            const dateB = new Date(`${b.date}T${b.time}`);
            return dateA - dateB;
        });
        
        // Отображаем все бронирования
        bookingsList.innerHTML = '';
        sortedBookings.forEach(booking => {
            const bookingCard = createBookingCard(booking);
            bookingsList.appendChild(bookingCard);
        });
        
       // Отображаем предстоящие бронирования (только активные)
const upcoming = sortedBookings.filter(booking => 
    booking.status === 'active' && 
    new Date(`${booking.date}T${booking.time}`) > new Date()
);
        
        upcomingBookings.innerHTML = '';
        if (upcoming.length === 0) {
            upcomingBookings.innerHTML = '<p>У вас нет предстоящих бронирований</p>';
        } else {
            upcoming.slice(0, 3).forEach(booking => {
                const bookingCard = createBookingCard(booking, true);
                upcomingBookings.appendChild(bookingCard);
            });
        }
    } catch (error) {
        console.error('Failed to load bookings:', error);
        showNotification('Ошибка загрузки бронирований', 'error');
    }
}

    // Создание карточки бронирования
    function createBookingCard(booking, isUpcoming = false) {
        const bookingCard = document.createElement('div');
        bookingCard.className = 'booking-card';
        bookingCard.dataset.bookingId = booking.id;
        
        const statusClass = booking.status === 'active' ? 'status-active' : 
                          booking.status === 'completed' ? 'status-completed' : 
                          booking.status === 'cancelled' ? 'status-cancelled' : 'status-cancelled';
        
        // Проверяем, можно ли управлять бронированием
        const canManage = booking.status === 'active' && 
                         new Date(`${booking.date}T${booking.time}`) > new Date();
        
        const totalCost = calculateBookingPrice(booking);
        
        bookingCard.innerHTML = `
            <div class="booking-info">
                <h4>Бронирование #${booking.id.slice(-6)}</h4>
                <p><strong>Дата:</strong> ${formatDate(booking.date)}</p>
                <p><strong>Время:</strong> ${booking.time} (${booking.duration} час)</p>
                <p><strong>Дорожки:</strong> ${booking.lanes.map(l => l).join(', ')}</p>
                <p><strong>Стоимость:</strong> ${totalCost} ₽</p>
                ${booking.comment ? `<p><strong>Комментарий:</strong> ${booking.comment}</p>` : ''}
            </div>
            <div class="booking-actions">
                <span class="booking-status ${statusClass}">${getStatusText(booking.status)}</span>
                ${canManage ? `
                    <div class="booking-controls">
                        <button class="btn btn-outline edit-booking" data-booking-id="${booking.id}">Изменить</button>
                        <button class="btn cancel-btn" data-booking-id="${booking.id}">Отменить</button>
                    </div>
                ` : ''}
            </div>
        `;
        
        // Добавляем обработчики для кнопок
        if (canManage) {
            const cancelBtn = bookingCard.querySelector('.cancel-btn');
            const editBtn = bookingCard.querySelector('.edit-booking');
            
            cancelBtn.addEventListener('click', function() {
                cancelBooking(booking.id);
            });
            
            editBtn.addEventListener('click', function() {
                editBooking(booking.id);
            });
        }
        
        return bookingCard;
    }

// ОБНОВЛЕННАЯ ФУНКЦИЯ ОТМЕНЫ БРОНИРОВАНИЯ
async function cancelBooking(bookingId) {
    if (!confirm('Вы уверены, что хотите отменить это бронирование?')) {
        return;
    }
    
    try {
        await dataManager.cancelBooking(bookingId);
        
        // Обновляем локальные данные
        userBookings = userBookings.filter(b => b.id !== bookingId);
        if (currentUser) {
            currentUser.bookings = userBookings;
        }
        
        // Обновляем интерфейс
        updateProfileUI();
        await updateSchedule();
        
        showNotification('Бронирование успешно отменено', 'success');
    } catch (error) {
        console.error('Failed to cancel booking:', error);
        showNotification('Не удалось отменить бронирование', 'error');
    }
}

    // Функция редактирования бронирования
    function editBooking(bookingId) {
        // Находим бронирование
        const bookingsSource = currentUser ? userBookings : JSON.parse(localStorage.getItem('guestBookings')) || [];
        const bookingIndex = bookingsSource.findIndex(b => b.id === bookingId);
        
        if (bookingIndex === -1) {
            showNotification('Бронирование не найдено', 'error');
            return;
        }
        
        const booking = bookingsSource[bookingIndex];
        
        // Заполняем форму бронирования данными
        currentBooking = {
            date: booking.date,
            time: booking.time,
            duration: booking.duration,
            lanes: [...booking.lanes],
            name: booking.name,
            phone: booking.phone,
            email: booking.email || '',
            comment: booking.comment || ''
        };
        
        // Заполняем форму
        document.getElementById('booking-date').value = booking.date;
        document.getElementById('booking-name').value = booking.name;
        document.getElementById('booking-phone').value = booking.phone;
        document.getElementById('booking-email').value = booking.email || '';
        document.getElementById('booking-comment').value = booking.comment || '';
        
        // Обновляем UI
        updateTimeSlots();
        updateLaneSelection();
        updateBookingSummary();
        
        // Переходим на страницу бронирования
        switchPage('booking');
        
        // Показываем сообщение
        showNotification('Заполнена форма для изменения бронирования. Проверьте данные и подтвердите изменения.', 'success');
        
        // Удаляем старое бронирование после создания нового
        const originalBookingId = booking.id;
        
        // Модифицируем обработчик подтверждения бронирования
        const originalConfirmHandler = document.querySelector('.next-step[data-next="4"]').onclick;
        document.querySelector('.next-step[data-next="4"]').onclick = function() {
            // Создаем новое бронирование
            confirmBooking();
            
            // Удаляем старое бронирование
            setTimeout(() => {
                cancelBooking(originalBookingId);
            }, 1000);
            
            // Восстанавливаем оригинальный обработчик
            document.querySelector('.next-step[data-next="4"]').onclick = originalConfirmHandler;
        };
    }

    // ОБНОВЛЕННАЯ ФУНКЦИЯ ЗАГРУЗКИ ЗАКАЗОВ
async function loadUserOrders() {
    try {
        const orders = await dataManager.getOrders();
        
        const ordersList = document.getElementById('orders-list');
        if (!ordersList) return;
        
        if (!orders || orders.length === 0) {
            ordersList.innerHTML = '<p>У вас нет заказов</p>';
            return;
        }
        
        // Сортируем заказы по дате (сначала новые)
        const sortedOrders = [...orders].sort((a, b) => {
            return new Date(b.date) - new Date(a.date);
        });
        
        ordersList.innerHTML = '';
        sortedOrders.forEach(order => {
            const orderCard = createOrderCard(order);
            ordersList.appendChild(orderCard);
        });
    } catch (error) {
        console.error('Failed to load orders:', error);
        showNotification('Ошибка загрузки заказов', 'error');
    }
}

    // Создание карточки заказа
    function createOrderCard(order) {
        const orderCard = document.createElement('div');
        orderCard.className = 'order-card';
        orderCard.dataset.orderId = order.id;
        
        // Проверяем, можно ли отменить заказ (только если статус "pending")
        const canCancel = order.status === 'pending';
        const statusText = order.status === 'pending' ? 'В обработке' : 
                         order.status === 'completed' ? 'Выполнен' : 
                         order.status === 'cancelled' ? 'Отменен' : order.status;
        
        orderCard.innerHTML = `
            <div class="order-header">
                <div>
                    <h4>Заказ #${order.id.slice(-6)}</h4>
                    <span>${order.date}</span>
                </div>
                <span class="booking-status ${order.status === 'cancelled' ? 'status-cancelled' : order.status === 'completed' ? 'status-completed' : 'status-active'}">
                    ${statusText}
                </span>
            </div>
            <div class="order-items">
                ${order.items.map(item => `
                    <div class="order-item">
                        <span>${item.name} × ${item.quantity}</span>
                        <span>${item.price * item.quantity} ₽</span>
                    </div>
                `).join('')}
            </div>
            <div class="order-total">
                <span>Итого:</span>
                <span>${order.total} ₽</span>
            </div>
            <div class="order-actions">
                ${canCancel ? `
                    <div class="order-controls">
                        <button class="btn btn-outline edit-order" data-order-id="${order.id}">Изменить</button>
                        <button class="btn cancel-btn" data-order-id="${order.id}">Отменить заказ</button>
                    </div>
                ` : ''}
            </div>
        `;
        
        // Добавляем обработчики для кнопок
        if (canCancel) {
            const cancelBtn = orderCard.querySelector('.cancel-btn');
            const editBtn = orderCard.querySelector('.edit-order');
            
            cancelBtn.addEventListener('click', function() {
                cancelOrder(order.id);
            });
            
            editBtn.addEventListener('click', function() {
                editOrder(order.id);
            });
        }
        
        return orderCard;
    }

    // Функция отмены заказа
    function cancelOrder(orderId) {
        if (!confirm('Вы уверены, что хотите отменить этот заказ?')) {
            return;
        }
        
        // Определяем, от имени кого отменяем заказ
        const ordersSource = currentUser ? userOrders : JSON.parse(localStorage.getItem('guestOrders')) || [];
        
        // Находим заказ в массиве
        const orderIndex = ordersSource.findIndex(o => o.id === orderId);
        
        if (orderIndex === -1) {
            showNotification('Заказ не найден', 'error');
            return;
        }
        
        // Обновляем статус заказа
        ordersSource[orderIndex].status = 'cancelled';
        
        // Обновляем данные в localStorage
        if (currentUser) {
            currentUser.orders = ordersSource;
            localStorage.setItem('currentUser', JSON.stringify(currentUser));
            localStorage.setItem('userOrders', JSON.stringify(ordersSource));
        } else {
            localStorage.setItem('guestOrders', JSON.stringify(ordersSource));
        }
        
        // Обновляем интерфейс
        updateProfileUI();
        
        showNotification('Заказ успешно отменен', 'success');
    }

    // Функция редактирования заказа
    function editOrder(orderId) {
        // Находим заказ
        const ordersSource = currentUser ? userOrders : JSON.parse(localStorage.getItem('guestOrders')) || [];
        const orderIndex = ordersSource.findIndex(o => o.id === orderId);
        
        if (orderIndex === -1) {
            showNotification('Заказ не найден', 'error');
            return;
        }
        
        const order = ordersSource[orderIndex];
        
        // Очищаем корзину и добавляем товары из заказа
        cart = [...order.items];
        updateCartUI();
        localStorage.setItem('cart', JSON.stringify(cart));
        
        // Показываем корзину
        document.querySelector('.cart-sidebar').classList.add('active');
        
        showNotification('Товары из заказа добавлены в корзину. Вы можете изменить состав заказа.', 'success');
    }


    // ФУНКЦИЯ ЗАГРУЗКИ СТАТИСТИКИ ПОЛЬЗОВАТЕЛЯ
    function loadUserStats() {
        // Загружаем данные для текущего пользователя
        const userBookingsToShow = currentUser ? userBookings : JSON.parse(localStorage.getItem('guestBookings')) || [];
        const userOrdersToShow = currentUser ? userOrders : JSON.parse(localStorage.getItem('guestOrders')) || [];
        
        // Общее количество бронирований
        const totalBookings = document.getElementById('total-bookings');
        if (totalBookings) {
            totalBookings.textContent = userBookingsToShow ? userBookingsToShow.length : 0;
        }
        
        // Общее количество заказов
        const totalOrders = document.getElementById('total-orders');
        if (totalOrders) {
            totalOrders.textContent = userOrdersToShow ? userOrdersToShow.length : 0;
        }
        
        // Общая сумма потраченных средств
        const totalSpent = document.getElementById('total-spent');
        if (totalSpent) {
            const spent = userOrdersToShow ? 
                userOrdersToShow.reduce((sum, order) => sum + order.total, 0) : 0;
            totalSpent.textContent = `${spent} ₽`;
        }
        
        // Любимая дорожка (на основе статистики бронирований)
        const favoriteLane = document.getElementById('favorite-lane');
        if (favoriteLane) {
            const laneStats = {};
            if (userBookingsToShow) {
                userBookingsToShow.forEach(booking => {
                    // В реальном приложении здесь была бы логика определения любимой дорожки
                    // Для демонстрации используем случайную
                    if (booking.lanes === 1) {
                        laneStats[1] = (laneStats[1] || 0) + 1;
                    }
                });
            }
            
            const favorite = Object.keys(laneStats).length > 0 ? 
                Object.keys(laneStats).reduce((a, b) => laneStats[a] > laneStats[b] ? a : b) : '-';
            favoriteLane.textContent = favorite !== '-' ? `Дор. ${favorite}` : '-';
        }
        
        // Программа лояльности
        const loyaltyPoints = document.getElementById('loyalty-points');
        const loyaltyProgress = document.getElementById('loyalty-progress');
        const loyaltyLevel = document.getElementById('loyalty-level');
        const loyaltyNext = document.getElementById('loyalty-next');
        
        if (loyaltyPoints && loyaltyProgress && loyaltyLevel && loyaltyNext) {
            const totalSpentValue = userOrdersToShow ? 
                userOrdersToShow.reduce((sum, order) => sum + order.total, 0) : 0;
            const points = Math.floor(totalSpentValue / 100); // 1 балл за каждые 100 рублей
            loyaltyPoints.textContent = `${points} баллов`;
            
            // Прогресс до следующего уровня
            const nextLevel = Math.ceil((points + 1) / 100) * 100;
            const progress = (points % 100) || 0;
            loyaltyProgress.style.width = `${progress}%`;
            
            // Уровень лояльности
            const level = Math.floor(points / 100);
            const levelNames = ['Новичок', 'Любитель', 'Профи', 'Эксперт', 'Мастер'];
            const levelName = level < levelNames.length ? levelNames[level] : 'Легенда';
            loyaltyLevel.textContent = levelName;
            
            loyaltyNext.textContent = `${nextLevel - points} баллов`;
        }
    }

    // ВСПОМОГАТЕЛЬНАЯ ФУНКЦИЯ ДЛЯ ПОЛУЧЕНИЯ ТЕКСТА СТАТУСА
    function getStatusText(status) {
        const statusMap = {
            'active': 'Активно',
            'completed': 'Завершено',
            'cancelled': 'Отменено',
            'pending': 'В обработке'
        };
        return statusMap[status] || status;
    }

    // УЛУЧШЕННАЯ СИСТЕМА БРОНИРОВАНИЯ

    // ИНИЦИАЛИЗАЦИЯ УЛУЧШЕННОЙ СИСТЕМЫ БРОНИРОВАНИЯ
    function initEnhancedBooking() {
        // Инициализация шагов бронирования
        initBookingSteps();
        
        // Инициализация выбора времени
        initTimeSelection();
        
        // Инициализация выбора дорожек
        initLaneSelection();
        
        // Инициализация выбора продолжительности
        initDurationSelection();
        
        // Инициализация обработчиков формы
        initBookingFormHandlers();
        
          // Обработчик для кнопки бронирования на главной странице
    document.querySelectorAll('.book-now, .book-from-pricing').forEach(button => {
        button.addEventListener('click', function(e) {
            e.preventDefault();
            
            if (!currentUser) {
                showNotification('Для бронирования дорожки необходимо авторизоваться', 'warning');
                document.getElementById('auth-modal').classList.add('active');
                return;
            }
            
            switchPage('booking');
        });
    });
        // Обновление расписания при изменении даты
        const bookingDateInput = document.getElementById('booking-date');
        const scheduleDateInput = document.getElementById('booking-schedule-date');
        
        if (bookingDateInput) {
            bookingDateInput.addEventListener('change', function() {
                currentBooking.date = this.value;
                updateTimeSlots();
                updateSchedule();
                updateBookingSummary();
            });
        }
        
        if (scheduleDateInput) {
            scheduleDateInput.addEventListener('change', updateSchedule);
        }
        
        // Установить сегодняшнюю дату по умолчанию
        const today = new Date().toISOString().split('T')[0];
        if (bookingDateInput) {
            bookingDateInput.min = today;
            bookingDateInput.value = today;
            currentBooking.date = today;
        }
        
        if (scheduleDateInput) {
            scheduleDateInput.min = today;
            scheduleDateInput.value = today;
        }
        
        // Инициализировать временные слоты и расписание
        updateTimeSlots();
        updateSchedule();
    }

    // ИНИЦИАЛИЗАЦИЯ ШАГОВ БРОНИРОВАНИЯ
    function initBookingSteps() {
        // Обработчики для кнопок "Далее"
        document.querySelectorAll('.next-step').forEach(button => {
            button.addEventListener('click', function() {
                const nextStep = this.getAttribute('data-next');
                
                // Валидация перед переходом к следующему шагу
                if (!validateStep(parseInt(nextStep) - 1)) {
                    return;
                }
                
                goToStep(nextStep);
            });
        });
        
        // Обработчики для кнопок "Назад"
        document.querySelectorAll('.prev-step').forEach(button => {
            button.addEventListener('click', function() {
                const prevStep = this.getAttribute('data-prev');
                goToStep(prevStep);
            });
        });
        
        // Обработчик для новой брони
        const newBookingBtn = document.getElementById('new-booking');
        if (newBookingBtn) {
            newBookingBtn.addEventListener('click', function() {
                resetBookingForm();
                goToStep('1');
            });
        }
        
        // Обработчик для просмотра расписания
        const viewScheduleBtn = document.getElementById('view-schedule');
        if (viewScheduleBtn) {
            viewScheduleBtn.addEventListener('click', function() {
                switchPage('schedule');
            });
        }
    }

    // ПЕРЕХОД К УКАЗАННОМУ ШАГУ
    function goToStep(stepNumber) {
        // Скрыть все шаги
        document.querySelectorAll('.booking-steps').forEach(step => {
            step.classList.remove('active');
        });
        
        // Показать выбранный шаг
        const stepElement = document.getElementById(`step-${stepNumber}`);
        if (stepElement) {
            stepElement.classList.add('active');
        }
        
        // Обновить индикатор шагов
        document.querySelectorAll('.step').forEach(step => {
            const stepIndex = parseInt(step.getAttribute('data-step'));
            step.classList.remove('active', 'completed');
            
            if (stepIndex < stepNumber) {
                step.classList.add('completed');
            } else if (stepIndex == stepNumber) {
                step.classList.add('active');
            }
        });
        
        // Обновить сводку бронирования
        updateBookingSummary();
    }

    // ВАЛИДАЦИЯ ШАГА
    function validateStep(stepNumber) {
        switch (stepNumber) {
            case 1: // Шаг даты и времени
                if (!currentBooking.date || !currentBooking.time) {
                    showNotification('Пожалуйста, выберите дату и время', 'error');
                    return false;
                }
                return true;
                
            case 2: // Шаг выбора дорожек
                if (currentBooking.lanes.length === 0) {
                    showNotification('Пожалуйста, выберите хотя бы одну дорожку', 'error');
                    return false;
                }
                return true;
                
            case 3: // Шаг ввода данных
                const name = document.getElementById('booking-name').value;
                const phone = document.getElementById('booking-phone').value;
                
                if (!name || !phone) {
                    showNotification('Пожалуйста, заполните обязательные поля', 'error');
                    return false;
                }
                
                if (!isValidPhone(phone)) {
                    showNotification('Пожалуйста, введите корректный номер телефона', 'error');
                    return false;
                }
                
                // Сохранить данные
                currentBooking.name = name;
                currentBooking.phone = phone;
                currentBooking.email = document.getElementById('booking-email').value;
                currentBooking.comment = document.getElementById('booking-comment').value;
                
                return true;
                
            default:
                return true;
        }
    }

    // ПРОВЕРКА ВАЛИДНОСТИ ТЕЛЕФОНА
    function isValidPhone(phone) {
        const phoneRegex = /^(\+7|7|8)?[\s\-]?\(?[489][0-9]{2}\)?[\s\-]?[0-9]{3}[\s\-]?[0-9]{2}[\s\-]?[0-9]{2}$/;
        return phoneRegex.test(phone.replace(/\s/g, ''));
    }

    // ИНИЦИАЛИЗАЦИЯ ВЫБОРА ВРЕМЕНИ
    function initTimeSelection() {
        // Временные слоты будут заполнены в updateTimeSlots()
    }

    // ОБНОВЛЕНИЕ ДОСТУПНЫХ ВРЕМЕННЫХ СЛОТОВ
    function updateTimeSlots() {
        const timeSlotsContainer = document.getElementById('time-slots');
        if (!timeSlotsContainer || !currentBooking.date) return;
        
        const times = ["12:00", "13:00", "14:00", "15:00", "16:00", "17:00", "18:00", "19:00", "20:00", "21:00", "22:00", "23:00"];
        
        timeSlotsContainer.innerHTML = '';
        
        times.forEach(time => {
            const timeSlot = document.createElement('div');
            timeSlot.className = 'time-slot';
            timeSlot.textContent = time;
            timeSlot.setAttribute('data-time', time);
            
            // Проверить доступность временного слота
            if (isTimeSlotAvailable(currentBooking.date, time, currentBooking.duration)) {
                timeSlot.addEventListener('click', function() {
                    // Снять выделение со всех слотов
                    document.querySelectorAll('.time-slot').forEach(slot => {
                        slot.classList.remove('selected');
                    });
                    
                    // Выделить выбранный слот
                    this.classList.add('selected');
                    
                    // Сохранить выбранное время
                    currentBooking.time = this.getAttribute('data-time');
                    
                    // Обновить доступные дорожки
                    updateLaneSelection();
                    
                    // Обновить сводку
                    updateBookingSummary();
                });
                
                // Выделить выбранный слот, если он уже выбран
                if (currentBooking.time === time) {
                    timeSlot.classList.add('selected');
                }
            } else {
                timeSlot.classList.add('unavailable');
            }
            
            timeSlotsContainer.appendChild(timeSlot);
        });
    }

    // ПРОВЕРКА ДОСТУПНОСТИ ВРЕМЕННОГО СЛОТА
    function isTimeSlotAvailable(date, time, duration) {
        const times = ["12:00", "13:00", "14:00", "15:00", "16:00", "17:00", "18:00", "19:00", "20:00", "21:00", "22:00", "23:00"];
        const startIndex = times.indexOf(time);
        const endIndex = Math.min(startIndex + duration, times.length);
        
        if (startIndex === -1 || !scheduleData[date]) {
            return false;
        }
        
        // Проверить, есть ли хотя бы одна свободная дорожка на все время бронирования
        for (let i = startIndex; i < endIndex && i < times.length; i++) {
            const timeSlot = times[i];
            const availableLanes = scheduleData[date][timeSlot].filter(status => status === "free").length;
            
            if (availableLanes === 0) {
                return false;
            }
        }
        
        return true;
    }

    // ИНИЦИАЛИЗАЦИЯ ВЫБОРА ПРОДОЛЖИТЕЛЬНОСТИ
    function initDurationSelection() {
        document.querySelectorAll('.duration-option').forEach(option => {
            option.addEventListener('click', function() {
                // Снять выделение со всех опций
                document.querySelectorAll('.duration-option').forEach(opt => {
                    opt.classList.remove('selected');
                });
                
                // Выделить выбранную опцию
                this.classList.add('selected');
                
                // Сохранить выбранную продолжительность
                currentBooking.duration = parseInt(this.getAttribute('data-duration'));
                
                // Обновить доступные временные слоты
                updateTimeSlots();
                
                // Обновить доступные дорожки
                updateLaneSelection();
                
                // Обновить сводку
                updateBookingSummary();
            });
        });
    }

    // ИНИЦИАЛИЗАЦИЯ ВЫБОРА ДОРОЖЕК
    function initLaneSelection() {
        // Дорожки будут заполнены в updateLaneSelection()
    }

    // ОБНОВЛЕНИЕ ВЫБОРА ДОРОЖЕК
    function updateLaneSelection() {
        const laneSelector = document.getElementById('lane-selector');
        const selectedDateTime = document.getElementById('selected-date-time');
        
        if (!laneSelector || !currentBooking.date || !currentBooking.time) return;
        
        // Обновить текст с выбранной датой и временем
        if (selectedDateTime) {
            const dateObj = new Date(currentBooking.date);
            const dateText = dateObj.toLocaleDateString('ru-RU', { 
                weekday: 'long', 
                year: 'numeric', 
                month: 'long', 
                day: 'numeric' 
            });
            selectedDateTime.textContent = `${dateText}, ${currentBooking.time}`;
        }
        
        laneSelector.innerHTML = '';
        
        const times = ["12:00", "13:00", "14:00", "15:00", "16:00", "17:00", "18:00", "19:00", "20:00", "21:00", "22:00", "23:00"];
        const startIndex = times.indexOf(currentBooking.time);
        const endIndex = Math.min(startIndex + currentBooking.duration, times.length);
        
        // Проверить доступность каждой дорожки
        for (let i = 1; i <= 6; i++) {
            const laneIndex = i - 1; // Индекс в массиве (0-5)
            const laneOption = document.createElement('div');
            laneOption.className = 'lane-option';
            laneOption.textContent = `Дорожка ${i}`;
            laneOption.setAttribute('data-lane', i);
            
            // Проверить, доступна ли дорожка на все время бронирования
            let isAvailable = true;
            for (let j = startIndex; j < endIndex && j < times.length; j++) {
                const timeSlot = times[j];
                if (scheduleData[currentBooking.date] && 
                    scheduleData[currentBooking.date][timeSlot] && 
                    scheduleData[currentBooking.date][timeSlot][laneIndex] !== "free") {
                    isAvailable = false;
                    break;
                }
            }
            
            if (isAvailable) {
                laneOption.addEventListener('click', function() {
                    const laneNumber = parseInt(this.getAttribute('data-lane'));
                    
                    // Переключить выбор дорожки
                    if (this.classList.contains('selected')) {
                        this.classList.remove('selected');
                        currentBooking.lanes = currentBooking.lanes.filter(l => l !== laneNumber);
                    } else {
                        this.classList.add('selected');
                        currentBooking.lanes.push(laneNumber);
                    }
                    
                    // Обновить сводку
                    updateBookingSummary();
                });
                
                // Выделить уже выбранные дорожки
                if (currentBooking.lanes.includes(i)) {
                    laneOption.classList.add('selected');
                }
            } else {
                laneOption.classList.add('unavailable');
            }
            
            laneSelector.appendChild(laneOption);
        }
    }

    // ИНИЦИАЛИЗАЦИЯ ОБРАБОТЧИКОВ ФОРМЫ
    function initBookingFormHandlers() {
        // Обработчик для подтверждения бронирования (шаг 4)
        const confirmButton = document.querySelector('.next-step[data-next="4"]');
        if (confirmButton) {
            confirmButton.addEventListener('click', function() {
                confirmBooking();
            });
        }
    }

    // ОБНОВЛЕННАЯ ФУНКЦИЯ ПОДТВЕРЖДЕНИЯ БРОНИРОВАНИЯ
async function confirmBooking() {
    // Создать объект бронирования
    const booking = {
        date: currentBooking.date,
        time: currentBooking.time,
        duration: currentBooking.duration,
        lanes: [...currentBooking.lanes],
        name: currentBooking.name,
        phone: currentBooking.phone,
        email: currentBooking.email,
        comment: currentBooking.comment,
        status: 'active',
        createdAt: new Date().toISOString()
    };
    
    // Рассчитать стоимость
    booking.total = calculateBookingPrice(booking);
    
    try {
        // Сохранить бронирование через API
        const savedBooking = await dataManager.createBooking(booking);
        
        // Добавляем в локальные данные
        userBookings.push(savedBooking);
        if (currentUser) {
            currentUser.bookings = userBookings;
        }
        
        // Обновить расписание
        await updateScheduleAfterBooking(savedBooking);
        
        // Показать подтверждение
        showConfirmation(savedBooking);
        
        // Отправить уведомление
        sendBookingConfirmation(savedBooking);
        
        showNotification(`Бронирование #${savedBooking.id} подтверждено!`, 'success');
    } catch (error) {
        console.error('Failed to create booking:', error);
        // В случае ошибки показываем уведомление, но форма продолжает работать
    }
}

    // ГЕНЕРАЦИЯ ID БРОНИРОВАНИЯ
    function generateBookingId() {
        return 'BK' + Date.now().toString().slice(-6) + Math.floor(Math.random() * 100).toString().padStart(2, '0');
    }

    // РАСЧЕТ СТОИМОСТИ БРОНИРОВАНИЯ
    function calculateBookingPrice(booking) {
        // Базовые цены по дням недели и времени
        const date = new Date(booking.date);
        const dayOfWeek = date.getDay(); // 0 - воскресенье, 1 - понедельник, ...
        const hour = parseInt(booking.time.split(':')[0]);
        
        let pricePerHour = 800; // Базовая цена
        
        // Пн-Чт
        if (dayOfWeek >= 1 && dayOfWeek <= 4) {
            if (hour >= 12 && hour < 18) {
                pricePerHour = 800; // Дневное время
            } else {
                pricePerHour = 1100; // Вечернее время
            }
        }
        // Пятница
        else if (dayOfWeek === 5) {
            if (hour >= 12 && hour < 18) {
                pricePerHour = 1100; // Дневное время
            } else {
                pricePerHour = 1500; // Вечернее время
            }
        }
        // Суббота-Воскресенье
        else {
            pricePerHour = 1500; // Весь день
        }
        
        // Скидка за несколько дорожек
        let discount = 0;
        if (booking.lanes.length > 1) {
            discount = 0.1; // 10% скидка за 2+ дорожки
        }
        
        const total = pricePerHour * booking.duration * booking.lanes.length;
        return Math.round(total * (1 - discount));
    }


    // ПОКАЗАТЬ ПОДТВЕРЖДЕНИЕ БРОНИРОВАНИЯ
    function showConfirmation(booking) {
        // Заполнить данные подтверждения
        document.getElementById('confirmation-id').textContent = booking.id;
        document.getElementById('confirmation-date').textContent = formatDate(booking.date);
        document.getElementById('confirmation-time').textContent = `${booking.time} (${booking.duration} час)`;
        document.getElementById('confirmation-duration').textContent = `${booking.duration} час`;
        document.getElementById('confirmation-lanes').textContent = booking.lanes.map(l => `Дор. ${l}`).join(', ');
        document.getElementById('confirmation-name').textContent = booking.name;
        document.getElementById('confirmation-phone').textContent = booking.phone;
        document.getElementById('confirmation-total').textContent = `${booking.total} ₽`;
        
        // Перейти к шагу подтверждения
        goToStep('4');
    }

    // ФОРМАТИРОВАНИЕ ДАТЫ
    function formatDate(dateString) {
        const date = new Date(dateString);
        return date.toLocaleDateString('ru-RU', { 
            weekday: 'long', 
            year: 'numeric', 
            month: 'long', 
            day: 'numeric' 
        });
    }

    // ОТПРАВКА ПОДТВЕРЖДЕНИЯ БРОНИРОВАНИЯ
    function sendBookingConfirmation(booking) {
        // В реальном приложении здесь будет интеграция с SMS/email сервисами
        console.log(`Отправка подтверждения бронирования #${booking.id} на телефон ${booking.phone}`);
        
        // Показать уведомление
        showNotification(`Бронирование #${booking.id} подтверждено! Подробности отправлены на ваш телефон.`, 'success');
    }

    // ОБНОВЛЕНИЕ СВОДКИ БРОНИРОВАНИЯ
    function updateBookingSummary() {
        // Обновить сводку на шаге 2
        document.getElementById('summary-date').textContent = currentBooking.date ? formatDate(currentBooking.date) : '-';
        document.getElementById('summary-time').textContent = currentBooking.time ? `${currentBooking.time} (${currentBooking.duration} час)` : '-';
        document.getElementById('summary-duration').textContent = currentBooking.duration ? `${currentBooking.duration} час` : '-';
        document.getElementById('summary-lanes').textContent = currentBooking.lanes.length > 0 ? 
            currentBooking.lanes.map(l => `Дор. ${l}`).join(', ') : '-';
        
        // Рассчитать и отобразить стоимость
        const total = calculateBookingPrice({
            date: currentBooking.date,
            time: currentBooking.time,
            duration: currentBooking.duration,
            lanes: currentBooking.lanes
        });
        document.getElementById('summary-total').textContent = `${total} ₽`;
        
        // Обновить сводку на шаге 3
        document.getElementById('summary-date-2').textContent = currentBooking.date ? formatDate(currentBooking.date) : '-';
        document.getElementById('summary-time-2').textContent = currentBooking.time ? `${currentBooking.time} (${currentBooking.duration} час)` : '-';
        document.getElementById('summary-duration-2').textContent = currentBooking.duration ? `${currentBooking.duration} час` : '-';
        document.getElementById('summary-lanes-2').textContent = currentBooking.lanes.length > 0 ? 
            currentBooking.lanes.map(l => `Дор. ${l}`).join(', ') : '-';
        document.getElementById('summary-total-2').textContent = `${total} ₽`;
    }

    // СБРОС ФОРМЫ БРОНИРОВАНИЯ
    function resetBookingForm() {
        currentBooking = {
            date: new Date().toISOString().split('T')[0],
            time: '',
            duration: 1,
            lanes: [],
            name: '',
            phone: '',
            email: '',
            comment: ''
        };
        
        // Сбросить форму
        document.getElementById('booking-name').value = '';
        document.getElementById('booking-phone').value = '';
        document.getElementById('booking-email').value = '';
        document.getElementById('booking-comment').value = '';
        
        // Установить сегодняшнюю дату
        document.getElementById('booking-date').value = currentBooking.date;
        
        // Сбросить выбор продолжительности
        document.querySelectorAll('.duration-option').forEach(option => {
            option.classList.remove('selected');
        });
        document.querySelector('.duration-option[data-duration="1"]').classList.add('selected');
        
        // Обновить интерфейс
        updateTimeSlots();
        updateLaneSelection();
        updateBookingSummary();
    }

    // ОБНОВЛЕННАЯ ФУНКЦИЯ ДЛЯ ОБНОВЛЕНИЯ РАСПИСАНИЯ ПОСЛЕ БРОНИРОВАНИЯ
async function updateScheduleAfterBooking(booking) {
    const times = ["12:00", "13:00", "14:00", "15:00", "16:00", "17:00", "18:00", "19:00", "20:00", "21:00", "22:00", "23:00"];
    const startIndex = times.indexOf(booking.time);
    const endIndex = Math.min(startIndex + booking.duration, times.length);
    
    if (startIndex === -1 || !scheduleData[booking.date]) {
        return;
    }
    
    // Пометить дорожки как забронированные
    for (let i = startIndex; i < endIndex && i < times.length; i++) {
        const time = times[i];
        
        // Отметить выбранные дорожки как занятые
        booking.lanes.forEach(laneNumber => {
            const laneIndex = laneNumber - 1;
            if (scheduleData[booking.date][time]) {
                scheduleData[booking.date][time][laneIndex] = "booked";
            }
        });
    }
    try {
        // Обновляем расписание через API
        await dataManager.api.updateSchedule(booking.date, scheduleData[booking.date]);
        
        // Очищаем кэш для этой даты
        dataManager.cache.remove(`schedule_${booking.date}`);
    } catch (error) {
        console.error('Failed to update schedule after booking:', error);
        // Сохраняем локально как запасной вариант
        dataManager.saveFallbackSchedule(booking.date, scheduleData[booking.date]);
    }
    
    // Обновить отображение расписания
    await updateSchedule();
} 
    // Инициализация галереи-ленты
    function initGalleryCarousel() {
        const track = document.querySelector('.carousel-track');
        if (!track) return;
        
        const slides = Array.from(track.children);
        const nextButton = document.querySelector('.carousel-btn.next');
        const prevButton = document.querySelector('.carousel-btn.prev');
        const dots = document.querySelectorAll('.carousel-dot');
        
        let currentSlide = 0;
        let autoSlideInterval;
        
        // Функция для перехода к слайду
        function goToSlide(index) {
            track.style.transform = `translateX(-${index * 100}%)`;
            
            // Обновление активной точки
            dots.forEach((dot, i) => {
                dot.classList.toggle('active', i === index);
            });
            
            currentSlide = index;
        }
        
        // Автоматическое перелистывание
        function startAutoSlide() {
            autoSlideInterval = setInterval(() => {
                const nextIndex = (currentSlide + 1) % slides.length;
                goToSlide(nextIndex);
            }, 5000);
        }
        
        // Остановка автоматического перелистывания при наведении
        track.addEventListener('mouseenter', () => {
            clearInterval(autoSlideInterval);
        });
        
        // Возобновление автоматического перелистывания при уходе курсора
        track.addEventListener('mouseleave', startAutoSlide);
        
        // Обработчики для кнопок
        if (nextButton) {
            nextButton.addEventListener('click', () => {
                const nextIndex = (currentSlide + 1) % slides.length;
                goToSlide(nextIndex);
            });
        }
        
        if (prevButton) {
            prevButton.addEventListener('click', () => {
                const prevIndex = (currentSlide - 1 + slides.length) % slides.length;
                goToSlide(prevIndex);
            });
        }
        
        // Обработчики для точек
        dots.forEach((dot, index) => {
            dot.addEventListener('click', () => {
                goToSlide(index);
            });
        });
        
        // Запуск автоматического перелистывания
        startAutoSlide();
    }

    // Инициализация онлайн-чата
    function initChat() {
        const chatToggle = document.querySelector('.chat-toggle');
        const chatClose = document.querySelector('.chat-close');
        const chatWindow = document.querySelector('.chat-window');
        const sendButton = document.getElementById('send-message');
        const chatInput = document.getElementById('chat-input');
        const chatMessages = document.getElementById('chat-messages');
        const chatBadge = document.getElementById('chat-badge');
        
        // Проверяем, что элементы существуют
        if (!chatToggle || !chatWindow) {
            console.error('Элементы чата не найдены');
            return;
        }
        
        chatToggle.addEventListener('click', function() {
            chatWindow.classList.toggle('active');
            // Скрыть бейдж при открытии чата
            if (chatBadge) {
                chatBadge.style.display = 'none';
            }
        });
        
        if (chatClose) {
            chatClose.addEventListener('click', function() {
                chatWindow.classList.remove('active');
            });
        }
        
        function sendMessage() {
            const message = chatInput.value.trim();
            if (!message) return;
            
            // Добавить сообщение пользователя
            const userMessage = document.createElement('div');
            userMessage.className = 'chat-message user-message';
            userMessage.innerHTML = `
                <div class="message-avatar">${currentUser ? currentUser.name.charAt(0).toUpperCase() : 'В'}</div>
                <div class="message-content">
                    <div class="message-text">${message}</div>
                    <div class="message-time">${new Date().toLocaleTimeString('ru-RU', {hour: '2-digit', minute: '2-digit'})}</div>
                </div>
            `;
            chatMessages.appendChild(userMessage);
            
            // Очистить поле ввода
            chatInput.value = '';
            
            // Прокрутить вниз
            chatMessages.scrollTop = chatMessages.scrollHeight;
            
            // Имитация ответа бота
            setTimeout(() => {
                const botResponse = getBotResponse(message);
                const botMessage = document.createElement('div');
                botMessage.className = 'chat-message bot-message';
                botMessage.innerHTML = `
                    <div class="message-avatar">К</div>
                    <div class="message-content">
                        <div class="message-text">${botResponse}</div>
                        <div class="message-time">${new Date().toLocaleTimeString('ru-RU', {hour: '2-digit', minute: '2-digit'})}</div>
                    </div>
                `;
                chatMessages.appendChild(botMessage);
                chatMessages.scrollTop = chatMessages.scrollHeight;
            }, 1000);
        }
        
        if (sendButton) {
            sendButton.addEventListener('click', sendMessage);
        }
        
        if (chatInput) {
            chatInput.addEventListener('keypress', function(e) {
                if (e.key === 'Enter') {
                    sendMessage();
                }
            });
        }
        
        console.log('Чат инициализирован');
    }

    // Функция для ответов бота
    function getBotResponse(message) {
        const lowerMessage = message.toLowerCase();
        
          
    if (lowerMessage.includes('бронирование') || lowerMessage.includes('забронировать')) {
        return 'Для бронирования дорожки перейдите в раздел "Бронирование" на нашем сайте. Там вы можете выбрать удобную дату, время и дорожки.';
    } else if (lowerMessage.includes('предзаказ') || lowerMessage.includes('еда') || lowerMessage.includes('меню')) {
        return 'Вы можете сделать предзаказ еды и напитков в разделах "Меню" и "Бар". Предзаказы принимаются за 2 часа до вашего визита.';
    } else if (lowerMessage.includes('авторизация') || lowerMessage.includes('войти') || lowerMessage.includes('регистрация')) {
        return 'Для авторизации нажмите кнопку "Войти" в правом верхнем углу. Там же можно зарегистрировать новый аккаунт для управления бронированиями и заказами.';
    } else if (lowerMessage.includes('правила') || lowerMessage.includes('можно ли')) {
        return 'Полные правила боулинга вы найдете в соответствующем разделе на главной странице. Там указаны все важные моменты по игре и бронированию.';
    } else if (lowerMessage.includes('цена') || lowerMessage.includes('стоимость')) {
        return 'Актуальные цены вы можете посмотреть в разделе "Цены" на главной странице. Стоимость зависит от дня недели и времени.';
    } else if (lowerMessage.includes('время') || lowerMessage.includes('часы')) {
        return 'Мы работаем: Пн-Чт: 12:00-00:00, Пт-Сб: 12:00-02:00, Вс: 12:00-00:00.';
    } else if (lowerMessage.includes('адрес') || lowerMessage.includes('где')) {
        return 'Мы находимся по адресу: г. Вологда, ул. Ярославская, д. 2.';
    } else if (lowerMessage.includes('мероприятие') || lowerMessage.includes('корпоратив')) {
        return 'Для организации мероприятий свяжитесь с нами по телефону +7 (8172) 53-78-48 или через форму обратной связи.';
    } else if (lowerMessage.includes('привет') || lowerMessage.includes('здравствуйте')) {
        return 'Здравствуйте! Я чат-бот боулинг-клуба "Ключ". Могу рассказать о бронировании, предзаказах, авторизации, правилах или ответить на другие вопросы!';
    } else if (lowerMessage.includes('помощь') || lowerMessage.includes('команды')) {
        return 'Я могу помочь с: бронированием дорожек, предзаказами еды, авторизацией, правилами боулинга, ценами, графиком работы и другой информацией о клубе.';
    } else {
        return 'Спасибо за ваше сообщение! Для получения более подробной информации вы можете позвонить нам по телефону +7 (8172) 53-78-48 или задать конкретный вопрос о бронировании, предзаказах или правилах.';
    }
}

    // Инициализация системы отзывов
    function initFeedback() {
        // Переключение вкладок обратной связи
        const feedbackTabHeaders = document.querySelectorAll('.feedback-tab-header');
        const feedbackTabContents = document.querySelectorAll('.feedback-tab-content');
        
        feedbackTabHeaders.forEach(header => {
            header.addEventListener('click', function() {
                const tabName = this.getAttribute('data-tab');
                
                // Убрать активный класс у всех заголовков
                feedbackTabHeaders.forEach(h => h.classList.remove('active'));
                // Добавить активный класс к выбранному заголовку
                this.classList.add('active');
                
                // Скрыть все вкладки
                feedbackTabContents.forEach(content => content.classList.remove('active'));
                // Показать выбранную вкладку
                const tabToShow = document.getElementById(`${tabName}-tab`);
                if (tabToShow) {
                    tabToShow.classList.add('active');
                }
            });
        });
        
        // Рейтинг в форме отзыва
        const stars = document.querySelectorAll('.star');
        let currentRating = 0;
        
        stars.forEach(star => {
            star.addEventListener('click', function() {
                currentRating = parseInt(this.getAttribute('data-rating'));
                
                // Сбросить все звезды
                stars.forEach(s => {
                    s.textContent = '☆';
                    s.classList.remove('active');
                });
                
                // Активировать звезды до выбранной
                stars.forEach(s => {
                    if (parseInt(s.getAttribute('data-rating')) <= currentRating) {
                        s.textContent = '★';
                        s.classList.add('active');
                    }
                });
            });
            
            // Эффект при наведении
            star.addEventListener('mouseenter', function() {
                const rating = parseInt(this.getAttribute('data-rating'));
                stars.forEach(s => {
                    if (parseInt(s.getAttribute('data-rating')) <= rating) {
                        s.textContent = '★';
                    } else {
                        s.textContent = '☆';
                    }
                });
            });
            
            star.addEventListener('mouseleave', function() {
                stars.forEach(s => {
                    if (parseInt(s.getAttribute('data-rating')) <= currentRating) {
                        s.textContent = '★';
                    } else {
                        s.textContent = '☆';
                    }
                });
            });
        });
           // Функция для отправки отзыва
    window.submitReview = async function(reviewData) {
        try {
            // Заглушка для API - в реальном приложении здесь будет вызов dataManager.createReview()
            const review = await new Promise((resolve) => {
                setTimeout(() => {
                    const savedReview = {
                        ...reviewData,
                        id: 'rev_' + Date.now(),
                        date: new Date().toLocaleDateString('ru-RU'),
                        status: 'moderation'
                    };
                    resolve(savedReview);
                }, 1000);
            });
            
            showNotification('Спасибо за ваш отзыв! Он будет опубликован после модерации.', 'success');
            return review;
        } catch (error) {
            console.error('Failed to submit review:', error);
            showNotification('Ошибка при отправке отзыва. Попробуйте еще раз.', 'error');
            throw error;
        }
    };
          // ОБНОВЛЕННАЯ ОБРАБОТКА ФОРМЫ ОТЗЫВА
    const reviewForm = document.getElementById('review-form');
    if (reviewForm) {
        reviewForm.addEventListener('submit', async function(e) {
            e.preventDefault();
            if (currentRating === 0) {
                showNotification('Пожалуйста, поставьте оценку', 'error');
                return;
            }
            
            const reviewData = {
                name: document.getElementById('review-name').value,
                rating: currentRating,
                text: document.getElementById('review-text').value,
            };
            
            try {
                await submitReview(reviewData); // Теперь используем нашу функцию
                this.reset();
                stars.forEach(s => {
                    s.textContent = '☆';
                    s.classList.remove('active');
                });
                currentRating = 0;
            } catch (error) {
                // Ошибка уже обработана в submitReview
            }
        });
    }
        // Сортировка отзывов
        const sortButtons = document.querySelectorAll('.sort-btn');
        sortButtons.forEach(button => {
            button.addEventListener('click', function() {
                const sortType = this.getAttribute('data-sort');
                
                // Убрать активный класс у всех кнопок
                sortButtons.forEach(btn => btn.classList.remove('active'));
                // Добавить активный класс к выбранной кнопке
                this.classList.add('active');
                
                // Сортировка отзывов
                sortReviews(sortType);
            });
        });

        // Загрузка сохраненных отзывов
        loadSavedReviews();
    }

    // Функция показа отзыва пользователя
    function showUserReview(review) {
        const reviewsList = document.querySelector('.reviews-list');
        if (!reviewsList) return;
        
        const reviewCard = document.createElement('div');
        reviewCard.className = 'review-card';
        
        // Создание звезд рейтинга
        let stars = '';
        for (let i = 1; i <= 5; i++) {
            stars += i <= review.rating ? '★' : '☆';
        }
        
        reviewCard.innerHTML = `
            <div class="review-header">
                <div class="reviewer-info">
                    <div class="reviewer-avatar">${review.name.charAt(0)}</div>
                    <div class="reviewer-details">
                        <div class="reviewer-name">${review.name}</div>
                        <div class="review-date">${review.date}</div>
                    </div>
                </div>
                <div class="review-rating">${stars}</div>
            </div>
            <div class="review-content">
                <p>${review.text}</p>
                <span class="review-status">На модерации</span>
            </div>
        `;
        
        // Добавление отзыва в начало списка
        reviewsList.insertBefore(reviewCard, reviewsList.firstChild);
    }

    // Функция загрузки сохраненных отзывов
    function loadSavedReviews() {
        const reviews = JSON.parse(localStorage.getItem('reviews')) || [];
        const reviewsList = document.querySelector('.reviews-list');
        
        if (!reviewsList || reviews.length === 0) return;
        
        // Очистить существующие отзывы (кроме демо-отзывов)
        const demoReviews = Array.from(reviewsList.children).slice(0, 5); // Сохраняем первые 5 демо-отзывов
        reviewsList.innerHTML = '';
        demoReviews.forEach(review => reviewsList.appendChild(review));
        
        // Добавить сохраненные отзывы
        reviews.forEach(review => {
            if (review.status !== 'moderation') {
                showUserReview(review);
            }
        });
    }

    // Функция сортировки отзывов
    function sortReviews(sortType) {
        const reviewsList = document.querySelector('.reviews-list');
        if (!reviewsList) return;
        
        const reviews = Array.from(reviewsList.children);
        
        reviews.sort((a, b) => {
            const aRating = (a.querySelector('.review-rating').textContent.match(/★/g) || []).length;
            const bRating = (b.querySelector('.review-rating').textContent.match(/★/g) || []).length;
            const aDate = a.querySelector('.review-date').textContent;
            const bDate = b.querySelector('.review-date').textContent;
            
            switch (sortType) {
                case 'newest':
                    return new Date(bDate.split('.').reverse().join('-')) - new Date(aDate.split('.').reverse().join('-'));
                case 'rating-high':
                    return bRating - aRating;
                case 'rating-low':
                    return aRating - bRating;
                default:
                    return 0;
            }
        });
        
        // Очистка списка и добавление отсортированных отзывов
        reviewsList.innerHTML = '';
        reviews.forEach(review => reviewsList.appendChild(review));
    }
    // Функция инициализации данных расписания
function initializeScheduleData() {
    const times = ["12:00", "13:00", "14:00", "15:00", "16:00", "17:00", "18:00", "19:00", "20:00", "21:00", "22:00", "23:00"];
    const today = new Date().toISOString().split('T')[0];
    
    if (!scheduleData[today]) {
        scheduleData[today] = {};
        times.forEach(time => {
            scheduleData[today][time] = Array(6).fill("free");
        });
    }
}

// Функция для API ответов (заглушка)
async function submitReview(reviewData) {
    // Заглушка для API
    return new Promise((resolve) => {
        setTimeout(() => {
            const review = {
                ...reviewData,
                id: 'rev_' + Date.now(),
                date: new Date().toLocaleDateString('ru-RU'),
                status: 'moderation'
            };
            resolve(review);
        }, 1000);
    });
}
// ОБНОВЛЕННАЯ ФУНКЦИЯ ИНИЦИАЛИЗАЦИИ ПАНЕЛИ АДМИНИСТРАТОРА
function initAdminPanel() {
    console.log('Инициализация панели администратора...');
    
    if (!currentUser || !currentUser.isAdmin) {
        console.log('Пользователь не администратор, панель не инициализирована');
        return;
    }
    
    // Обработчик для кнопки выхода
    const adminLogoutBtn = document.getElementById('admin-logout-btn');
    if (adminLogoutBtn) {
        adminLogoutBtn.addEventListener('click', adminLogout);
    } else {
        console.error('Кнопка выхода администратора не найдена!');
    }
    
    // Инициализация вкладок администратора
    initAdminTabs();
    
    // Загрузка данных администратора
    loadAdminData();
    
    // Инициализация обработчиков
    initAdminHandlers();
    
    console.log('Панель администратора успешно инициализирована');
}

function initAdminTabs() {
    // Обработчики для меню администратора
    document.querySelectorAll('#admin .profile-menu-item').forEach(item => {
        item.addEventListener('click', function() {
            // Убрать активный класс у всех пунктов меню
            document.querySelectorAll('#admin .profile-menu-item').forEach(i => {
                i.classList.remove('active');
            });
            
            // Добавить активный класс к выбранному пункту
            this.classList.add('active');
            
            // Показать соответствующую вкладку
            const tabName = this.getAttribute('data-tab');
            document.querySelectorAll('#admin .profile-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            const tabElement = document.getElementById(`${tabName}-tab`);
            if (tabElement) {
                tabElement.classList.add('active');
            }
            
            // Загрузить данные для вкладки
            switch(tabName) {
                case 'admin-users':
                    loadAdminUsers();
                    break;
                case 'admin-bookings':
                    loadAdminBookings();
                    break;
                case 'admin-schedule':
                    loadAdminSchedule();
                    break;
                case 'admin-content':
                    loadAdminContent();
                    break;
            }
        });
    });
}

async function loadAdminData() {
    try {
        // Загрузка статистики
        const stats = await dataManager.api.request('/admin/stats');
        updateAdminStats(stats);
        
        // Загрузка сегодняшних бронирований
        const todayBookings = await dataManager.api.request('/admin/bookings/today');
        updateTodayBookings(todayBookings);
        
    } catch (error) {
        console.error('Failed to load admin data:', error);
    }
}

function updateAdminStats(stats) {
    document.getElementById('admin-total-users').textContent = stats.totalUsers || 0;
    document.getElementById('admin-active-bookings').textContent = stats.activeBookings || 0;
    document.getElementById('admin-today-revenue').textContent = `${stats.todayRevenue || 0} ₽`;
    document.getElementById('admin-available-lanes').textContent = stats.availableLanes || 6;
}

function updateTodayBookings(bookings) {
    const container = document.getElementById('admin-today-bookings');
    if (!container) return;
    
    if (!bookings || bookings.length === 0) {
        container.innerHTML = '<p>На сегодня бронирований нет</p>';
        return;
    }
    
    container.innerHTML = bookings.map(booking => `
        <div class="booking-card">
            <div class="booking-info">
                <h4>Бронирование #${booking.id.slice(-6)}</h4>
                <p><strong>Клиент:</strong> ${booking.name} (${booking.phone})</p>
                <p><strong>Время:</strong> ${booking.time} (${booking.duration} час)</p>
                <p><strong>Дорожки:</strong> ${booking.lanes.join(', ')}</p>
            </div>
            <div class="booking-actions">
                <button class="btn btn-outline contact-client" data-phone="${booking.phone}">Связаться</button>
            </div>
        </div>
    `).join('');
    
    // Обработчики для кнопок связи
    container.querySelectorAll('.contact-client').forEach(btn => {
        btn.addEventListener('click', function() {
            const phone = this.getAttribute('data-phone');
            // Здесь можно реализовать звонок или открытие чата
            window.open(`tel:${phone}`, '_self');
        });
    });
}

async function loadAdminUsers() {
    try {
        const users = await dataManager.api.request('/admin/users');
        const container = document.getElementById('admin-users-list');
        
        if (!users || users.length === 0) {
            container.innerHTML = '<p>Пользователей не найдено</p>';
            return;
        }
        
        container.innerHTML = users.map(user => `
            <div class="user-card" style="background: var(--light-gray); padding: 15px; border-radius: 8px; margin-bottom: 10px;">
                <div style="display: flex; justify-content: space-between; align-items: center;">
                    <div>
                        <h4>${user.name}</h4>
                        <p>${user.phone} • ${user.email}</p>
                        <p>Бронирований: ${user.bookingsCount || 0} • Заказов: ${user.ordersCount || 0}</p>
                    </div>
                    <div>
                        <label class="checkbox-label">
                            <input type="checkbox" ${user.isAdmin ? 'checked' : ''} 
                                   onchange="toggleAdmin(${user.id}, this.checked)">
                            Администратор
                        </label>
                    </div>
                </div>
            </div>
        `).join('');
        
    } catch (error) {
        console.error('Failed to load admin users:', error);
        document.getElementById('admin-users-list').innerHTML = '<p>Ошибка загрузки пользователей</p>';
    }
}

async function toggleAdmin(userId, isAdmin) {
    try {
        await dataManager.api.request(`/admin/users/${userId}/role`, {
            method: 'PUT',
            body: JSON.stringify({ isAdmin })
        });
        showNotification('Права пользователя обновлены', 'success');
    } catch (error) {
        console.error('Failed to update user role:', error);
        showNotification('Ошибка обновления прав', 'error');
    }
}

async function loadAdminBookings() {
    try {
        const date = document.getElementById('admin-bookings-date').value;
        const status = document.getElementById('admin-bookings-status').value;
        
        let url = '/admin/bookings';
        const params = new URLSearchParams();
        if (date) params.append('date', date);
        if (status) params.append('status', status);
        
        if (params.toString()) {
            url += '?' + params.toString();
        }
        
        const bookings = await dataManager.api.request(url);
        const container = document.getElementById('admin-bookings-list');
        
        if (!bookings || bookings.length === 0) {
            container.innerHTML = '<p>Бронирований не найдено</p>';
            return;
        }
        
        container.innerHTML = bookings.map(booking => `
            <div class="booking-card">
                <div class="booking-info">
                    <h4>Бронирование #${booking.id.slice(-6)}</h4>
                    <p><strong>Клиент:</strong> ${booking.name} (${booking.phone})</p>
                    <p><strong>Дата:</strong> ${booking.date} ${booking.time}</p>
                    <p><strong>Дорожки:</strong> ${booking.lanes.join(', ')} • ${booking.duration} час</p>
                    <p><strong>Стоимость:</strong> ${booking.total} ₽</p>
                    <span class="booking-status ${booking.status === 'active' ? 'status-active' : 
                                              booking.status === 'completed' ? 'status-completed' : 
                                              'status-cancelled'}">
                        ${getStatusText(booking.status)}
                    </span>
                </div>
                <div class="booking-actions">
                    ${booking.status === 'active' ? `
                        <button class="btn cancel-btn" onclick="adminCancelBooking('${booking.id}')">Отменить</button>
                        <button class="btn btn-outline contact-client" data-phone="${booking.phone}">Связаться</button>
                    ` : ''}
                </div>
            </div>
        `).join('');
        
    } catch (error) {
        console.error('Failed to load admin bookings:', error);
        document.getElementById('admin-bookings-list').innerHTML = '<p>Ошибка загрузки бронирований</p>';
    }
}

async function adminCancelBooking(bookingId) {
    if (!confirm('Вы уверены, что хотите отменить это бронирование?')) {
        return;
    }
    
    try {
        await dataManager.api.request(`/admin/bookings/${bookingId}/cancel`, {
            method: 'POST'
        });
        showNotification('Бронирование отменено', 'success');
        loadAdminBookings(); // Перезагружаем список
    } catch (error) {
        console.error('Failed to cancel booking:', error);
        showNotification('Ошибка отмены бронирования', 'error');
    }
}

// Инициализация панели администратора при загрузке
document.addEventListener('DOMContentLoaded', function() {
    // ... существующий код ...
    
    // Инициализация панели администратора
    initAdminPanel();
});
const ADMIN_CONFIG = {
    users: [
        { 
            login: 'admin', 
            password: 'bowling2025', 
            name: 'Главный администратор',
            email: 'admin@bowling-kluch.ru',
            phone: '+7 (8172) 53-78-48'
        },
        { 
            login: 'manager', 
            password: 'manager123', 
            name: 'Менеджер',
            email: 'manager@bowling-kluch.ru', 
            phone: '+7 (8172) 53-78-48'
        }
    ]
};


// ОБНОВЛЕННАЯ ФУНКЦИЯ ИНИЦИАЛИЗАЦИИ АДМИНИСТРАТОРА
function initAdminAuth() {
    console.log('Инициализация администратора...');
    
    // Проверяем сохраненную сессию администратора
    const savedAdmin = localStorage.getItem('adminSession');
    if (savedAdmin) {
        try {
            const adminSession = JSON.parse(savedAdmin);
            // Проверяем не устарела ли сессия (24 часа)
            if (Date.now() - adminSession.timestamp < 24 * 60 * 60 * 1000) {
                console.log('Восстановление админ сессии');
                // Создаем объект администратора
                currentUser = {
                    id: 'admin_' + adminSession.timestamp,
                    name: adminSession.name,
                    phone: adminSession.phone || '+7 (8172) 53-78-48',
                    email: adminSession.email || 'admin@bowling-kluch.ru',
                    isAdmin: true,
                    isGuest: false
                };
                console.log('Админ сессия восстановлена:', currentUser);
                
                // Сразу инициализируем панель администратора
                initAdminPanel();
            } else {
                localStorage.removeItem('adminSession');
                console.log('Админ сессия устарела');
            }
        } catch (e) {
            localStorage.removeItem('adminSession');
            console.error('Ошибка восстановления админ сессии:', e);
        }
    }

    // Обработчик для кнопки входа администратора
    const adminLoginBtn = document.getElementById('admin-login-button');
    if (adminLoginBtn) {
        adminLoginBtn.addEventListener('click', function(e) {
            e.preventDefault();
            console.log('Открытие модального окна администратора');
            document.getElementById('admin-login-modal').classList.add('active');
        });
    }

    // Обработчик для формы входа администратора
    const adminLoginForm = document.getElementById('admin-login-form');
    if (adminLoginForm) {
        adminLoginForm.addEventListener('submit', function(e) {
            e.preventDefault();
            console.log('Попытка входа администратора');
            adminLogin();
        });
    }

    // Переключение между формами входа
    const showUserLogin = document.getElementById('show-user-login');
    if (showUserLogin) {
        showUserLogin.addEventListener('click', function(e) {
            e.preventDefault();
            document.getElementById('admin-login-modal').classList.remove('active');
            document.getElementById('auth-modal').classList.add('active');
        });
    }
    
    // Инициализация панели администратора если пользователь уже админ
    if (currentUser && currentUser.isAdmin) {
        console.log('Текущий пользователь - администратор, инициализируем панель');
        initAdminPanel();
    }
}
// ОБНОВЛЕННАЯ ФУНКЦИЯ ВХОДА АДМИНИСТРАТОРА
function adminLogin() {
    const login = document.getElementById('admin-login').value;
    const password = document.getElementById('admin-password').value;
    const remember = document.getElementById('admin-remember').checked;

    console.log('Попытка входа администратора:', login);

    // Проверяем учетные данные в конфигурации администратора
    const adminUser = ADMIN_CONFIG.users.find(user => 
        user.login === login && user.password === password
    );

    if (adminUser) {
        // Успешный вход администратора
        const adminData = {
            id: 'admin_' + Date.now(),
            name: adminUser.name,
            phone: adminUser.phone,
            email: adminUser.email,
            isAdmin: true,
            adminName: adminUser.name,
            isGuest: false
        };
        
        // Сохраняем как текущего пользователя
        currentUser = adminData;
        
        console.log('Успешный вход администратора:', currentUser);
        
        // Сохраняем сессию если нужно
        if (remember) {
            const adminSession = {
                login: adminUser.login,
                name: adminUser.name,
                timestamp: Date.now(),
                isAdmin: true
            };
            localStorage.setItem('adminSession', JSON.stringify(adminSession));
        }
        
        // Инициализируем панель администратора
        initAdminPanel();
        updateUserUI();
        
        // Закрываем модальное окно
        document.getElementById('admin-login-modal').classList.remove('active');
        
        // Очищаем форму
        document.getElementById('admin-login-form').reset();
        
        showNotification(`Добро пожаловать, ${adminUser.name}!`, 'success');
        
        // Переходим в панель администратора
        setTimeout(() => {
            console.log('Переход на страницу администратора');
            switchPage('admin');
        }, 1000);
        
    } else {
        console.log('Неверные учетные данные администратора');
        showNotification('Неверный логин или пароль администратора', 'error');
    }
}
// ОБНОВЛЕННАЯ ФУНКЦИЯ ВЫХОДА АДМИНИСТРАТОРА
function adminLogout() {
    console.log('Выход администратора');
    
    // Удаляем сессию администратора
    localStorage.removeItem('adminSession');
    
    // Сбрасываем текущего пользователя
    currentUser = null;
    
    // Обновляем интерфейс
    updateUserUI();
    
    // Если мы на странице администратора, переходим на главную
    if (document.getElementById('admin').classList.contains('active')) {
        switchPage('home');
    }
    
    showNotification('Вы вышли из режима администратора', 'success');
}

// ОБНОВЛЕННАЯ ФУНКЦИЯ ОБНОВЛЕНИЯ ИНТЕРФЕЙСА ПОЛЬЗОВАТЕЛЯ
// ОБНОВЛЕННАЯ ФУНКЦИЯ ОБНОВЛЕНИЯ ИНТЕРФЕЙСА ПОЛЬЗОВАТЕЛЯ
function updateUserUI() {
    const userName = document.getElementById('user-name');
    const userAvatar = document.getElementById('user-avatar');
    const profileNavItem = document.getElementById('profile-nav-item');
    const authButton = document.getElementById('auth-button');
    const adminLoginBtn = document.getElementById('admin-login-button');

    if (currentUser) {
        if (userName) {
            if (currentUser.isAdmin) {
                userName.innerHTML = `${currentUser.name} <span class="admin-indicator">(АДМИН)</span>`;
            } else {
                userName.textContent = currentUser.name;
            }
        }
        
        if (userAvatar) {
            userAvatar.textContent = currentUser.isAdmin ? 'A' : currentUser.name.charAt(0).toUpperCase();
            userAvatar.style.backgroundColor = currentUser.isAdmin ? 'var(--warning)' : 'var(--accent-orange)';
        }
        
        // Показываем ссылку на профиль
        if (profileNavItem) profileNavItem.style.display = 'block';
        
        // Скрываем кнопку входа администратора если пользователь уже вошел
        if (adminLoginBtn) adminLoginBtn.style.display = 'none';
        
        if (authButton) authButton.textContent = 'Выйти';
        
    } else {
        if (userName) {
            userName.textContent = 'Гость';
        }
        if (userAvatar) {
            userAvatar.textContent = 'Г';
            userAvatar.style.backgroundColor = 'var(--accent-orange)';
        }
        // Скрываем ссылку на профиль
        if (profileNavItem) profileNavItem.style.display = 'none';
        
        // Показываем кнопку входа администратора для гостей
        if (adminLoginBtn) adminLoginBtn.style.display = 'block';
        
        if (authButton) authButton.textContent = 'Войти';
    }
    
    // Обновляем навигацию администратора
    updateAdminNavigation();
}

// ОБНОВЛЕНИЕ НАВИГАЦИИ ДЛЯ АДМИНИСТРАТОРА
function updateAdminNavigation() {
    const nav = document.querySelector('nav ul');
    const existingAdminNav = document.querySelector('[data-page="admin"]');
    
    if (currentUser && currentUser.isAdmin) {
        // Добавляем пункт меню администратора если его нет
        if (!existingAdminNav) {
            const adminNavItem = document.createElement('li');
            adminNavItem.innerHTML = '<a href="#" class="nav-link" data-page="admin">⚙️ Админ</a>';
            nav.appendChild(adminNavItem);
            
            // Обработчик для ссылки администратора
            adminNavItem.querySelector('a').addEventListener('click', function(e) {
                e.preventDefault();
                switchPage('admin');
            });
        }
    } else {
        // Удаляем пункт меню администратора если есть
        if (existingAdminNav) {
            existingAdminNav.remove();
        }
    }
}
// ФУНКЦИИ АДМИНИСТРАТОРА
function initAdminPanel() {
    if (!currentUser || !currentUser.isAdmin) {
        return;
    }
    
    // Обработчик для кнопки выхода
    const adminLogoutBtn = document.getElementById('admin-logout-btn');
    if (adminLogoutBtn) {
        adminLogoutBtn.addEventListener('click', adminLogout);
    }
    
    // Инициализация вкладок администратора
    initAdminTabs();
    
    // Загрузка данных администратора
    loadAdminData();
    
    // Инициализация обработчиков
    initAdminHandlers();
}

function initAdminTabs() {
    // Обработчики для меню администратора
    document.querySelectorAll('#admin .profile-menu-item').forEach(item => {
        item.addEventListener('click', function() {
            // Убрать активный класс у всех пунктов меню
            document.querySelectorAll('#admin .profile-menu-item').forEach(i => {
                i.classList.remove('active');
            });
            
            // Добавить активный класс к выбранному пункту
            this.classList.add('active');
            
            // Показать соответствующую вкладку
            const tabName = this.getAttribute('data-tab');
            document.querySelectorAll('#admin .profile-tab').forEach(tab => {
                tab.classList.remove('active');
            });
            const tabElement = document.getElementById(`${tabName}-tab`);
            if (tabElement) {
                tabElement.classList.add('active');
            }
            
            // Загрузить данные для вкладки
            switch(tabName) {
                case 'admin-overview':
                    loadAdminOverview();
                    break;
                case 'admin-bookings':
                    loadAdminBookings();
                    break;
                case 'admin-users':
                    loadAdminUsers();
                    break;
                case 'admin-schedule':
                    loadAdminSchedule();
                    break;
                case 'admin-content':
                    loadAdminContent();
                    break;
                case 'admin-settings':
                    loadAdminSettings();
                    break;
            }
        });
    });
}

function initAdminHandlers() {
    // Обработчики для кнопок быстрых действий
    document.getElementById('admin-add-booking-btn')?.addEventListener('click', function() {
        document.querySelectorAll('#admin .profile-menu-item').forEach(item => item.classList.remove('active'));
        document.querySelector('[data-tab="admin-bookings"]').classList.add('active');
        document.querySelectorAll('#admin .profile-tab').forEach(tab => tab.classList.remove('active'));
        document.getElementById('admin-bookings-tab').classList.add('active');
        loadAdminBookings();
    });
    
    document.getElementById('admin-manage-schedule-btn')?.addEventListener('click', function() {
        document.querySelectorAll('#admin .profile-menu-item').forEach(item => item.classList.remove('active'));
        document.querySelector('[data-tab="admin-schedule"]').classList.add('active');
        document.querySelectorAll('#admin .profile-tab').forEach(tab => tab.classList.remove('active'));
        document.getElementById('admin-schedule-tab').classList.add('active');
        loadAdminSchedule();
    });
    
    // Обработчики для кнопок в разделе бронирований
    document.getElementById('admin-add-new-booking')?.addEventListener('click', showAddBookingModal);
    document.getElementById('admin-bookings-refresh')?.addEventListener('click', loadAdminBookings);
    
    // Обработчики для расписания
    document.getElementById('admin-schedule-date')?.addEventListener('change', loadAdminSchedule);
    document.getElementById('admin-schedule-block-day')?.addEventListener('click', blockSelectedDay);
    document.getElementById('admin-schedule-clear-day')?.addEventListener('click', clearSelectedDay);
    
    // Обработчики для контента
    document.getElementById('admin-save-content')?.addEventListener('click', saveAdminContent);
    document.getElementById('admin-save-prices')?.addEventListener('click', saveAdminPrices);
    
    // Обработчики для настроек
    document.getElementById('admin-save-settings')?.addEventListener('click', saveAdminSettings);
}

async function loadAdminData() {
    try {
        // Загрузка статистики
        const stats = await fetchAdminStats();
        updateAdminStats(stats);
        
        // Загрузка последних бронирований
        const recentBookings = await fetchRecentBookings();
        updateRecentBookings(recentBookings);
        
    } catch (error) {
        console.error('Failed to load admin data:', error);
        showNotification('Ошибка загрузки данных администратора', 'error');
    }
}

async function fetchAdminStats() {
    // В реальном приложении здесь будет запрос к API
    // Для демонстрации используем заглушку
    return new Promise((resolve) => {
        setTimeout(() => {
            resolve({
                todayBookings: 8,
                todayRevenue: 12400,
                activeUsers: 23,
                availableLanes: 4
            });
        }, 500);
    });
}

function updateAdminStats(stats) {
    document.getElementById('admin-today-bookings-count').textContent = stats.todayBookings || 0;
    document.getElementById('admin-today-revenue').textContent = `${stats.todayRevenue || 0} ₽`;
    document.getElementById('admin-active-users').textContent = stats.activeUsers || 0;
    document.getElementById('admin-available-lanes').textContent = `${stats.availableLanes || 0}/6`;
}

async function fetchRecentBookings() {
    // В реальном приложении здесь будет запрос к API
    return new Promise((resolve) => {
        setTimeout(() => {
            resolve([
                { id: 'BK001', name: 'Иван Петров', phone: '+7 (911) 123-45-67', time: '19:00', lanes: [1, 2], status: 'active' },
                { id: 'BK002', name: 'Мария Сидорова', phone: '+7 (912) 234-56-78', time: '20:00', lanes: [3], status: 'active' },
                { id: 'BK003', name: 'Алексей Козлов', phone: '+7 (913) 345-67-89', time: '18:00', lanes: [4, 5], status: 'completed' }
            ]);
        }, 500);
    });
}

function updateRecentBookings(bookings) {
    const container = document.getElementById('admin-recent-bookings');
    if (!container) return;
    
    if (!bookings || bookings.length === 0) {
        container.innerHTML = '<p>Нет последних бронирований</p>';
        return;
    }
    
    container.innerHTML = bookings.map(booking => `
        <div class="booking-item">
            <div class="booking-info">
                <h4>${booking.id} - ${booking.name}</h4>
                <p>${booking.phone} • ${booking.time} • Дорожки: ${booking.lanes.join(', ')}</p>
                <span class="booking-status ${booking.status === 'active' ? 'status-active' : 
                                          booking.status === 'completed' ? 'status-completed' : 
                                          'status-cancelled'}">
                    ${getStatusText(booking.status)}
                </span>
            </div>
            <div class="booking-actions">
                <button class="btn btn-outline contact-client" data-phone="${booking.phone}">Позвонить</button>
                ${booking.status === 'active' ? 
                    `<button class="btn cancel-btn" data-booking-id="${booking.id}">Отменить</button>` : 
                    ''
                }
            </div>
        </div>
    `).join('');
    
    // Обработчики для кнопок
    container.querySelectorAll('.contact-client').forEach(btn => {
        btn.addEventListener('click', function() {
            const phone = this.getAttribute('data-phone');
            window.open(`tel:${phone}`, '_self');
        });
    });
    
    container.querySelectorAll('.cancel-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const bookingId = this.getAttribute('data-booking-id');
            adminCancelBooking(bookingId);
        });
    });
}

async function loadAdminBookings() {
    try {
        const dateFilter = document.getElementById('admin-bookings-filter-date')?.value;
        const statusFilter = document.getElementById('admin-bookings-filter-status')?.value;
        const searchQuery = document.getElementById('admin-bookings-search')?.value;
        
        const bookings = await fetchAdminBookings(dateFilter, statusFilter, searchQuery);
        updateAdminBookingsList(bookings);
    } catch (error) {
        console.error('Failed to load admin bookings:', error);
        document.getElementById('admin-bookings-list').innerHTML = '<p>Ошибка загрузки бронирований</p>';
    }
}

async function fetchAdminBookings(date, status, search) {
    // В реальном приложении здесь будет запрос к API
    return new Promise((resolve) => {
        setTimeout(() => {
            const allBookings = [
                { id: 'BK001', name: 'Иван Петров', phone: '+7 (911) 123-45-67', date: new Date().toISOString().split('T')[0], time: '19:00', duration: 2, lanes: [1, 2], total: 3000, status: 'active' },
                { id: 'BK002', name: 'Мария Сидорова', phone: '+7 (912) 234-56-78', date: new Date().toISOString().split('T')[0], time: '20:00', duration: 1, lanes: [3], total: 1500, status: 'active' },
                { id: 'BK003', name: 'Алексей Козлов', phone: '+7 (913) 345-67-89', date: new Date().toISOString().split('T')[0], time: '18:00', duration: 3, lanes: [4, 5], total: 4500, status: 'completed' },
                { id: 'BK004', name: 'Ольга Новикова', phone: '+7 (914) 456-78-90', date: new Date().toISOString().split('T')[0], time: '21:00', duration: 2, lanes: [6], total: 3000, status: 'cancelled' }
            ];
            
            let filteredBookings = allBookings;
            
            if (date) {
                filteredBookings = filteredBookings.filter(b => b.date === date);
            }
            
            if (status && status !== 'all') {
                filteredBookings = filteredBookings.filter(b => b.status === status);
            }
            
            if (search) {
                const query = search.toLowerCase();
                filteredBookings = filteredBookings.filter(b => 
                    b.name.toLowerCase().includes(query) || 
                    b.phone.includes(query)
                );
            }
            
            resolve(filteredBookings);
        }, 500);
    });
}

function updateAdminBookingsList(bookings) {
    const container = document.getElementById('admin-bookings-list');
    if (!container) return;
    
    if (!bookings || bookings.length === 0) {
        container.innerHTML = '<p>Бронирований не найдено</p>';
        return;
    }
    
    container.innerHTML = bookings.map(booking => `
        <div class="booking-item">
            <div class="booking-info">
                <h4>${booking.id} - ${booking.name}</h4>
                <p>${booking.phone} • ${booking.date} ${booking.time} (${booking.duration} ч)</p>
                <p>Дорожки: ${booking.lanes.join(', ')} • Стоимость: ${booking.total} ₽</p>
                <span class="booking-status ${booking.status === 'active' ? 'status-active' : 
                                          booking.status === 'completed' ? 'status-completed' : 
                                          'status-cancelled'}">
                    ${getStatusText(booking.status)}
                </span>
            </div>
            <div class="booking-actions">
                <button class="btn btn-outline contact-client" data-phone="${booking.phone}">Позвонить</button>
                ${booking.status === 'active' ? 
                    `<button class="btn cancel-btn" data-booking-id="${booking.id}">Отменить</button>` : 
                    ''
                }
            </div>
        </div>
    `).join('');
    
    // Обработчики для кнопок
    container.querySelectorAll('.contact-client').forEach(btn => {
        btn.addEventListener('click', function() {
            const phone = this.getAttribute('data-phone');
            window.open(`tel:${phone}`, '_self');
        });
    });
    
    container.querySelectorAll('.cancel-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const bookingId = this.getAttribute('data-booking-id');
            adminCancelBooking(bookingId);
        });
    });
}

async function adminCancelBooking(bookingId) {
    if (!confirm('Вы уверены, что хотите отменить это бронирование?')) {
        return;
    }
    
    try {
        // В реальном приложении здесь будет запрос к API
        await new Promise(resolve => setTimeout(resolve, 1000));
        
        showNotification('Бронирование отменено', 'success');
        loadAdminBookings(); // Перезагружаем список
    } catch (error) {
        console.error('Failed to cancel booking:', error);
        showNotification('Ошибка отмены бронирования', 'error');
    }
}

async function loadAdminUsers() {
    try {
        const searchQuery = document.getElementById('admin-users-search')?.value;
        const users = await fetchAdminUsers(searchQuery);
        updateAdminUsersList(users);
    } catch (error) {
        console.error('Failed to load admin users:', error);
        document.getElementById('admin-users-list').innerHTML = '<p>Ошибка загрузки пользователей</p>';
    }
}

async function fetchAdminUsers(search) {
    // В реальном приложении здесь будет запрос к API
    return new Promise((resolve) => {
        setTimeout(() => {
            const allUsers = [
                { id: 1, name: 'Иван Петров', phone: '+7 (911) 123-45-67', email: 'ivan@example.com', bookingsCount: 5, ordersCount: 8, registrationDate: '2023-01-15' },
                { id: 2, name: 'Мария Сидорова', phone: '+7 (912) 234-56-78', email: 'maria@example.com', bookingsCount: 3, ordersCount: 5, registrationDate: '2023-02-20' },
                { id: 3, name: 'Алексей Козлов', phone: '+7 (913) 345-67-89', email: 'alex@example.com', bookingsCount: 7, ordersCount: 12, registrationDate: '2023-01-05' },
                { id: 4, name: 'Ольга Новикова', phone: '+7 (914) 456-78-90', email: 'olga@example.com', bookingsCount: 2, ordersCount: 3, registrationDate: '2023-03-10' }
            ];
            
            let filteredUsers = allUsers;
            
            if (search) {
                const query = search.toLowerCase();
                filteredUsers = filteredUsers.filter(u => 
                    u.name.toLowerCase().includes(query) || 
                    u.phone.includes(query) ||
                    u.email.toLowerCase().includes(query)
                );
            }
            
            resolve(filteredUsers);
        }, 500);
    });
}

function updateAdminUsersList(users) {
    const container = document.getElementById('admin-users-list');
    if (!container) return;
    
    if (!users || users.length === 0) {
        container.innerHTML = '<p>Пользователей не найдено</p>';
        return;
    }
    
    container.innerHTML = users.map(user => `
        <div class="user-item">
            <div class="user-info">
                <h4>${user.name}</h4>
                <p>${user.phone} • ${user.email}</p>
                <p>Бронирований: ${user.bookingsCount} • Заказов: ${user.ordersCount}</p>
                <p>Зарегистрирован: ${new Date(user.registrationDate).toLocaleDateString('ru-RU')}</p>
            </div>
            <div class="user-actions">
                <button class="btn btn-outline contact-client" data-phone="${user.phone}">Позвонить</button>
            </div>
        </div>
    `).join('');
    
    // Обработчики для кнопок
    container.querySelectorAll('.contact-client').forEach(btn => {
        btn.addEventListener('click', function() {
            const phone = this.getAttribute('data-phone');
            window.open(`tel:${phone}`, '_self');
        });
    });
}

async function loadAdminSchedule() {
    const dateInput = document.getElementById('admin-schedule-date');
    if (!dateInput) return;
    
    const selectedDate = dateInput.value || new Date().toISOString().split('T')[0];
    dateInput.value = selectedDate;
    
    // Обновить текстовое представление даты
    const dateObj = new Date(selectedDate);
    const dateText = dateObj.toLocaleDateString('ru-RU', { 
        weekday: 'long', 
        year: 'numeric', 
        month: 'long', 
        day: 'numeric' 
    });
    
    const scheduleDateText = document.getElementById('admin-schedule-date-text');
    if (scheduleDateText) {
        scheduleDateText.textContent = dateText;
    }
    
    // Заполнить расписание
    fillAdminScheduleGrid('admin-schedule', selectedDate);
}

function fillAdminScheduleGrid(gridId, date) {
    const grid = document.getElementById(gridId);
    if (!grid) return;
    
    const times = ["12:00", "13:00", "14:00", "15:00", "16:00", "17:00", "18:00", "19:00", "20:00", "21:00", "22:00", "23:00"];
    const lanes = 6;
    
    grid.innerHTML = '';
    
    // Заголовки
    grid.appendChild(createScheduleCell('Время', true, true));
    for (let i = 1; i <= lanes; i++) {
        grid.appendChild(createScheduleCell(`Дор. ${i}`, true, true));
    }
    
    // Заполнить данные
    times.forEach(time => {
        grid.appendChild(createScheduleCell(time, false, true));
        for (let i = 0; i < lanes; i++) {
            const status = scheduleData[date] && scheduleData[date][time] ? scheduleData[date][time][i] : "free";
            const cell = createScheduleCell(status === "free" ? "Свободно" : status === "booked" ? "Занято" : "Заблок.", false, true);
            
            // Добавить класс в зависимости от статуса
            cell.classList.add(status);
            
            // Добавить обработчик клика для изменения статуса
            cell.addEventListener('click', function() {
                toggleScheduleCellStatus(this, date, time, i);
            });
            
            grid.appendChild(cell);
        }
    });
}

function createScheduleCell(content, isHeader = false, isAdmin = false) {
    const cell = document.createElement('div');
    cell.className = isHeader ? 'schedule-header' : (isAdmin ? 'admin-schedule-cell' : 'schedule-cell');
    cell.textContent = content;
    return cell;
}

function toggleScheduleCellStatus(cell, date, time, laneIndex) {
    if (!scheduleData[date]) {
        scheduleData[date] = {};
    }
    if (!scheduleData[date][time]) {
        scheduleData[date][time] = Array(6).fill("free");
    }
    
    const currentStatus = scheduleData[date][time][laneIndex];
    let newStatus;
    
    // Циклическое переключение статусов: free -> booked -> blocked -> free
    if (currentStatus === "free") {
        newStatus = "booked";
    } else if (currentStatus === "booked") {
        newStatus = "blocked";
    } else {
        newStatus = "free";
    }
    
    // Обновить данные
    scheduleData[date][time][laneIndex] = newStatus;
    
    // Обновить внешний вид ячейки
    cell.className = `admin-schedule-cell ${newStatus}`;
    cell.textContent = newStatus === "free" ? "Свободно" : newStatus === "booked" ? "Занято" : "Заблок.";
    
    // Сохранить изменения
    saveScheduleChanges(date);
}

function saveScheduleChanges(date) {
    // В реальном приложении здесь будет запрос к API
    console.log('Schedule changes saved for date:', date, scheduleData[date]);
    showNotification('Изменения в расписании сохранены', 'success');
}

function blockSelectedDay() {
    const dateInput = document.getElementById('admin-schedule-date');
    if (!dateInput || !dateInput.value) {
        showNotification('Выберите дату', 'error');
        return;
    }
    
    const date = dateInput.value;
    const times = ["12:00", "13:00", "14:00", "15:00", "16:00", "17:00", "18:00", "19:00", "20:00", "21:00", "22:00", "23:00"];
    
    if (!scheduleData[date]) {
        scheduleData[date] = {};
    }
    
    times.forEach(time => {
        scheduleData[date][time] = Array(6).fill("blocked");
    });
    
    // Обновить отображение
    fillAdminScheduleGrid('admin-schedule', date);
    saveScheduleChanges(date);
}

function clearSelectedDay() {
    const dateInput = document.getElementById('admin-schedule-date');
    if (!dateInput || !dateInput.value) {
        showNotification('Выберите дату', 'error');
        return;
    }
    
    const date = dateInput.value;
    const times = ["12:00", "13:00", "14:00", "15:00", "16:00", "17:00", "18:00", "19:00", "20:00", "21:00", "22:00", "23:00"];
    
    if (!scheduleData[date]) {
        scheduleData[date] = {};
    }
    
    times.forEach(time => {
        scheduleData[date][time] = Array(6).fill("free");
    });
    
    // Обновить отображение
    fillAdminScheduleGrid('admin-schedule', date);
    saveScheduleChanges(date);
}

function loadAdminContent() {
    // Загрузить сохраненный контент
    const aboutText = localStorage.getItem('admin-about-text') || '';
    const rulesText = localStorage.getItem('admin-rules-text') || '';
    
    document.getElementById('admin-about-text').value = aboutText;
    document.getElementById('admin-rules-text').value = rulesText;
    
    // Загрузить редактор цен
    loadPriceEditor();
}

function loadPriceEditor() {
    const container = document.getElementById('admin-prices-editor');
    if (!container) return;
    
    // В реальном приложении здесь будут загружаться текущие цены
    const prices = [
        { period: 'Пн-Чт 12:00-18:00', price: 800 },
        { period: 'Пн-Чт 18:00-00:00', price: 1100 },
        { period: 'Пт 12:00-18:00', price: 1100 },
        { period: 'Пт 18:00-00:00', price: 1500 },
        { period: 'Сб-Вс 12:00-00:00', price: 1500 }
    ];
    
    container.innerHTML = prices.map(price => `
        <div class="price-editor-item">
            <span style="flex: 2;">${price.period}</span>
            <input type="number" class="form-control" value="${price.price}" style="flex: 1;">
            <span>₽/час</span>
        </div>
    `).join('');
}

function saveAdminContent() {
    const aboutText = document.getElementById('admin-about-text').value;
    const rulesText = document.getElementById('admin-rules-text').value;
    
    // Сохранить в localStorage (в реальном приложении - в базу данных)
    localStorage.setItem('admin-about-text', aboutText);
    localStorage.setItem('admin-rules-text', rulesText);
    
    showNotification('Контент успешно сохранен', 'success');
}

function saveAdminPrices() {
    const priceItems = document.querySelectorAll('.price-editor-item');
    const prices = [];
    
    priceItems.forEach(item => {
        const period = item.querySelector('span').textContent;
        const price = parseInt(item.querySelector('input').value);
        prices.push({ period, price });
    });
    
    // Сохранить цены (в реальном приложении - в базу данных)
    localStorage.setItem('admin-prices', JSON.stringify(prices));
    
    showNotification('Цены успешно сохранены', 'success');
}

function loadAdminSettings() {
    // Загрузить сохраненные настройки
    const businessHours = localStorage.getItem('admin-business-hours') || 'Пн-Чт: 12:00-00:00, Пт-Сб: 12:00-00:00, Вс: 12:00-00:00';
    const contactPhone = localStorage.getItem('admin-contact-phone') || '+7 (8172) 53-78-48';
    const contactAddress = localStorage.getItem('admin-contact-address') || 'г. Вологда, ул. Ярославская, д. 2';
    const minBookingTime = localStorage.getItem('admin-min-booking-time') || '1';
    const maxBookingTime = localStorage.getItem('admin-max-booking-time') || '3';
    const maxLanesPerBooking = localStorage.getItem('admin-max-lanes-per-booking') || '3';
    
    document.getElementById('admin-business-hours').value = businessHours;
    document.getElementById('admin-contact-phone').value = contactPhone;
    document.getElementById('admin-contact-address').value = contactAddress;
    document.getElementById('admin-min-booking-time').value = minBookingTime;
    document.getElementById('admin-max-booking-time').value = maxBookingTime;
    document.getElementById('admin-max-lanes-per-booking').value = maxLanesPerBooking;
}

function saveAdminSettings() {
    const businessHours = document.getElementById('admin-business-hours').value;
    const contactPhone = document.getElementById('admin-contact-phone').value;
    const contactAddress = document.getElementById('admin-contact-address').value;
    const minBookingTime = document.getElementById('admin-min-booking-time').value;
    const maxBookingTime = document.getElementById('admin-max-booking-time').value;
    const maxLanesPerBooking = document.getElementById('admin-max-lanes-per-booking').value;
    
    // Сохранить настройки (в реальном приложении - в базу данных)
    localStorage.setItem('admin-business-hours', businessHours);
    localStorage.setItem('admin-contact-phone', contactPhone);
    localStorage.setItem('admin-contact-address', contactAddress);
    localStorage.setItem('admin-min-booking-time', minBookingTime);
    localStorage.setItem('admin-max-booking-time', maxBookingTime);
    localStorage.setItem('admin-max-lanes-per-booking', maxLanesPerBooking);
    
    showNotification('Настройки успешно сохранены', 'success');
}

function showAddBookingModal() {
    // В реальном приложении здесь будет модальное окно для добавления бронирования
    showNotification('Функция добавления бронирования в разработке', 'warning');
}

function adminLogout() {
    currentUser.isAdmin = false;
    delete currentUser.adminName;
    
    localStorage.removeItem('adminSession');
    updateUserUI();
    
    // Если мы на странице администратора, переходим на главную
    if (document.getElementById('admin').classList.contains('active')) {
        switchPage('home');
    }
    
    showNotification('Вы вышли из режима администратора', 'success');
}

// Инициализация панели администратора при загрузке
document.addEventListener('DOMContentLoaded', function() {
    // ... существующий код ...
    
    // Инициализация панели администратора
    initAdminPanel();
});
    </script>
</body>  
</html>